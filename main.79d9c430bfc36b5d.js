(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{4442:(Zi,xn,pe)=>{"use strict";pe.d(xn,{L:()=>k,a:()=>Xt,b:()=>je,c:()=>$t,d:()=>Zt,g:()=>hn}),pe(5531);const k="ionViewWillEnter",Xt="ionViewDidEnter",je="ionViewWillLeave",$t="ionViewDidLeave",Zt="ionViewWillUnload",hn=Ke=>Ke.classList.contains("ion-page")?Ke:Ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ke},5531:(Zi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>Yt,c:()=>m,g:()=>Zt});class b{constructor(){this.m=new Map}reset(Ke){this.m=new Map(Object.entries(Ke))}get(Ke,ve){const me=this.m.get(Ke);return void 0!==me?me:ve}getBoolean(Ke,ve=!1){const me=this.m.get(Ke);return void 0===me?ve:"string"==typeof me?"true"===me:!!me}getNumber(Ke,ve){const me=parseFloat(this.m.get(Ke));return isNaN(me)?void 0!==ve?ve:NaN:me}set(Ke,ve){this.m.set(Ke,ve)}}const m=new b,Zt=hn=>rt(hn),Yt=(hn,Ke)=>("string"==typeof hn&&(Ke=hn,hn=void 0),Zt(hn).includes(Ke)),rt=(hn=window)=>{if(typeof hn>"u")return[];hn.Ionic=hn.Ionic||{};let Ke=hn.Ionic.platforms;return null==Ke&&(Ke=hn.Ionic.platforms=At(hn),Ke.forEach(ve=>hn.document.documentElement.classList.add(`plt-${ve}`))),Ke},At=hn=>{const Ke=m.get("platform");return Object.keys(pi).filter(ve=>{const me=null==Ke?void 0:Ke[ve];return"function"==typeof me?me(hn):pi[ve](hn)})},pt=hn=>!!(pn(hn,/iPad/i)||pn(hn,/Macintosh/i)&&jt(hn)),Ut=hn=>pn(hn,/android|sink/i),jt=hn=>Tn(hn,"(any-pointer:coarse)"),Bt=hn=>Vt(hn)||Qt(hn),Vt=hn=>!!(hn.cordova||hn.phonegap||hn.PhoneGap),Qt=hn=>{const Ke=hn.Capacitor;return!(null==Ke||!Ke.isNative)},pn=(hn,Ke)=>Ke.test(hn.navigator.userAgent),Tn=(hn,Ke)=>{var ve;return null===(ve=hn.matchMedia)||void 0===ve?void 0:ve.call(hn,Ke).matches},pi={ipad:pt,iphone:hn=>pn(hn,/iPhone/i),ios:hn=>pn(hn,/iPhone|iPod/i)||pt(hn),android:Ut,phablet:hn=>{const Ke=hn.innerWidth,ve=hn.innerHeight,me=Math.min(Ke,ve),Ie=Math.max(Ke,ve);return me>390&&me<520&&Ie>620&&Ie<800},tablet:hn=>{const Ke=hn.innerWidth,ve=hn.innerHeight,me=Math.min(Ke,ve),Ie=Math.max(Ke,ve);return pt(hn)||(hn=>Ut(hn)&&!pn(hn,/mobile/i))(hn)||me>460&&me<820&&Ie>780&&Ie<1400},cordova:Vt,capacitor:Qt,electron:hn=>pn(hn,/electron/i),pwa:hn=>{var Ke;return!!(null!==(Ke=hn.matchMedia)&&void 0!==Ke&&Ke.call(hn,"(display-mode: standalone)").matches||hn.navigator.standalone)},mobile:jt,mobileweb:hn=>jt(hn)&&!Bt(hn),desktop:hn=>!jt(hn),hybrid:Bt}},9986:(Zi,xn,pe)=>{"use strict";pe.d(xn,{c:()=>Xt});var b=pe(8476);let m;const Et=(je,$t,Zt)=>{const Yt=$t.startsWith("animation")?(je=>(void 0===m&&(m=void 0===je.style.animationName&&void 0!==je.style.webkitAnimationName?"-webkit-":""),m))(je):"";je.style.setProperty(Yt+$t,Zt)},k=(je=[],$t)=>{if(void 0!==$t){const Zt=Array.isArray($t)?$t:[$t];return[...je,...Zt]}return je},Xt=je=>{let $t,Zt,Yt,rt,At,xt,Gt,en,gt,pn,An,pt=[],It=[],rn=[],Ut=!1,fn={},Tt=[],jt=[],st={},Bt=0,Vt=!1,Qt=!1,Tn=!0,pi=!1,Ci=!0,Ei=!1;const hn=je,Ke=[],ve=[],me=[],Ie=[],at=[],Pt=[],Wt=[],yt=[],Xn=[],dr=[],bi=[],or="function"==typeof AnimationEffect||void 0!==b.w&&"function"==typeof b.w.AnimationEffect,rr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&or,fr=()=>bi,ri=(ye,we)=>{const ut=we.findIndex(de=>de.c===ye);ut>-1&&we.splice(ut,1)},nn=(ye,we)=>((null!=we&&we.oneTimeCallback?ve:Ke).push({c:ye,o:we}),An),gi=()=>{rr&&(bi.forEach(ye=>{ye.cancel()}),bi.length=0)},hr=()=>{Pt.forEach(ye=>{null!=ye&&ye.parentNode&&ye.parentNode.removeChild(ye)}),Pt.length=0},Ir=()=>void 0!==At?At:Gt?Gt.getFill():"both",xr=()=>void 0!==en?en:void 0!==xt?xt:Gt?Gt.getDirection():"normal",ds=()=>Vt?"linear":void 0!==Yt?Yt:Gt?Gt.getEasing():"linear",Wi=()=>Qt?0:void 0!==gt?gt:void 0!==Zt?Zt:Gt?Gt.getDuration():0,Xr=()=>void 0!==rt?rt:Gt?Gt.getIterations():1,jo=()=>void 0!==pn?pn:void 0!==$t?$t:Gt?Gt.getDelay():0,ro=()=>{0!==Bt&&(Bt--,0===Bt&&((()=>{Xn.forEach(Je=>Je()),dr.forEach(Je=>Je());const ye=Tn?1:0,we=Tt,ut=jt,de=st;Ie.forEach(Je=>{const Lt=Je.classList;we.forEach(Ln=>Lt.add(Ln)),ut.forEach(Ln=>Lt.remove(Ln));for(const Ln in de)de.hasOwnProperty(Ln)&&Et(Je,Ln,de[Ln])}),gt=void 0,en=void 0,pn=void 0,Ke.forEach(Je=>Je.c(ye,An)),ve.forEach(Je=>Je.c(ye,An)),ve.length=0,Ci=!0,Tn&&(pi=!0),Tn=!0})(),Gt&&Gt.animationFinish()))},so=()=>{(()=>{Wt.forEach(de=>de()),yt.forEach(de=>de());const ye=It,we=rn,ut=fn;Ie.forEach(de=>{const Je=de.classList;ye.forEach(Lt=>Je.add(Lt)),we.forEach(Lt=>Je.remove(Lt));for(const Lt in ut)ut.hasOwnProperty(Lt)&&Et(de,Lt,ut[Lt])})})(),pt.length>0&&rr&&(Ie.forEach(ye=>{const we=ye.animate(pt,{id:hn,delay:jo(),duration:Wi(),easing:ds(),iterations:Xr(),fill:Ir(),direction:xr()});we.pause(),bi.push(we)}),bi.length>0&&(bi[0].onfinish=()=>{ro()})),Ut=!0},Cs=ye=>{ye=Math.min(Math.max(ye,0),.9999),rr&&bi.forEach(we=>{we.currentTime=we.effect.getComputedTiming().delay+Wi()*ye,we.pause()})},Ji=ye=>{bi.forEach(we=>{we.effect.updateTiming({delay:jo(),duration:Wi(),easing:ds(),iterations:Xr(),fill:Ir(),direction:xr()})}),void 0!==ye&&Cs(ye)},Fo=(ye=!1,we=!0,ut)=>(ye&&at.forEach(de=>{de.update(ye,we,ut)}),rr&&Ji(ut),An),ko=()=>{Ut&&(rr?bi.forEach(ye=>{ye.pause()}):Ie.forEach(ye=>{Et(ye,"animation-play-state","paused")}),Ei=!0)},Os=ye=>new Promise(we=>{null!=ye&&ye.sync&&(Qt=!0,nn(()=>Qt=!1,{oneTimeCallback:!0})),Ut||so(),pi&&(rr&&(Cs(0),Ji()),pi=!1),Ci&&(Bt=at.length+1,Ci=!1);const ut=()=>{ri(de,ve),we()},de=()=>{ri(ut,me),we()};nn(de,{oneTimeCallback:!0}),((ye,we)=>{me.push({c:ye,o:{oneTimeCallback:!0}})})(ut),at.forEach(Je=>{Je.play()}),rr?(bi.forEach(ye=>{ye.play()}),(0===pt.length||0===Ie.length)&&ro()):ro(),Ei=!1}),Ws=(ye,we)=>{const ut=pt[0];return void 0===ut||void 0!==ut.offset&&0!==ut.offset?pt=[{offset:0,[ye]:we},...pt]:ut[ye]=we,An};return An={parentAnimation:Gt,elements:Ie,childAnimations:at,id:hn,animationFinish:ro,from:Ws,to:(ye,we)=>{const ut=pt[pt.length-1];return void 0===ut||void 0!==ut.offset&&1!==ut.offset?pt=[...pt,{offset:1,[ye]:we}]:ut[ye]=we,An},fromTo:(ye,we,ut)=>Ws(ye,we).to(ye,ut),parent:ye=>(Gt=ye,An),play:Os,pause:()=>(at.forEach(ye=>{ye.pause()}),ko(),An),stop:()=>{at.forEach(ye=>{ye.stop()}),Ut&&(gi(),Ut=!1),Vt=!1,Qt=!1,Ci=!0,en=void 0,gt=void 0,pn=void 0,Bt=0,pi=!1,Tn=!0,Ei=!1,me.forEach(ye=>ye.c(0,An)),me.length=0},destroy:ye=>(at.forEach(we=>{we.destroy(ye)}),(ye=>{gi(),ye&&hr()})(ye),Ie.length=0,at.length=0,pt.length=0,Ke.length=0,ve.length=0,Ut=!1,Ci=!0,An),keyframes:ye=>{const we=pt!==ye;return pt=ye,we&&(ye=>{rr&&fr().forEach(we=>{const ut=we.effect;if(ut.setKeyframes)ut.setKeyframes(ye);else{const de=new KeyframeEffect(ut.target,ye,ut.getTiming());we.effect=de}})})(pt),An},addAnimation:ye=>{if(null!=ye)if(Array.isArray(ye))for(const we of ye)we.parent(An),at.push(we);else ye.parent(An),at.push(ye);return An},addElement:ye=>{if(null!=ye)if(1===ye.nodeType)Ie.push(ye);else if(ye.length>=0)for(let we=0;we<ye.length;we++)Ie.push(ye[we]);else console.error("Invalid addElement value");return An},update:Fo,fill:ye=>(At=ye,Fo(!0),An),direction:ye=>(xt=ye,Fo(!0),An),iterations:ye=>(rt=ye,Fo(!0),An),duration:ye=>(!rr&&0===ye&&(ye=1),Zt=ye,Fo(!0),An),easing:ye=>(Yt=ye,Fo(!0),An),delay:ye=>($t=ye,Fo(!0),An),getWebAnimations:fr,getKeyframes:()=>pt,getFill:Ir,getDirection:xr,getDelay:jo,getIterations:Xr,getEasing:ds,getDuration:Wi,afterAddRead:ye=>(Xn.push(ye),An),afterAddWrite:ye=>(dr.push(ye),An),afterClearStyles:(ye=[])=>{for(const we of ye)st[we]="";return An},afterStyles:(ye={})=>(st=ye,An),afterRemoveClass:ye=>(jt=k(jt,ye),An),afterAddClass:ye=>(Tt=k(Tt,ye),An),beforeAddRead:ye=>(Wt.push(ye),An),beforeAddWrite:ye=>(yt.push(ye),An),beforeClearStyles:(ye=[])=>{for(const we of ye)fn[we]="";return An},beforeStyles:(ye={})=>(fn=ye,An),beforeRemoveClass:ye=>(rn=k(rn,ye),An),beforeAddClass:ye=>(It=k(It,ye),An),onFinish:nn,isRunning:()=>0!==Bt&&!Ei,progressStart:(ye=!1,we)=>(at.forEach(ut=>{ut.progressStart(ye,we)}),ko(),Vt=ye,Ut||so(),Fo(!1,!0,we),An),progressStep:ye=>(at.forEach(we=>{we.progressStep(ye)}),Cs(ye),An),progressEnd:(ye,we,ut)=>(Vt=!1,at.forEach(de=>{de.progressEnd(ye,we,ut)}),void 0!==ut&&(gt=ut),pi=!1,Tn=!0,0===ye?(en="reverse"===xr()?"normal":"reverse","reverse"===en&&(Tn=!1),rr?(Fo(),Cs(1-we)):(pn=(1-we)*Wi()*-1,Fo(!1,!1))):1===ye&&(rr?(Fo(),Cs(we)):(pn=we*Wi()*-1,Fo(!1,!1))),void 0!==ye&&!Gt&&Os(),An)}}},464:(Zi,xn,pe)=>{"use strict";pe.d(xn,{E:()=>Yt,a:()=>b,s:()=>$t});const b=rt=>{try{if(rt instanceof je)return rt.value;if(!Et()||"string"!=typeof rt||""===rt)return rt;if(rt.includes("onload="))return"";const At=document.createDocumentFragment(),xt=document.createElement("div");At.appendChild(xt),xt.innerHTML=rt,Xt.forEach(Ut=>{const Gt=At.querySelectorAll(Ut);for(let fn=Gt.length-1;fn>=0;fn--){const Tt=Gt[fn];Tt.parentNode?Tt.parentNode.removeChild(Tt):At.removeChild(Tt);const jt=ke(Tt);for(let st=0;st<jt.length;st++)m(jt[st])}});const pt=ke(At);for(let Ut=0;Ut<pt.length;Ut++)m(pt[Ut]);const It=document.createElement("div");It.appendChild(At);const rn=It.querySelector("div");return null!==rn?rn.innerHTML:It.innerHTML}catch(At){return console.error(At),""}},m=rt=>{if(rt.nodeType&&1!==rt.nodeType)return;if(typeof NamedNodeMap<"u"&&!(rt.attributes instanceof NamedNodeMap))return void rt.remove();for(let xt=rt.attributes.length-1;xt>=0;xt--){const pt=rt.attributes.item(xt),It=pt.name;if(!k.includes(It.toLowerCase())){rt.removeAttribute(It);continue}const rn=pt.value,Ut=rt[It];(null!=rn&&rn.toLowerCase().includes("javascript:")||null!=Ut&&Ut.toLowerCase().includes("javascript:"))&&rt.removeAttribute(It)}const At=ke(rt);for(let xt=0;xt<At.length;xt++)m(At[xt])},ke=rt=>null!=rt.children?rt.children:rt.childNodes,Et=()=>{var rt;const At=window,xt=null===(rt=null==At?void 0:At.Ionic)||void 0===rt?void 0:rt.config;return!xt||(xt.get?xt.get("sanitizerEnabled",!0):!0===xt.sanitizerEnabled||void 0===xt.sanitizerEnabled)},k=["class","id","href","src","name","slot"],Xt=["script","style","iframe","meta","link","object","embed"];class je{constructor(At){this.value=At}}const $t=rt=>{const At=window,xt=At.Ionic;if(!xt||!xt.config||"Object"===xt.config.constructor.name)return At.Ionic=At.Ionic||{},At.Ionic.config=Object.assign(Object.assign({},At.Ionic.config),rt),At.Ionic.config},Yt=!1},8621:(Zi,xn,pe)=>{"use strict";pe.d(xn,{C:()=>k,a:()=>ke,d:()=>Et});var b=pe(467),m=pe(4920);const ke=function(){var Xt=(0,b.A)(function*(je,$t,Zt,Yt,rt,At){var xt;if(je)return je.attachViewToDom($t,Zt,rt,Yt);if(!(At||"string"==typeof Zt||Zt instanceof HTMLElement))throw new Error("framework delegate is missing");const pt="string"==typeof Zt?null===(xt=$t.ownerDocument)||void 0===xt?void 0:xt.createElement(Zt):Zt;return Yt&&Yt.forEach(It=>pt.classList.add(It)),rt&&Object.assign(pt,rt),$t.appendChild(pt),yield new Promise(It=>(0,m.c)(pt,It)),pt});return function($t,Zt,Yt,rt,At,xt){return Xt.apply(this,arguments)}}(),Et=(Xt,je)=>{if(je){if(Xt)return Xt.removeViewFromDom(je.parentElement,je);je.remove()}return Promise.resolve()},k=()=>{let Xt,je;return{attachViewToDom:function(){var Yt=(0,b.A)(function*(rt,At,xt={},pt=[]){var It,rn;let Ut;if(Xt=rt,At){const fn="string"==typeof At?null===(It=Xt.ownerDocument)||void 0===It?void 0:It.createElement(At):At;pt.forEach(Tt=>fn.classList.add(Tt)),Object.assign(fn,xt),Xt.appendChild(fn),Ut=fn,yield new Promise(Tt=>(0,m.c)(fn,Tt))}else if(Xt.children.length>0&&("ION-MODAL"===Xt.tagName||"ION-POPOVER"===Xt.tagName)&&!(Ut=Xt.children[0]).classList.contains("ion-delegate-host")){const Tt=null===(rn=Xt.ownerDocument)||void 0===rn?void 0:rn.createElement("div");Tt.classList.add("ion-delegate-host"),pt.forEach(jt=>Tt.classList.add(jt)),Tt.append(...Xt.children),Xt.appendChild(Tt),Ut=Tt}const Gt=document.querySelector("ion-app")||document.body;return je=document.createComment("ionic teleport"),Xt.parentNode.insertBefore(je,Xt),Gt.appendChild(Xt),null!=Ut?Ut:Xt});return function(At,xt){return Yt.apply(this,arguments)}}(),removeViewFromDom:()=>(Xt&&je&&(je.parentNode.insertBefore(Xt,je),je.remove()),Promise.resolve())}}},1970:(Zi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>Et,G:()=>k});class m{constructor(je,$t,Zt,Yt,rt){this.id=$t,this.name=Zt,this.disableScroll=rt,this.priority=1e6*Yt+$t,this.ctrl=je}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const je=this.ctrl.capture(this.name,this.id,this.priority);return je&&this.disableScroll&&this.ctrl.disableScroll(this.id),je}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ke{constructor(je,$t,Zt,Yt){this.id=$t,this.disable=Zt,this.disableScroll=Yt,this.ctrl=je}block(){if(this.ctrl){if(this.disable)for(const je of this.disable)this.ctrl.disableGesture(je,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const je of this.disable)this.ctrl.enableGesture(je,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Et="backdrop-no-scroll",k=new class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(je){var $t;return new m(this,this.newID(),je.name,null!==($t=je.priority)&&void 0!==$t?$t:0,!!je.disableScroll)}createBlocker(je={}){return new ke(this,this.newID(),je.disable,!!je.disableScroll)}start(je,$t,Zt){return this.canStart(je)?(this.requestedStart.set($t,Zt),!0):(this.requestedStart.delete($t),!1)}capture(je,$t,Zt){if(!this.start(je,$t,Zt))return!1;const Yt=this.requestedStart;let rt=-1e4;if(Yt.forEach(At=>{rt=Math.max(rt,At)}),rt===Zt){this.capturedId=$t,Yt.clear();const At=new CustomEvent("ionGestureCaptured",{detail:{gestureName:je}});return document.dispatchEvent(At),!0}return Yt.delete($t),!1}release(je){this.requestedStart.delete(je),this.capturedId===je&&(this.capturedId=void 0)}disableGesture(je,$t){let Zt=this.disabledGestures.get(je);void 0===Zt&&(Zt=new Set,this.disabledGestures.set(je,Zt)),Zt.add($t)}enableGesture(je,$t){const Zt=this.disabledGestures.get(je);void 0!==Zt&&Zt.delete($t)}disableScroll(je){this.disabledScroll.add(je),1===this.disabledScroll.size&&document.body.classList.add(Et)}enableScroll(je){this.disabledScroll.delete(je),0===this.disabledScroll.size&&document.body.classList.remove(Et)}canStart(je){return!(void 0!==this.capturedId||this.isDisabled(je))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(je){const $t=this.disabledGestures.get(je);return!!($t&&$t.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{MENU_BACK_BUTTON_PRIORITY:()=>Zt,OVERLAY_BACK_BUTTON_PRIORITY:()=>$t,blockHardwareBackButton:()=>Xt,shouldUseCloseWatcher:()=>k,startHardwareBackButton:()=>je});var b=pe(467),m=pe(8476),ke=pe(3664);pe(9672);const k=()=>ke.c.get("experimentalCloseWatcher",!1)&&void 0!==m.w&&"CloseWatcher"in m.w,Xt=()=>{document.addEventListener("backbutton",()=>{})},je=()=>{const Yt=document;let rt=!1;const At=()=>{if(rt)return;let xt=0,pt=[];const It=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Gt,fn){pt.push({priority:Gt,handler:fn,id:xt++})}}});Yt.dispatchEvent(It);const rn=function(){var Gt=(0,b.A)(function*(fn){try{if(null!=fn&&fn.handler){const Tt=fn.handler(Ut);null!=Tt&&(yield Tt)}}catch(Tt){console.error(Tt)}});return function(Tt){return Gt.apply(this,arguments)}}(),Ut=()=>{if(pt.length>0){let Gt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pt.forEach(fn=>{fn.priority>=Gt.priority&&(Gt=fn)}),rt=!0,pt=pt.filter(fn=>fn.id!==Gt.id),rn(Gt).then(()=>rt=!1)}};Ut()};if(k()){let xt;const pt=()=>{null==xt||xt.destroy(),xt=new m.w.CloseWatcher,xt.onclose=()=>{At(),pt()}};pt()}else Yt.addEventListener("backbutton",At)},$t=100,Zt=99},4920:(Zi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>$t,b:()=>Zt,c:()=>ke,d:()=>pt,e:()=>fn,f:()=>xt,g:()=>Yt,h:()=>k,i:()=>je,j:()=>It,k:()=>Et,l:()=>At,m:()=>rn,n:()=>Gt,o:()=>Tt,p:()=>Ut,r:()=>rt,s:()=>jt,t:()=>b});const b=(st,Bt=0)=>new Promise(Vt=>{m(st,Bt,Vt)}),m=(st,Bt=0,Vt)=>{let Qt,en;const gt={passive:!0},Tn=()=>{Qt&&Qt()},pi=Ci=>{(void 0===Ci||st===Ci.target)&&(Tn(),Vt(Ci))};return st&&(st.addEventListener("webkitTransitionEnd",pi,gt),st.addEventListener("transitionend",pi,gt),en=setTimeout(pi,Bt+500),Qt=()=>{void 0!==en&&(clearTimeout(en),en=void 0),st.removeEventListener("webkitTransitionEnd",pi,gt),st.removeEventListener("transitionend",pi,gt)}),Tn},ke=(st,Bt)=>{st.componentOnReady?st.componentOnReady().then(Vt=>Bt(Vt)):rt(()=>Bt(st))},Et=st=>void 0!==st.componentOnReady,k=(st,Bt=[])=>{const Vt={};return Bt.forEach(Qt=>{st.hasAttribute(Qt)&&(null!==st.getAttribute(Qt)&&(Vt[Qt]=st.getAttribute(Qt)),st.removeAttribute(Qt))}),Vt},Xt=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],je=(st,Bt)=>{let Vt=Xt;return Bt&&Bt.length>0&&(Vt=Vt.filter(Qt=>!Bt.includes(Qt))),k(st,Vt)},$t=(st,Bt,Vt,Qt)=>{var en;if(typeof window<"u"){const gt=window,pn=null===(en=null==gt?void 0:gt.Ionic)||void 0===en?void 0:en.config;if(pn){const Tn=pn.get("_ael");if(Tn)return Tn(st,Bt,Vt,Qt);if(pn._ael)return pn._ael(st,Bt,Vt,Qt)}}return st.addEventListener(Bt,Vt,Qt)},Zt=(st,Bt,Vt,Qt)=>{var en;if(typeof window<"u"){const gt=window,pn=null===(en=null==gt?void 0:gt.Ionic)||void 0===en?void 0:en.config;if(pn){const Tn=pn.get("_rel");if(Tn)return Tn(st,Bt,Vt,Qt);if(pn._rel)return pn._rel(st,Bt,Vt,Qt)}}return st.removeEventListener(Bt,Vt,Qt)},Yt=(st,Bt=st)=>st.shadowRoot||Bt,rt=st=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(st):"function"==typeof requestAnimationFrame?requestAnimationFrame(st):setTimeout(st),At=st=>!!st.shadowRoot&&!!st.attachShadow,xt=st=>{if(st.focus(),st.classList.contains("ion-focusable")){const Bt=st.closest("ion-app");Bt&&Bt.setFocus([st])}},pt=(st,Bt,Vt,Qt,en)=>{if(st||At(Bt)){let gt=Bt.querySelector("input.aux-input");gt||(gt=Bt.ownerDocument.createElement("input"),gt.type="hidden",gt.classList.add("aux-input"),Bt.appendChild(gt)),gt.disabled=en,gt.name=Vt,gt.value=Qt||""}},It=(st,Bt,Vt)=>Math.max(st,Math.min(Bt,Vt)),rn=(st,Bt)=>{if(!st){const Vt="ASSERT: "+Bt;throw console.error(Vt),new Error(Vt)}},Ut=st=>{if(st){const Bt=st.changedTouches;if(Bt&&Bt.length>0){const Vt=Bt[0];return{x:Vt.clientX,y:Vt.clientY}}if(void 0!==st.pageX)return{x:st.pageX,y:st.pageY}}return{x:0,y:0}},Gt=st=>{const Bt="rtl"===document.dir;switch(st){case"start":return Bt;case"end":return!Bt;default:throw new Error(`"${st}" is not a valid value for [side]. Use "start" or "end" instead.`)}},fn=(st,Bt)=>{const Vt=st._original||st;return{_original:st,emit:Tt(Vt.emit.bind(Vt),Bt)}},Tt=(st,Bt=0)=>{let Vt;return(...Qt)=>{clearTimeout(Vt),Vt=setTimeout(st,Bt,...Qt)}},jt=(st,Bt)=>{if(null!=st||(st={}),null!=Bt||(Bt={}),st===Bt)return!0;const Vt=Object.keys(st);if(Vt.length!==Object.keys(Bt).length)return!1;for(const Qt of Vt)if(!(Qt in Bt)||st[Qt]!==Bt[Qt])return!1;return!0}},5465:(Zi,xn,pe)=>{"use strict";pe.d(xn,{m:()=>xt});var b=pe(467),m=pe(8476),ke=pe(6411),Et=pe(4929),k=pe(4920),Xt=pe(3664),je=pe(9986);const $t=pt=>(0,je.c)().duration(pt?400:300),Zt=pt=>{let It,rn;const Ut=pt.width+8,Gt=(0,je.c)(),fn=(0,je.c)();pt.isEndSide?(It=Ut+"px",rn="0px"):(It=-Ut+"px",rn="0px"),Gt.addElement(pt.menuInnerEl).fromTo("transform",`translateX(${It})`,`translateX(${rn})`);const jt="ios"===(0,Xt.b)(pt),st=jt?.2:.25;return fn.addElement(pt.backdropEl).fromTo("opacity",.01,st),$t(jt).addAnimation([Gt,fn])},Yt=pt=>{let It,rn;const Ut=(0,Xt.b)(pt),Gt=pt.width;pt.isEndSide?(It=-Gt+"px",rn=Gt+"px"):(It=Gt+"px",rn=-Gt+"px");const fn=(0,je.c)().addElement(pt.menuInnerEl).fromTo("transform",`translateX(${rn})`,"translateX(0px)"),Tt=(0,je.c)().addElement(pt.contentEl).fromTo("transform","translateX(0px)",`translateX(${It})`),jt=(0,je.c)().addElement(pt.backdropEl).fromTo("opacity",.01,.32);return $t("ios"===Ut).addAnimation([fn,Tt,jt])},rt=pt=>{const It=(0,Xt.b)(pt),rn=pt.width*(pt.isEndSide?-1:1)+"px",Ut=(0,je.c)().addElement(pt.contentEl).fromTo("transform","translateX(0px)",`translateX(${rn})`);return $t("ios"===It).addAnimation(Ut)},xt=(()=>{const pt=new Map,It=[],rn=function(){var me=(0,b.A)(function*(Ie){const at=yield Bt(Ie,!0);return!!at&&at.open()});return function(at){return me.apply(this,arguments)}}(),Ut=function(){var me=(0,b.A)(function*(Ie){const at=yield void 0!==Ie?Bt(Ie,!0):Vt();return void 0!==at&&at.close()});return function(at){return me.apply(this,arguments)}}(),Gt=function(){var me=(0,b.A)(function*(Ie){const at=yield Bt(Ie,!0);return!!at&&at.toggle()});return function(at){return me.apply(this,arguments)}}(),fn=function(){var me=(0,b.A)(function*(Ie,at){const Pt=yield Bt(at);return Pt&&(Pt.disabled=!Ie),Pt});return function(at,Pt){return me.apply(this,arguments)}}(),Tt=function(){var me=(0,b.A)(function*(Ie,at){const Pt=yield Bt(at);return Pt&&(Pt.swipeGesture=Ie),Pt});return function(at,Pt){return me.apply(this,arguments)}}(),jt=function(){var me=(0,b.A)(function*(Ie){if(null!=Ie){const at=yield Bt(Ie);return void 0!==at&&at.isOpen()}return void 0!==(yield Vt())});return function(at){return me.apply(this,arguments)}}(),st=function(){var me=(0,b.A)(function*(Ie){const at=yield Bt(Ie);return!!at&&!at.disabled});return function(at){return me.apply(this,arguments)}}(),Bt=function(){var me=(0,b.A)(function*(Ie,at=!1){if(yield ve(),"start"===Ie||"end"===Ie){const Wt=It.filter(Xn=>Xn.side===Ie&&!Xn.disabled);if(Wt.length>=1)return Wt.length>1&&at&&(0,Et.p)(`menuController queried for a menu on the "${Ie}" side, but ${Wt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Wt.map(Xn=>Xn.el)),Wt[0].el;const yt=It.filter(Xn=>Xn.side===Ie);if(yt.length>=1)return yt.length>1&&at&&(0,Et.p)(`menuController queried for a menu on the "${Ie}" side, but ${yt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,yt.map(Xn=>Xn.el)),yt[0].el}else if(null!=Ie)return Ke(Wt=>Wt.menuId===Ie);return Ke(Wt=>!Wt.disabled)||(It.length>0?It[0].el:void 0)});return function(at){return me.apply(this,arguments)}}(),Vt=function(){var me=(0,b.A)(function*(){return yield ve(),An()});return function(){return me.apply(this,arguments)}}(),Qt=function(){var me=(0,b.A)(function*(){return yield ve(),Ei()});return function(){return me.apply(this,arguments)}}(),en=function(){var me=(0,b.A)(function*(){return yield ve(),hn()});return function(){return me.apply(this,arguments)}}(),gt=(me,Ie)=>{pt.set(me,Ie)},pi=function(){var me=(0,b.A)(function*(Ie,at,Pt){if(hn())return!1;if(at){const Wt=yield Vt();Wt&&Ie.el!==Wt&&(yield Wt.setOpen(!1,!1))}return Ie._setOpen(at,Pt)});return function(at,Pt,Wt){return me.apply(this,arguments)}}(),An=()=>Ke(me=>me._isOpen),Ei=()=>It.map(me=>me.el),hn=()=>It.some(me=>me.isAnimating),Ke=me=>{const Ie=It.find(me);if(void 0!==Ie)return Ie.el},ve=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(me=>new Promise(Ie=>(0,k.c)(me,Ie))));return gt("reveal",rt),gt("push",Yt),gt("overlay",Zt),null==m.d||m.d.addEventListener("ionBackButton",me=>{const Ie=An();Ie&&me.detail.register(ke.MENU_BACK_BUTTON_PRIORITY,()=>Ie.close())}),{registerAnimation:gt,get:Bt,getMenus:Qt,getOpen:Vt,isEnabled:st,swipeGesture:Tt,isAnimating:en,isOpen:jt,enable:fn,toggle:Gt,close:Ut,open:rn,_getOpenSync:An,_createAnimation:(me,Ie)=>{const at=pt.get(me);if(!at)throw new Error("animation not registered");return at(Ie)},_register:me=>{It.indexOf(me)<0&&It.push(me)},_unregister:me=>{const Ie=It.indexOf(me);Ie>-1&&It.splice(Ie,1)},_setOpen:pi}})()},8607:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{GESTURE_CONTROLLER:()=>b.G,createGesture:()=>Zt});var b=pe(1970);const m=(xt,pt,It,rn)=>{const Ut=ke(xt)?{capture:!!rn.capture,passive:!!rn.passive}:!!rn.capture;let Gt,fn;return xt.__zone_symbol__addEventListener?(Gt="__zone_symbol__addEventListener",fn="__zone_symbol__removeEventListener"):(Gt="addEventListener",fn="removeEventListener"),xt[Gt](pt,It,Ut),()=>{xt[fn](pt,It,Ut)}},ke=xt=>{if(void 0===Et)try{const pt=Object.defineProperty({},"passive",{get:()=>{Et=!0}});xt.addEventListener("optsTest",()=>{},pt)}catch{Et=!1}return!!Et};let Et;const je=xt=>xt instanceof Document?xt:xt.ownerDocument,Zt=xt=>{let pt=!1,It=!1,rn=!0,Ut=!1;const Gt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xt),fn=Gt.canStart,Tt=Gt.onWillStart,jt=Gt.onStart,st=Gt.onEnd,Bt=Gt.notCaptured,Vt=Gt.onMove,Qt=Gt.threshold,en=Gt.passive,gt=Gt.blurOnStart,pn={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Tn=((xt,pt,It)=>{const rn=It*(Math.PI/180),Ut="x"===xt,Gt=Math.cos(rn),fn=pt*pt;let Tt=0,jt=0,st=!1,Bt=0;return{start(Vt,Qt){Tt=Vt,jt=Qt,Bt=0,st=!0},detect(Vt,Qt){if(!st)return!1;const en=Vt-Tt,gt=Qt-jt,pn=en*en+gt*gt;if(pn<fn)return!1;const Tn=Math.sqrt(pn),pi=(Ut?en:gt)/Tn;return Bt=pi>Gt?1:pi<-Gt?-1:0,st=!1,!0},isGesture:()=>0!==Bt,getDirection:()=>Bt}})(Gt.direction,Gt.threshold,Gt.maxAngle),pi=b.G.createGesture({name:xt.gestureName,priority:xt.gesturePriority,disableScroll:xt.disableScroll}),Ei=()=>{pt&&(Ut=!1,Vt&&Vt(pn))},hn=()=>!!pi.capture()&&(pt=!0,rn=!1,pn.startX=pn.currentX,pn.startY=pn.currentY,pn.startTime=pn.currentTime,Tt?Tt(pn).then(ve):ve(),!0),ve=()=>{gt&&(()=>{if(typeof document<"u"){const Wt=document.activeElement;null!=Wt&&Wt.blur&&Wt.blur()}})(),jt&&jt(pn),rn=!0},me=()=>{pt=!1,It=!1,Ut=!1,rn=!0,pi.release()},Ie=Wt=>{const yt=pt,Xn=rn;if(me(),Xn){if(Yt(pn,Wt),yt)return void(st&&st(pn));Bt&&Bt(pn)}},at=((xt,pt,It,rn,Ut)=>{let Gt,fn,Tt,jt,st,Bt,Vt,Qt=0;const en=Ke=>{Qt=Date.now()+2e3,pt(Ke)&&(!fn&&It&&(fn=m(xt,"touchmove",It,Ut)),Tt||(Tt=m(Ke.target,"touchend",pn,Ut)),jt||(jt=m(Ke.target,"touchcancel",pn,Ut)))},gt=Ke=>{Qt>Date.now()||pt(Ke)&&(!Bt&&It&&(Bt=m(je(xt),"mousemove",It,Ut)),Vt||(Vt=m(je(xt),"mouseup",Tn,Ut)))},pn=Ke=>{pi(),rn&&rn(Ke)},Tn=Ke=>{Ci(),rn&&rn(Ke)},pi=()=>{fn&&fn(),Tt&&Tt(),jt&&jt(),fn=Tt=jt=void 0},Ci=()=>{Bt&&Bt(),Vt&&Vt(),Bt=Vt=void 0},An=()=>{pi(),Ci()},Ei=(Ke=!0)=>{Ke?(Gt||(Gt=m(xt,"touchstart",en,Ut)),st||(st=m(xt,"mousedown",gt,Ut))):(Gt&&Gt(),st&&st(),Gt=st=void 0,An())};return{enable:Ei,stop:An,destroy:()=>{Ei(!1),rn=It=pt=void 0}}})(Gt.el,Wt=>{const yt=At(Wt);return!(It||!rn||(rt(Wt,pn),pn.startX=pn.currentX,pn.startY=pn.currentY,pn.startTime=pn.currentTime=yt,pn.velocityX=pn.velocityY=pn.deltaX=pn.deltaY=0,pn.event=Wt,fn&&!1===fn(pn))||(pi.release(),!pi.start()))&&(It=!0,0===Qt?hn():(Tn.start(pn.startX,pn.startY),!0))},Wt=>{pt?!Ut&&rn&&(Ut=!0,Yt(pn,Wt),requestAnimationFrame(Ei)):(Yt(pn,Wt),Tn.detect(pn.currentX,pn.currentY)&&(!Tn.isGesture()||!hn())&&Pt())},Ie,{capture:!1,passive:en}),Pt=()=>{me(),at.stop(),Bt&&Bt(pn)};return{enable(Wt=!0){Wt||(pt&&Ie(void 0),me()),at.enable(Wt)},destroy(){pi.destroy(),at.destroy()}}},Yt=(xt,pt)=>{if(!pt)return;const It=xt.currentX,rn=xt.currentY,Ut=xt.currentTime;rt(pt,xt);const Gt=xt.currentX,fn=xt.currentY,jt=(xt.currentTime=At(pt))-Ut;if(jt>0&&jt<100){const Bt=(fn-rn)/jt;xt.velocityX=(Gt-It)/jt*.7+.3*xt.velocityX,xt.velocityY=.7*Bt+.3*xt.velocityY}xt.deltaX=Gt-xt.startX,xt.deltaY=fn-xt.startY,xt.event=pt},rt=(xt,pt)=>{let It=0,rn=0;if(xt){const Ut=xt.changedTouches;if(Ut&&Ut.length>0){const Gt=Ut[0];It=Gt.clientX,rn=Gt.clientY}else void 0!==xt.pageX&&(It=xt.pageX,rn=xt.pageY)}pt.currentX=It,pt.currentY=rn},At=xt=>xt.timeStamp||Date.now()},9672:(Zi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>Xt,a:()=>Mo,b:()=>us,c:()=>Xn,d:()=>rr,e:()=>mr,f:()=>hn,g:()=>dr,h:()=>An,i:()=>or,j:()=>Fo,k:()=>je,r:()=>gr,w:()=>oo});var b=pe(467);var Et=Object.defineProperty,Xt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},je=te=>{const Ee=new URL(te,ar.$resourcesUrl$);return Ee.origin!==pr.location.origin?Ee.href:Ee.pathname},$t={},At=te=>"object"==(te=typeof te)||"function"===te;function xt(te){var Ee,He,nt;return null!=(nt=null==(He=null==(Ee=te.head)?void 0:Ee.querySelector('meta[name="csp-nonce"]'))?void 0:He.getAttribute("content"))?nt:void 0}((te,Ee)=>{for(var He in Ee)Et(te,He,{get:Ee[He],enumerable:!0})})({},{err:()=>rn,map:()=>Ut,ok:()=>It,unwrap:()=>Gt,unwrapErr:()=>fn});var It=te=>({isOk:!0,isErr:!1,value:te}),rn=te=>({isOk:!1,isErr:!0,value:te});function Ut(te,Ee){if(te.isOk){const He=Ee(te.value);return He instanceof Promise?He.then(nt=>It(nt)):It(He)}if(te.isErr)return rn(te.value);throw"should never get here"}var Gt=te=>{if(te.isOk)return te.value;throw te.value},fn=te=>{if(te.isErr)return te.value;throw te.value},en="s-id",gt="sty-id",pi="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ci="http://www.w3.org/1999/xlink",An=(te,Ee,...He)=>{let nt=null,Mt=null,_t=null,En=!1,On=!1;const In=[],Mn=Ri=>{for(let ur=0;ur<Ri.length;ur++)nt=Ri[ur],Array.isArray(nt)?Mn(nt):null!=nt&&"boolean"!=typeof nt&&((En="function"!=typeof te&&!At(nt))&&(nt=String(nt)),En&&On?In[In.length-1].$text$+=nt:In.push(En?Ei(null,nt):nt),On=En)};if(Mn(He),Ee){Ee.key&&(Mt=Ee.key),Ee.name&&(_t=Ee.name);{const Ri=Ee.className||Ee.class;Ri&&(Ee.class="object"!=typeof Ri?Ri:Object.keys(Ri).filter(ur=>Ri[ur]).join(" "))}}if("function"==typeof te)return te(null===Ee?{}:Ee,In,ve);const di=Ei(te,null);return di.$attrs$=Ee,In.length>0&&(di.$children$=In),di.$key$=Mt,di.$name$=_t,di},Ei=(te,Ee)=>({$flags$:0,$tag$:te,$text$:Ee,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),hn={},ve={forEach:(te,Ee)=>te.map(me).forEach(Ee),map:(te,Ee)=>te.map(me).map(Ee).map(Ie)},me=te=>({vattrs:te.$attrs$,vchildren:te.$children$,vkey:te.$key$,vname:te.$name$,vtag:te.$tag$,vtext:te.$text$}),Ie=te=>{if("function"==typeof te.vtag){const He={...te.vattrs};return te.vkey&&(He.key=te.vkey),te.vname&&(He.name=te.vname),An(te.vtag,He,...te.vchildren||[])}const Ee=Ei(te.vtag,te.vtext);return Ee.$attrs$=te.vattrs,Ee.$children$=te.vchildren,Ee.$key$=te.vkey,Ee.$name$=te.vname,Ee},Pt=(te,Ee,He,nt,Mt,_t,En)=>{let On,In,Mn,di;if(1===_t.nodeType){for(On=_t.getAttribute("c-id"),On&&(In=On.split("."),(In[0]===En||"0"===In[0])&&(Mn={$flags$:0,$hostId$:In[0],$nodeId$:In[1],$depth$:In[2],$index$:In[3],$tag$:_t.tagName.toLowerCase(),$elm$:_t,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ee.push(Mn),_t.removeAttribute("c-id"),te.$children$||(te.$children$=[]),te.$children$[Mn.$index$]=Mn,te=Mn,nt&&"0"===Mn.$depth$&&(nt[Mn.$index$]=Mn.$elm$))),di=_t.childNodes.length-1;di>=0;di--)Pt(te,Ee,He,nt,Mt,_t.childNodes[di],En);if(_t.shadowRoot)for(di=_t.shadowRoot.childNodes.length-1;di>=0;di--)Pt(te,Ee,He,nt,Mt,_t.shadowRoot.childNodes[di],En)}else if(8===_t.nodeType)In=_t.nodeValue.split("."),(In[1]===En||"0"===In[1])&&(On=In[0],Mn={$flags$:0,$hostId$:In[1],$nodeId$:In[2],$depth$:In[3],$index$:In[4],$elm$:_t,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===On?(Mn.$elm$=_t.nextSibling,Mn.$elm$&&3===Mn.$elm$.nodeType&&(Mn.$text$=Mn.$elm$.textContent,Ee.push(Mn),_t.remove(),te.$children$||(te.$children$=[]),te.$children$[Mn.$index$]=Mn,nt&&"0"===Mn.$depth$&&(nt[Mn.$index$]=Mn.$elm$))):Mn.$hostId$===En&&("s"===On?(Mn.$tag$="slot",_t["s-sn"]=In[5]?Mn.$name$=In[5]:"",_t["s-sr"]=!0,nt&&(Mn.$elm$=mo.createElement(Mn.$tag$),Mn.$name$&&Mn.$elm$.setAttribute("name",Mn.$name$),_t.parentNode.insertBefore(Mn.$elm$,_t),_t.remove(),"0"===Mn.$depth$&&(nt[Mn.$index$]=Mn.$elm$)),He.push(Mn),te.$children$||(te.$children$=[]),te.$children$[Mn.$index$]=Mn):"r"===On&&(nt?_t.remove():(Mt["s-cr"]=_t,_t["s-cn"]=!0))));else if(te&&"style"===te.$tag$){const Ri=Ei(null,_t.textContent);Ri.$elm$=_t,Ri.$index$="0",te.$children$=[Ri]}},Wt=(te,Ee)=>{if(1===te.nodeType){let He=0;for(;He<te.childNodes.length;He++)Wt(te.childNodes[He],Ee);if(te.shadowRoot)for(He=0;He<te.shadowRoot.childNodes.length;He++)Wt(te.shadowRoot.childNodes[He],Ee)}else if(8===te.nodeType){const He=te.nodeValue.split(".");"o"===He[0]&&(Ee.set(He[1]+"."+He[2],te),te.nodeValue="",te["s-en"]=He[3])}},Xn=te=>Va.push(te),dr=te=>hs(te).$modeName$,or=te=>hs(te).$hostElement$,rr=(te,Ee,He)=>{const nt=or(te);return{emit:Mt=>fr(nt,Ee,{bubbles:!!(4&He),composed:!!(2&He),cancelable:!!(1&He),detail:Mt})}},fr=(te,Ee,He)=>{const nt=ar.ce(Ee,He);return te.dispatchEvent(nt),nt},Vr=new WeakMap,_r=(te,Ee,He)=>{let nt=Ba.get(te);ea&&He?(nt=nt||new CSSStyleSheet,"string"==typeof nt?nt=Ee:nt.replaceSync(Ee)):nt=Ee,Ba.set(te,nt)},cs=(te,Ee,He)=>{var nt;const Mt=ri(Ee,He),_t=Ba.get(Mt);if(te=11===te.nodeType?te:mo,_t)if("string"==typeof _t){let On,En=Vr.get(te=te.head||te);if(En||Vr.set(te,En=new Set),!En.has(Mt)){if(te.host&&(On=te.querySelector(`[${gt}="${Mt}"]`)))On.innerHTML=_t;else{On=mo.createElement("style"),On.innerHTML=_t;const In=null!=(nt=ar.$nonce$)?nt:xt(mo);null!=In&&On.setAttribute("nonce",In),te.insertBefore(On,te.querySelector("link"))}4&Ee.$flags$&&(On.innerHTML+=pi),En&&En.add(Mt)}}else te.adoptedStyleSheets.includes(_t)||(te.adoptedStyleSheets=[...te.adoptedStyleSheets,_t]);return Mt},ri=(te,Ee)=>"sc-"+(Ee&&32&te.$flags$?te.$tagName$+"-"+Ee:te.$tagName$),Ft=te=>te.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),nn=(te,Ee,He,nt,Mt,_t)=>{if(He!==nt){let En=ps(te,Ee),On=Ee.toLowerCase();if("class"===Ee){const In=te.classList,Mn=gi(He),di=gi(nt);In.remove(...Mn.filter(Ri=>Ri&&!di.includes(Ri))),In.add(...di.filter(Ri=>Ri&&!Mn.includes(Ri)))}else if("style"===Ee){for(const In in He)(!nt||null==nt[In])&&(In.includes("-")?te.style.removeProperty(In):te.style[In]="");for(const In in nt)(!He||nt[In]!==He[In])&&(In.includes("-")?te.style.setProperty(In,nt[In]):te.style[In]=nt[In])}else if("key"!==Ee)if("ref"===Ee)nt&&nt(te);else if(En||"o"!==Ee[0]||"n"!==Ee[1]){const In=At(nt);if((En||In&&null!==nt)&&!Mt)try{if(te.tagName.includes("-"))te[Ee]=nt;else{const di=null==nt?"":nt;"list"===Ee?En=!1:(null==He||te[Ee]!=di)&&(te[Ee]=di)}}catch{}let Mn=!1;On!==(On=On.replace(/^xlink\:?/,""))&&(Ee=On,Mn=!0),null==nt||!1===nt?(!1!==nt||""===te.getAttribute(Ee))&&(Mn?te.removeAttributeNS(Ci,Ee):te.removeAttribute(Ee)):(!En||4&_t||Mt)&&!In&&(nt=!0===nt?"":nt,Mn?te.setAttributeNS(Ci,Ee,nt):te.setAttribute(Ee,nt))}else if(Ee="-"===Ee[2]?Ee.slice(3):ps(pr,On)?On.slice(2):On[2]+Ee.slice(3),He||nt){const In=Ee.endsWith(hr);Ee=Ee.replace(zr,""),He&&ar.rel(te,Ee,He,In),nt&&ar.ael(te,Ee,nt,In)}}},cn=/\s/,gi=te=>te?te.split(cn):[],hr="Capture",zr=new RegExp(hr+"$"),kr=(te,Ee,He)=>{const nt=11===Ee.$elm$.nodeType&&Ee.$elm$.host?Ee.$elm$.host:Ee.$elm$,Mt=te&&te.$attrs$||$t,_t=Ee.$attrs$||$t;for(const En of Di(Object.keys(Mt)))En in _t||nn(nt,En,Mt[En],void 0,He,Ee.$flags$);for(const En of Di(Object.keys(_t)))nn(nt,En,Mt[En],_t[En],He,Ee.$flags$)};function Di(te){return te.includes("ref")?[...te.filter(Ee=>"ref"!==Ee),"ref"]:te}var wi,Ur,Hr,wr=!1,Jr=!1,Es=!1,io=!1,$i=(te,Ee,He,nt)=>{var Mt;const _t=Ee.$children$[He];let On,In,Mn,En=0;if(wr||(Es=!0,"slot"===_t.$tag$&&(wi&&nt.classList.add(wi+"-s"),_t.$flags$|=_t.$children$?2:1)),null!==_t.$text$)On=_t.$elm$=mo.createTextNode(_t.$text$);else if(1&_t.$flags$)On=_t.$elm$=mo.createTextNode("");else{if(io||(io="svg"===_t.$tag$),On=_t.$elm$=mo.createElementNS(io?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&_t.$flags$?"slot-fb":_t.$tag$),io&&"foreignObject"===_t.$tag$&&(io=!1),kr(null,_t,io),(te=>null!=te)(wi)&&On["s-si"]!==wi&&On.classList.add(On["s-si"]=wi),_t.$children$)for(En=0;En<_t.$children$.length;++En)In=$i(te,_t,En,On),In&&On.appendChild(In);"svg"===_t.$tag$?io=!1:"foreignObject"===On.tagName&&(io=!0)}return On["s-hn"]=Hr,3&_t.$flags$&&(On["s-sr"]=!0,On["s-cr"]=Ur,On["s-sn"]=_t.$name$||"",On["s-rf"]=null==(Mt=_t.$attrs$)?void 0:Mt.ref,Mn=te&&te.$children$&&te.$children$[He],Mn&&Mn.$tag$===_t.$tag$&&te.$elm$&&_o(te.$elm$)),On},_o=te=>{ar.$flags$|=1;const Ee=te.closest(Hr.toLowerCase());if(null!=Ee){const He=Array.from(Ee.childNodes).find(Mt=>Mt["s-cr"]),nt=Array.from(te.childNodes);for(const Mt of He?nt.reverse():nt)null!=Mt["s-sh"]&&(Gn(Ee,Mt,null!=He?He:null),Mt["s-sh"]=void 0,Es=!0)}ar.$flags$&=-2},Ir=(te,Ee)=>{ar.$flags$|=1;const He=Array.from(te.childNodes);if(te["s-sr"]){let nt=te;for(;nt=nt.nextSibling;)nt&&nt["s-sn"]===te["s-sn"]&&nt["s-sh"]===Hr&&He.push(nt)}for(let nt=He.length-1;nt>=0;nt--){const Mt=He[nt];Mt["s-hn"]!==Hr&&Mt["s-ol"]&&(Gn(ss(Mt),Mt,jo(Mt)),Mt["s-ol"].remove(),Mt["s-ol"]=void 0,Mt["s-sh"]=void 0,Es=!0),Ee&&Ir(Mt,Ee)}ar.$flags$&=-2},xr=(te,Ee,He,nt,Mt,_t)=>{let On,En=te["s-cr"]&&te["s-cr"].parentNode||te;for(En.shadowRoot&&En.tagName===Hr&&(En=En.shadowRoot);Mt<=_t;++Mt)nt[Mt]&&(On=$i(null,He,Mt,te),On&&(nt[Mt].$elm$=On,Gn(En,On,jo(Ee))))},ds=(te,Ee,He)=>{for(let nt=Ee;nt<=He;++nt){const Mt=te[nt];if(Mt){const _t=Mt.$elm$;on(Mt),_t&&(Jr=!0,_t["s-ol"]?_t["s-ol"].remove():Ir(_t,!0),_t.remove())}}},Xr=(te,Ee,He=!1)=>te.$tag$===Ee.$tag$&&("slot"===te.$tag$?te.$name$===Ee.$name$:!!He||te.$key$===Ee.$key$),jo=te=>te&&te["s-ol"]||te,ss=te=>(te["s-ol"]?te["s-ol"]:te).parentNode,po=(te,Ee,He=!1)=>{const nt=Ee.$elm$=te.$elm$,Mt=te.$children$,_t=Ee.$children$,En=Ee.$tag$,On=Ee.$text$;let In;null===On?(io="svg"===En||"foreignObject"!==En&&io,"slot"!==En||wr?kr(te,Ee,io):te.$name$!==Ee.$name$&&(Ee.$elm$["s-sn"]=Ee.$name$||"",_o(Ee.$elm$.parentElement)),null!==Mt&&null!==_t?((te,Ee,He,nt,Mt=!1)=>{let Po,ts,_t=0,En=0,On=0,In=0,Mn=Ee.length-1,di=Ee[0],Ri=Ee[Mn],ur=nt.length-1,Qi=nt[0],Yr=nt[ur];for(;_t<=Mn&&En<=ur;)if(null==di)di=Ee[++_t];else if(null==Ri)Ri=Ee[--Mn];else if(null==Qi)Qi=nt[++En];else if(null==Yr)Yr=nt[--ur];else if(Xr(di,Qi,Mt))po(di,Qi,Mt),di=Ee[++_t],Qi=nt[++En];else if(Xr(Ri,Yr,Mt))po(Ri,Yr,Mt),Ri=Ee[--Mn],Yr=nt[--ur];else if(Xr(di,Yr,Mt))("slot"===di.$tag$||"slot"===Yr.$tag$)&&Ir(di.$elm$.parentNode,!1),po(di,Yr,Mt),Gn(te,di.$elm$,Ri.$elm$.nextSibling),di=Ee[++_t],Yr=nt[--ur];else if(Xr(Ri,Qi,Mt))("slot"===di.$tag$||"slot"===Yr.$tag$)&&Ir(Ri.$elm$.parentNode,!1),po(Ri,Qi,Mt),Gn(te,Ri.$elm$,di.$elm$),Ri=Ee[--Mn],Qi=nt[++En];else{for(On=-1,In=_t;In<=Mn;++In)if(Ee[In]&&null!==Ee[In].$key$&&Ee[In].$key$===Qi.$key$){On=In;break}On>=0?(ts=Ee[On],ts.$tag$!==Qi.$tag$?Po=$i(Ee&&Ee[En],He,On,te):(po(ts,Qi,Mt),Ee[On]=void 0,Po=ts.$elm$),Qi=nt[++En]):(Po=$i(Ee&&Ee[En],He,En,te),Qi=nt[++En]),Po&&Gn(ss(di.$elm$),Po,jo(di.$elm$))}_t>Mn?xr(te,null==nt[ur+1]?null:nt[ur+1].$elm$,He,nt,En,ur):En>ur&&ds(Ee,_t,Mn)})(nt,Mt,Ee,_t,He):null!==_t?(null!==te.$text$&&(nt.textContent=""),xr(nt,null,Ee,_t,0,_t.length-1)):null!==Mt&&ds(Mt,0,Mt.length-1),io&&"svg"===En&&(io=!1)):(In=nt["s-cr"])?In.parentNode.textContent=On:te.$text$!==On&&(nt.data=On)},Rt=te=>{const Ee=te.childNodes;for(const He of Ee)if(1===He.nodeType){if(He["s-sr"]){const nt=He["s-sn"];He.hidden=!1;for(const Mt of Ee)if(Mt!==He)if(Mt["s-hn"]!==He["s-hn"]||""!==nt){if(1===Mt.nodeType&&(nt===Mt.getAttribute("slot")||nt===Mt["s-sn"])||3===Mt.nodeType&&nt===Mt["s-sn"]){He.hidden=!0;break}}else if(1===Mt.nodeType||3===Mt.nodeType&&""!==Mt.textContent.trim()){He.hidden=!0;break}}Rt(He)}},vt=[],sn=te=>{let Ee,He,nt;for(const Mt of te.childNodes){if(Mt["s-sr"]&&(Ee=Mt["s-cr"])&&Ee.parentNode){He=Ee.parentNode.childNodes;const _t=Mt["s-sn"];for(nt=He.length-1;nt>=0;nt--)if(Ee=He[nt],!(Ee["s-cn"]||Ee["s-nr"]||Ee["s-hn"]===Mt["s-hn"]||Ee["s-sh"]&&Ee["s-sh"]===Mt["s-hn"]))if(mt(Ee,_t)){let En=vt.find(On=>On.$nodeToRelocate$===Ee);Jr=!0,Ee["s-sn"]=Ee["s-sn"]||_t,En?(En.$nodeToRelocate$["s-sh"]=Mt["s-hn"],En.$slotRefNode$=Mt):(Ee["s-sh"]=Mt["s-hn"],vt.push({$slotRefNode$:Mt,$nodeToRelocate$:Ee})),Ee["s-sr"]&&vt.map(On=>{mt(On.$nodeToRelocate$,Ee["s-sn"])&&(En=vt.find(In=>In.$nodeToRelocate$===Ee),En&&!On.$slotRefNode$&&(On.$slotRefNode$=En.$slotRefNode$))})}else vt.some(En=>En.$nodeToRelocate$===Ee)||vt.push({$nodeToRelocate$:Ee})}1===Mt.nodeType&&sn(Mt)}},mt=(te,Ee)=>1===te.nodeType?null===te.getAttribute("slot")&&""===Ee||te.getAttribute("slot")===Ee:te["s-sn"]===Ee||""===Ee,on=te=>{te.$attrs$&&te.$attrs$.ref&&te.$attrs$.ref(null),te.$children$&&te.$children$.map(on)},Gn=(te,Ee,He)=>{const nt=null==te?void 0:te.insertBefore(Ee,He);return Er(Ee,te),nt},si=te=>te?te["s-rsc"]||te["s-si"]||te["s-sc"]||si(te.parentElement):void 0,Er=(te,Ee)=>{var He,nt,Mt;if(te&&Ee){const _t=te["s-rsc"],En=si(Ee);_t&&null!=(He=te.classList)&&He.contains(_t)&&te.classList.remove(_t),En&&(te["s-rsc"]=En,(null==(nt=te.classList)||!nt.contains(En))&&(null==(Mt=te.classList)||Mt.add(En)))}},os=(te,Ee)=>{Ee&&!te.$onRenderResolve$&&Ee["s-p"]&&Ee["s-p"].push(new Promise(He=>te.$onRenderResolve$=He))},Qs=(te,Ee)=>{if(te.$flags$|=16,!(4&te.$flags$))return os(te,te.$ancestorComponent$),oo(()=>Vs(te,Ee));te.$flags$|=512},Vs=(te,Ee)=>{const nt=te.$lazyInstance$;let Mt;return Ee&&(te.$flags$|=256,te.$queuedListeners$&&(te.$queuedListeners$.map(([_t,En])=>Ho(nt,_t,En)),te.$queuedListeners$=void 0),Mt=Ho(nt,"componentWillLoad")),Mt=ro(Mt,()=>Ho(nt,"componentWillRender")),ro(Mt,()=>so(te,nt,Ee))},ro=(te,Ee)=>aa(te)?te.then(Ee):Ee(),aa=te=>te instanceof Promise||te&&te.then&&"function"==typeof te.then,so=function(){var te=(0,b.A)(function*(Ee,He,nt){var Mt;const _t=Ee.$hostElement$,On=_t["s-rc"];nt&&(te=>{const Ee=te.$cmpMeta$,He=te.$hostElement$,nt=Ee.$flags$,_t=cs(He.shadowRoot?He.shadowRoot:He.getRootNode(),Ee,te.$modeName$);10&nt&&(He["s-sc"]=_t,He.classList.add(_t+"-h"),2&nt&&He.classList.add(_t+"-s"))})(Ee);Cs(Ee,He,_t,nt),On&&(On.map(Mn=>Mn()),_t["s-rc"]=void 0);{const Mn=null!=(Mt=_t["s-p"])?Mt:[],di=()=>Ji(Ee);0===Mn.length?di():(Promise.all(Mn).then(di),Ee.$flags$|=4,Mn.length=0)}});return function(He,nt,Mt){return te.apply(this,arguments)}}(),Cs=(te,Ee,He,nt)=>{try{Ee=Ee.render&&Ee.render(),te.$flags$&=-17,te.$flags$|=2,((te,Ee,He=!1)=>{var nt,Mt,_t,En,On;const In=te.$hostElement$,Mn=te.$cmpMeta$,di=te.$vnode$||Ei(null,null),Ri=(te=>te&&te.$tag$===hn)(Ee)?Ee:An(null,null,Ee);if(Hr=In.tagName,Mn.$attrsToReflect$&&(Ri.$attrs$=Ri.$attrs$||{},Mn.$attrsToReflect$.map(([ur,Qi])=>Ri.$attrs$[Qi]=In[ur])),He&&Ri.$attrs$)for(const ur of Object.keys(Ri.$attrs$))In.hasAttribute(ur)&&!["key","ref","style","class"].includes(ur)&&(Ri.$attrs$[ur]=In[ur]);if(Ri.$tag$=null,Ri.$flags$|=4,te.$vnode$=Ri,Ri.$elm$=di.$elm$=In.shadowRoot||In,wi=In["s-sc"],wr=!!(1&Mn.$flags$),Ur=In["s-cr"],Jr=!1,po(di,Ri,He),ar.$flags$|=1,Es){sn(Ri.$elm$);for(const ur of vt){const Qi=ur.$nodeToRelocate$;if(!Qi["s-ol"]){const Yr=mo.createTextNode("");Yr["s-nr"]=Qi,Gn(Qi.parentNode,Qi["s-ol"]=Yr,Qi)}}for(const ur of vt){const Qi=ur.$nodeToRelocate$,Yr=ur.$slotRefNode$;if(Yr){const Po=Yr.parentNode;let ts=Yr.nextSibling;if(ts&&1===ts.nodeType){let Rr=null==(nt=Qi["s-ol"])?void 0:nt.previousSibling;for(;Rr;){let Ao=null!=(Mt=Rr["s-nr"])?Mt:null;if(Ao&&Ao["s-sn"]===Qi["s-sn"]&&Po===Ao.parentNode){for(Ao=Ao.nextSibling;Ao===Qi||null!=Ao&&Ao["s-sr"];)Ao=null==Ao?void 0:Ao.nextSibling;if(!Ao||!Ao["s-nr"]){ts=Ao;break}}Rr=Rr.previousSibling}}(!ts&&Po!==Qi.parentNode||Qi.nextSibling!==ts)&&Qi!==ts&&(Gn(Po,Qi,ts),1===Qi.nodeType&&(Qi.hidden=null!=(_t=Qi["s-ih"])&&_t)),Qi&&"function"==typeof Yr["s-rf"]&&Yr["s-rf"](Qi)}else 1===Qi.nodeType&&(He&&(Qi["s-ih"]=null!=(En=Qi.hidden)&&En),Qi.hidden=!0)}}if(Jr&&Rt(Ri.$elm$),ar.$flags$&=-2,vt.length=0,2&Mn.$flags$)for(const ur of Ri.$elm$.childNodes)ur["s-hn"]!==Hr&&!ur["s-sh"]&&(He&&null==ur["s-ih"]&&(ur["s-ih"]=null!=(On=ur.hidden)&&On),ur.hidden=!0);Ur=void 0})(te,Ee,nt)}catch(Mt){Xs(Mt,te.$hostElement$)}return null},Ji=te=>{const He=te.$hostElement$,Mt=te.$lazyInstance$,_t=te.$ancestorComponent$;Ho(Mt,"componentDidRender"),64&te.$flags$?Ho(Mt,"componentDidUpdate"):(te.$flags$|=64,wa(He),Ho(Mt,"componentDidLoad"),te.$onReadyResolve$(He),_t||So()),te.$onInstanceResolve$(He),te.$onRenderResolve$&&(te.$onRenderResolve$(),te.$onRenderResolve$=void 0),512&te.$flags$&&bt(()=>Qs(te,!1)),te.$flags$&=-517},Fo=te=>{{const Ee=hs(te),He=Ee.$hostElement$.isConnected;return He&&2==(18&Ee.$flags$)&&Qs(Ee,!1),He}},So=te=>{wa(mo.documentElement),bt(()=>fr(pr,"appload",{detail:{namespace:"ionic"}}))},Ho=(te,Ee,He)=>{if(te&&te[Ee])try{return te[Ee](He)}catch(nt){Xs(nt)}},wa=te=>te.classList.add("hydrated"),la=(te,Ee,He)=>{var nt;const Mt=te.prototype;if(Ee.$members$){te.watchers&&(Ee.$watchers$=te.watchers);const _t=Object.entries(Ee.$members$);if(_t.map(([En,[On]])=>{31&On||2&He&&32&On?Object.defineProperty(Mt,En,{get(){return((te,Ee)=>hs(this).$instanceValues$.get(Ee))(0,En)},set(In){((te,Ee,He,nt)=>{const Mt=hs(te);if(!Mt)throw new Error(`Couldn't find host element for "${nt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const _t=Mt.$hostElement$,En=Mt.$instanceValues$.get(Ee),On=Mt.$flags$,In=Mt.$lazyInstance$;He=((te,Ee)=>null==te||At(te)?te:4&Ee?"false"!==te&&(""===te||!!te):2&Ee?parseFloat(te):1&Ee?String(te):te)(He,nt.$members$[Ee][0]);const Mn=Number.isNaN(En)&&Number.isNaN(He);if((!(8&On)||void 0===En)&&He!==En&&!Mn&&(Mt.$instanceValues$.set(Ee,He),In)){if(nt.$watchers$&&128&On){const Ri=nt.$watchers$[Ee];Ri&&Ri.map(ur=>{try{In[ur](He,En,Ee)}catch(Qi){Xs(Qi,_t)}})}2==(18&On)&&Qs(Mt,!1)}})(this,En,In,Ee)},configurable:!0,enumerable:!0}):1&He&&64&On&&Object.defineProperty(Mt,En,{value(...In){var Mn;const di=hs(this);return null==(Mn=null==di?void 0:di.$onInstancePromise$)?void 0:Mn.then(()=>{var Ri;return null==(Ri=di.$lazyInstance$)?void 0:Ri[En](...In)})}})}),1&He){const En=new Map;Mt.attributeChangedCallback=function(On,In,Mn){ar.jmp(()=>{var di;const Ri=En.get(On);if(this.hasOwnProperty(Ri))Mn=this[Ri],delete this[Ri];else{if(Mt.hasOwnProperty(Ri)&&"number"==typeof this[Ri]&&this[Ri]==Mn)return;if(null==Ri){const ur=hs(this),Qi=null==ur?void 0:ur.$flags$;if(Qi&&!(8&Qi)&&128&Qi&&Mn!==In){const Yr=ur.$lazyInstance$,Po=null==(di=Ee.$watchers$)?void 0:di[On];null==Po||Po.forEach(ts=>{null!=Yr[ts]&&Yr[ts].call(Yr,Mn,In,On)})}return}}this[Ri]=(null!==Mn||"boolean"!=typeof this[Ri])&&Mn})},te.observedAttributes=Array.from(new Set([...Object.keys(null!=(nt=Ee.$watchers$)?nt:{}),..._t.filter(([On,In])=>15&In[0]).map(([On,In])=>{var Mn;const di=In[1]||On;return En.set(di,On),512&In[0]&&(null==(Mn=Ee.$attrsToReflect$)||Mn.push([On,di])),di})]))}}return te},vo=function(){var te=(0,b.A)(function*(Ee,He,nt,Mt){let _t;if(!(32&He.$flags$)){if(He.$flags$|=32,nt.$lazyBundleId$){if(_t=al(nt),_t.then){const di=()=>{};_t=yield _t,di()}_t.isProxied||(nt.$watchers$=_t.watchers,la(_t,nt,2),_t.isProxied=!0);const Mn=()=>{};He.$flags$|=8;try{new _t(He)}catch(di){Xs(di)}He.$flags$&=-9,He.$flags$|=128,Mn(),Ps(He.$lazyInstance$)}else _t=Ee.constructor,customElements.whenDefined(nt.$tagName$).then(()=>He.$flags$|=128);if(_t.style){let Mn=_t.style;"string"!=typeof Mn&&(Mn=Mn[He.$modeName$=(te=>Va.map(Ee=>Ee(te)).find(Ee=>!!Ee))(Ee)]);const di=ri(nt,He.$modeName$);if(!Ba.has(di)){const Ri=()=>{};_r(di,Mn,!!(1&nt.$flags$)),Ri()}}}const En=He.$ancestorComponent$,On=()=>Qs(He,!0);En&&En["s-rc"]?En["s-rc"].push(On):On()});return function(He,nt,Mt,_t){return te.apply(this,arguments)}}(),Ps=te=>{Ho(te,"connectedCallback")},Io=te=>{const Ee=te["s-cr"]=mo.createComment("");Ee["s-cn"]=!0,Gn(te,Ee,te.firstChild)},Ws=te=>{Ho(te,"disconnectedCallback")},ca=function(){var te=(0,b.A)(function*(Ee){if(!(1&ar.$flags$)){const He=hs(Ee);He.$rmListeners$&&(He.$rmListeners$.map(nt=>nt()),He.$rmListeners$=void 0),null!=He&&He.$lazyInstance$?Ws(He.$lazyInstance$):null!=He&&He.$onReadyPromise$&&He.$onReadyPromise$.then(()=>Ws(He.$lazyInstance$))}});return function(He){return te.apply(this,arguments)}}(),ye=te=>{const Ee=te.cloneNode;te.cloneNode=function(He){const nt=this,Mt=nt.shadowRoot&&Ta,_t=Ee.call(nt,!!Mt&&He);if(!Mt&&He){let On,In,En=0;const Mn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;En<nt.childNodes.length;En++)On=nt.childNodes[En]["s-nr"],In=Mn.every(di=>!nt.childNodes[En][di]),On&&(_t.__appendChild?_t.__appendChild(On.cloneNode(!0)):_t.appendChild(On.cloneNode(!0))),In&&_t.appendChild(nt.childNodes[En].cloneNode(!0))}return _t}},we=te=>{te.__appendChild=te.appendChild,te.appendChild=function(Ee){const He=Ee["s-sn"]=$o(Ee),nt=bo(this.childNodes,He,this.tagName);if(nt){const Mt=Uo(nt,He),_t=Mt[Mt.length-1],En=Gn(_t.parentNode,Ee,_t.nextSibling);return Rt(this),En}return this.__appendChild(Ee)}},ut=te=>{te.__removeChild=te.removeChild,te.removeChild=function(Ee){if(Ee&&typeof Ee["s-sn"]<"u"){const He=bo(this.childNodes,Ee["s-sn"],this.tagName);if(He){const Mt=Uo(He,Ee["s-sn"]).find(_t=>_t===Ee);if(Mt)return Mt.remove(),void Rt(this)}}return this.__removeChild(Ee)}},de=te=>{const Ee=te.prepend;te.prepend=function(...He){He.forEach(nt=>{"string"==typeof nt&&(nt=this.ownerDocument.createTextNode(nt));const Mt=nt["s-sn"]=$o(nt),_t=bo(this.childNodes,Mt,this.tagName);if(_t){const En=document.createTextNode("");En["s-nr"]=nt,_t["s-cr"].parentNode.__appendChild(En),nt["s-ol"]=En;const In=Uo(_t,Mt)[0];return Gn(In.parentNode,nt,In.nextSibling)}return 1===nt.nodeType&&nt.getAttribute("slot")&&(nt.hidden=!0),Ee.call(this,nt)})}},Je=te=>{te.append=function(...Ee){Ee.forEach(He=>{"string"==typeof He&&(He=this.ownerDocument.createTextNode(He)),this.appendChild(He)})}},Lt=te=>{const Ee=te.insertAdjacentHTML;te.insertAdjacentHTML=function(He,nt){if("afterbegin"!==He&&"beforeend"!==He)return Ee.call(this,He,nt);const Mt=this.ownerDocument.createElement("_");let _t;if(Mt.innerHTML=nt,"afterbegin"===He)for(;_t=Mt.firstChild;)this.prepend(_t);else if("beforeend"===He)for(;_t=Mt.firstChild;)this.append(_t)}},Ln=te=>{te.insertAdjacentText=function(Ee,He){this.insertAdjacentHTML(Ee,He)}},ti=te=>{const Ee=te.insertAdjacentElement;te.insertAdjacentElement=function(He,nt){return"afterbegin"!==He&&"beforeend"!==He?Ee.call(this,He,nt):"afterbegin"===He?(this.prepend(nt),nt):("beforeend"===He&&this.append(nt),nt)}},Si=te=>{const Ee=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(te,"__textContent",Ee),Object.defineProperty(te,"textContent",{get(){return" "+es(this.childNodes).map(Mt=>{var _t,En;const On=[];let In=Mt.nextSibling;for(;In&&In["s-sn"]===Mt["s-sn"];)(3===In.nodeType||1===In.nodeType)&&On.push(null!=(En=null==(_t=In.textContent)?void 0:_t.trim())?En:""),In=In.nextSibling;return On.filter(Mn=>""!==Mn).join(" ")}).filter(Mt=>""!==Mt).join(" ")+" "},set(He){es(this.childNodes).forEach(Mt=>{let _t=Mt.nextSibling;for(;_t&&_t["s-sn"]===Mt["s-sn"];){const En=_t;_t=_t.nextSibling,En.remove()}if(""===Mt["s-sn"]){const En=this.ownerDocument.createTextNode(He);En["s-sn"]="",Gn(Mt.parentElement,En,Mt.nextSibling)}else Mt.remove()})}})},qr=(te,Ee)=>{class He extends Array{item(Mt){return this[Mt]}}if(8&Ee.$flags$){const nt=te.__lookupGetter__("childNodes");Object.defineProperty(te,"children",{get(){return this.childNodes.map(Mt=>1===Mt.nodeType)}}),Object.defineProperty(te,"childElementCount",{get:()=>te.children.length}),Object.defineProperty(te,"childNodes",{get(){const Mt=nt.call(this);if(!(1&ar.$flags$)&&2&hs(this).$flags$){const _t=new He;for(let En=0;En<Mt.length;En++){const On=Mt[En]["s-nr"];On&&_t.push(On)}return _t}return He.from(Mt)}})}},es=te=>{const Ee=[];for(const He of Array.from(te))He["s-sr"]&&Ee.push(He),Ee.push(...es(He.childNodes));return Ee},$o=te=>te["s-sn"]||1===te.nodeType&&te.getAttribute("slot")||"",bo=(te,Ee,He)=>{let Mt,nt=0;for(;nt<te.length;nt++)if(Mt=te[nt],Mt["s-sr"]&&Mt["s-sn"]===Ee&&Mt["s-hn"]===He||(Mt=bo(Mt.childNodes,Ee,He),Mt))return Mt;return null},Uo=(te,Ee)=>{const He=[te];for(;(te=te.nextSibling)&&te["s-sn"]===Ee;)He.push(te);return He},us=(te,Ee={})=>{var He;const Mt=[],_t=Ee.exclude||[],En=pr.customElements,On=mo.head,In=On.querySelector("meta[charset]"),Mn=mo.createElement("style"),di=[],Ri=mo.querySelectorAll(`[${gt}]`);let ur,Qi=!0,Yr=0;for(Object.assign(ar,Ee),ar.$resourcesUrl$=new URL(Ee.resourcesUrl||"./",mo.baseURI).href,ar.$flags$|=2;Yr<Ri.length;Yr++)_r(Ri[Yr].getAttribute(gt),Ft(Ri[Yr].innerHTML),!0);let Po=!1;if(te.map(ts=>{ts[1].map(Rr=>{var Ao;const Oo={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};4&Oo.$flags$&&(Po=!0),Oo.$members$=Rr[2],Oo.$listeners$=Rr[3],Oo.$attrsToReflect$=[],Oo.$watchers$=null!=(Ao=Rr[4])?Ao:{};const xa=Oo.$tagName$,Ka=class extends HTMLElement{constructor(Oa){super(Oa),jr(Oa=this,Oo),1&Oo.$flags$&&Oa.attachShadow({mode:"open",delegatesFocus:!!(16&Oo.$flags$)})}connectedCallback(){ur&&(clearTimeout(ur),ur=null),Qi?di.push(this):ar.jmp(()=>(te=>{if(!(1&ar.$flags$)){const Ee=hs(te),He=Ee.$cmpMeta$,nt=()=>{};if(1&Ee.$flags$)As(te,Ee,He.$listeners$),null!=Ee&&Ee.$lazyInstance$?Ps(Ee.$lazyInstance$):null!=Ee&&Ee.$onReadyPromise$&&Ee.$onReadyPromise$.then(()=>Ps(Ee.$lazyInstance$));else{let Mt;if(Ee.$flags$|=1,Mt=te.getAttribute(en),Mt){if(1&He.$flags$){const _t=cs(te.shadowRoot,He,te.getAttribute("s-mode"));te.classList.remove(_t+"-h",_t+"-s")}((te,Ee,He,nt)=>{const _t=te.shadowRoot,En=[],In=_t?[]:null,Mn=nt.$vnode$=Ei(Ee,null);ar.$orgLocNodes$||Wt(mo.body,ar.$orgLocNodes$=new Map),te[en]=He,te.removeAttribute(en),Pt(Mn,En,[],In,te,te,He),En.map(di=>{const Ri=di.$hostId$+"."+di.$nodeId$,ur=ar.$orgLocNodes$.get(Ri),Qi=di.$elm$;ur&&Ta&&""===ur["s-en"]&&ur.parentNode.insertBefore(Qi,ur.nextSibling),_t||(Qi["s-hn"]=Ee,ur&&(Qi["s-ol"]=ur,Qi["s-ol"]["s-nr"]=Qi)),ar.$orgLocNodes$.delete(Ri)}),_t&&In.map(di=>{di&&_t.appendChild(di)})})(te,He.$tagName$,Mt,Ee)}Mt||12&He.$flags$&&Io(te);{let _t=te;for(;_t=_t.parentNode||_t.host;)if(1===_t.nodeType&&_t.hasAttribute("s-id")&&_t["s-p"]||_t["s-p"]){os(Ee,Ee.$ancestorComponent$=_t);break}}He.$members$&&Object.entries(He.$members$).map(([_t,[En]])=>{if(31&En&&te.hasOwnProperty(_t)){const On=te[_t];delete te[_t],te[_t]=On}}),vo(te,Ee,He)}nt()}})(this))}disconnectedCallback(){ar.jmp(()=>ca(this))}componentOnReady(){return hs(this).$onReadyPromise$}};2&Oo.$flags$&&((te,Ee)=>{ye(te),we(te),Je(te),de(te),ti(te),Lt(te),Ln(te),Si(te),qr(te,Ee),ut(te)})(Ka.prototype,Oo),Oo.$lazyBundleId$=ts[0],!_t.includes(xa)&&!En.get(xa)&&(Mt.push(xa),En.define(xa,la(Ka,Oo,1)))})}),Mt.length>0&&(Po&&(Mn.textContent+=pi),Mn.textContent+=Mt+"{visibility:hidden}.hydrated{visibility:inherit}",Mn.innerHTML.length)){Mn.setAttribute("data-styles","");const ts=null!=(He=ar.$nonce$)?He:xt(mo);null!=ts&&Mn.setAttribute("nonce",ts),On.insertBefore(Mn,In?In.nextSibling:On.firstChild)}Qi=!1,di.length?di.map(ts=>ts.connectedCallback()):ar.jmp(()=>ur=setTimeout(So,30))},As=(te,Ee,He,nt)=>{He&&He.map(([Mt,_t,En])=>{const On=Cr(te,Mt),In=Ko(Ee,En),Mn=Ro(Mt);ar.ael(On,_t,In,Mn),(Ee.$rmListeners$=Ee.$rmListeners$||[]).push(()=>ar.rel(On,_t,In,Mn))})},Ko=(te,Ee)=>He=>{try{256&te.$flags$?te.$lazyInstance$[Ee](He):(te.$queuedListeners$=te.$queuedListeners$||[]).push([Ee,He])}catch(nt){Xs(nt)}},Cr=(te,Ee)=>4&Ee?mo:8&Ee?pr:16&Ee?mo.body:te,Ro=te=>Kr?{passive:!!(1&te),capture:!!(2&te)}:!!(2&te),Js=new WeakMap,hs=te=>Js.get(te),gr=(te,Ee)=>Js.set(Ee.$lazyInstance$=te,Ee),jr=(te,Ee)=>{const He={$flags$:0,$hostElement$:te,$cmpMeta$:Ee,$instanceValues$:new Map};return He.$onInstancePromise$=new Promise(nt=>He.$onInstanceResolve$=nt),He.$onReadyPromise$=new Promise(nt=>He.$onReadyResolve$=nt),te["s-p"]=[],te["s-rc"]=[],As(te,He,Ee.$listeners$),Js.set(te,He)},ps=(te,Ee)=>Ee in te,Xs=(te,Ee)=>(0,console.error)(te,Ee),Pa=new Map,al=(te,Ee,He)=>{const nt=te.$tagName$.replace(/-/g,"_"),Mt=te.$lazyBundleId$,_t=Pa.get(Mt);return _t?_t[nt]:pe(8996)(`./${Mt}.entry.js`).then(En=>(Pa.set(Mt,En),En[nt]),Xs)},Ba=new Map,Va=[],pr=typeof window<"u"?window:{},mo=pr.document||{head:{}},ar={$flags$:0,$resourcesUrl$:"",jmp:te=>te(),raf:te=>requestAnimationFrame(te),ael:(te,Ee,He,nt)=>te.addEventListener(Ee,He,nt),rel:(te,Ee,He,nt)=>te.removeEventListener(Ee,He,nt),ce:(te,Ee)=>new CustomEvent(te,Ee)},Mo=te=>{Object.assign(ar,te)},Ta=!0,Kr=(()=>{let te=!1;try{mo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){te=!0}}))}catch{}return te})(),ea=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Go=!1,V=[],oe=[],Pe=(te,Ee)=>He=>{te.push(He),Go||(Go=!0,Ee&&4&ar.$flags$?bt(Le):ar.raf(Le))},j=te=>{for(let Ee=0;Ee<te.length;Ee++)try{te[Ee](performance.now())}catch(He){Xs(He)}te.length=0},Le=()=>{j(V),j(oe),(Go=V.length>0)&&ar.raf(Le)},bt=te=>Promise.resolve(void 0).then(te),mr=Pe(V,!1),oo=Pe(oe,!0)},2725:(Zi,xn,pe)=>{"use strict";pe.d(xn,{b:()=>$t,c:()=>Zt,d:()=>Yt,e:()=>An,g:()=>Ke,l:()=>pi,s:()=>Ei,t:()=>Gt,w:()=>Ci});var b=pe(467),m=pe(3664),ke=pe(9672),Et=pe(4929),k=pe(4920);const $t="ionViewWillLeave",Zt="ionViewDidLeave",Yt="ionViewWillUnload",rt=ve=>{ve.tabIndex=-1,ve.focus()},At=ve=>null!==ve.offsetParent,pt="ion-last-focus",Ut_saveViewFocus=Ie=>{if(m.c.get("focusManagerPriority",!1)){const Pt=document.activeElement;null!==Pt&&null!=Ie&&Ie.contains(Pt)&&Pt.setAttribute(pt,"true")}},Ut_setViewFocus=Ie=>{const at=m.c.get("focusManagerPriority",!1);if(Array.isArray(at)&&!Ie.contains(document.activeElement)){const Pt=Ie.querySelector(`[${pt}]`);if(Pt&&At(Pt))return void rt(Pt);for(const Wt of at)switch(Wt){case"content":const yt=Ie.querySelector('main, [role="main"]');if(yt&&At(yt))return void rt(yt);break;case"heading":const Xn=Ie.querySelector('h1, [role="heading"][aria-level="1"]');if(Xn&&At(Xn))return void rt(Xn);break;case"banner":const dr=Ie.querySelector('header, [role="banner"]');if(dr&&At(dr))return void rt(dr);break;default:(0,Et.p)(`Unrecognized focus manager priority value ${Wt}`)}rt(Ie)}},Gt=ve=>new Promise((me,Ie)=>{(0,ke.w)(()=>{fn(ve),Tt(ve).then(at=>{at.animation&&at.animation.destroy(),jt(ve),me(at)},at=>{jt(ve),Ie(at)})})}),fn=ve=>{const me=ve.enteringEl,Ie=ve.leavingEl;Ut_saveViewFocus(Ie),hn(me,Ie,ve.direction),ve.showGoBack?me.classList.add("can-go-back"):me.classList.remove("can-go-back"),Ei(me,!1),me.style.setProperty("pointer-events","none"),Ie&&(Ei(Ie,!1),Ie.style.setProperty("pointer-events","none"))},Tt=function(){var ve=(0,b.A)(function*(me){const Ie=yield st(me);return Ie&&ke.B.isBrowser?Bt(Ie,me):Vt(me)});return function(Ie){return ve.apply(this,arguments)}}(),jt=ve=>{const me=ve.enteringEl,Ie=ve.leavingEl;me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"),void 0!==Ie&&(Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events")),Ut_setViewFocus(me)},st=function(){var ve=(0,b.A)(function*(me){return me.leavingEl&&me.animated&&0!==me.duration?me.animationBuilder?me.animationBuilder:"ios"===me.mode?(yield Promise.resolve().then(pe.bind(pe,8454))).iosTransitionAnimation:(yield Promise.resolve().then(pe.bind(pe,3314))).mdTransitionAnimation:void 0});return function(Ie){return ve.apply(this,arguments)}}(),Bt=function(){var ve=(0,b.A)(function*(me,Ie){yield Qt(Ie,!0);const at=me(Ie.baseEl,Ie);pn(Ie.enteringEl,Ie.leavingEl);const Pt=yield gt(at,Ie);return Ie.progressCallback&&Ie.progressCallback(void 0),Pt&&Tn(Ie.enteringEl,Ie.leavingEl),{hasCompleted:Pt,animation:at}});return function(Ie,at){return ve.apply(this,arguments)}}(),Vt=function(){var ve=(0,b.A)(function*(me){const Ie=me.enteringEl,at=me.leavingEl,Pt=m.c.get("focusManagerPriority",!1);return yield Qt(me,Pt),pn(Ie,at),Tn(Ie,at),{hasCompleted:!0}});return function(Ie){return ve.apply(this,arguments)}}(),Qt=function(){var ve=(0,b.A)(function*(me,Ie){(void 0!==me.deepWait?me.deepWait:Ie)&&(yield Promise.all([An(me.enteringEl),An(me.leavingEl)])),yield en(me.viewIsReady,me.enteringEl)});return function(Ie,at){return ve.apply(this,arguments)}}(),en=function(){var ve=(0,b.A)(function*(me,Ie){me&&(yield me(Ie))});return function(Ie,at){return ve.apply(this,arguments)}}(),gt=(ve,me)=>{const Ie=me.progressCallback,at=new Promise(Pt=>{ve.onFinish(Wt=>Pt(1===Wt))});return Ie?(ve.progressStart(!0),Ie(ve)):ve.play(),at},pn=(ve,me)=>{pi(me,$t),pi(ve,"ionViewWillEnter")},Tn=(ve,me)=>{pi(ve,"ionViewDidEnter"),pi(me,Zt)},pi=(ve,me)=>{if(ve){const Ie=new CustomEvent(me,{bubbles:!1,cancelable:!1});ve.dispatchEvent(Ie)}},Ci=()=>new Promise(ve=>(0,k.r)(()=>(0,k.r)(()=>ve()))),An=function(){var ve=(0,b.A)(function*(me){const Ie=me;if(Ie){if(null!=Ie.componentOnReady){if(null!=(yield Ie.componentOnReady()))return}else if(null!=Ie.__registerHost)return void(yield new Promise(Pt=>(0,k.r)(Pt)));yield Promise.all(Array.from(Ie.children).map(An))}});return function(Ie){return ve.apply(this,arguments)}}(),Ei=(ve,me)=>{me?(ve.setAttribute("aria-hidden","true"),ve.classList.add("ion-page-hidden")):(ve.hidden=!1,ve.removeAttribute("aria-hidden"),ve.classList.remove("ion-page-hidden"))},hn=(ve,me,Ie)=>{void 0!==ve&&(ve.style.zIndex="back"===Ie?"99":"101"),void 0!==me&&(me.style.zIndex="100")},Ke=ve=>ve.classList.contains("ion-page")?ve:ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ve},4929:(Zi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>m,b:()=>ke,p:()=>b});const b=(Et,...k)=>console.warn(`[Ionic Warning]: ${Et}`,...k),m=(Et,...k)=>console.error(`[Ionic Error]: ${Et}`,...k),ke=(Et,...k)=>console.error(`<${Et.tagName.toLowerCase()}> must be used inside ${k.join(" or ")}.`)},8476:(Zi,xn,pe)=>{"use strict";pe.d(xn,{d:()=>m,w:()=>b});const b=typeof window<"u"?window:void 0,m=typeof document<"u"?document:void 0},3664:(Zi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>rt,b:()=>Ei,c:()=>ke,i:()=>hn});var b=pe(9672);class m{constructor(){this.m=new Map}reset(ve){this.m=new Map(Object.entries(ve))}get(ve,me){const Ie=this.m.get(ve);return void 0!==Ie?Ie:me}getBoolean(ve,me=!1){const Ie=this.m.get(ve);return void 0===Ie?me:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(ve,me){const Ie=parseFloat(this.m.get(ve));return isNaN(Ie)?void 0!==me?me:NaN:Ie}set(ve,me){this.m.set(ve,me)}}const ke=new m,Zt="ionic-persist-config",rt=(Ke,ve)=>("string"==typeof Ke&&(ve=Ke,Ke=void 0),(Ke=>At(Ke))(Ke).includes(ve)),At=(Ke=window)=>{if(typeof Ke>"u")return[];Ke.Ionic=Ke.Ionic||{};let ve=Ke.Ionic.platforms;return null==ve&&(ve=Ke.Ionic.platforms=xt(Ke),ve.forEach(me=>Ke.document.documentElement.classList.add(`plt-${me}`))),ve},xt=Ke=>{const ve=ke.get("platform");return Object.keys(Ci).filter(me=>{const Ie=null==ve?void 0:ve[me];return"function"==typeof Ie?Ie(Ke):Ci[me](Ke)})},It=Ke=>!!(Tn(Ke,/iPad/i)||Tn(Ke,/Macintosh/i)&&st(Ke)),Gt=Ke=>Tn(Ke,/android|sink/i),st=Ke=>pi(Ke,"(any-pointer:coarse)"),Vt=Ke=>Qt(Ke)||en(Ke),Qt=Ke=>!!(Ke.cordova||Ke.phonegap||Ke.PhoneGap),en=Ke=>{const ve=Ke.Capacitor;return!(null==ve||!ve.isNative)},Tn=(Ke,ve)=>ve.test(Ke.navigator.userAgent),pi=(Ke,ve)=>{var me;return null===(me=Ke.matchMedia)||void 0===me?void 0:me.call(Ke,ve).matches},Ci={ipad:It,iphone:Ke=>Tn(Ke,/iPhone/i),ios:Ke=>Tn(Ke,/iPhone|iPod/i)||It(Ke),android:Gt,phablet:Ke=>{const ve=Ke.innerWidth,me=Ke.innerHeight,Ie=Math.min(ve,me),at=Math.max(ve,me);return Ie>390&&Ie<520&&at>620&&at<800},tablet:Ke=>{const ve=Ke.innerWidth,me=Ke.innerHeight,Ie=Math.min(ve,me),at=Math.max(ve,me);return It(Ke)||(Ke=>Gt(Ke)&&!Tn(Ke,/mobile/i))(Ke)||Ie>460&&Ie<820&&at>780&&at<1400},cordova:Qt,capacitor:en,electron:Ke=>Tn(Ke,/electron/i),pwa:Ke=>{var ve;return!!(null!==(ve=Ke.matchMedia)&&void 0!==ve&&ve.call(Ke,"(display-mode: standalone)").matches||Ke.navigator.standalone)},mobile:st,mobileweb:Ke=>st(Ke)&&!Vt(Ke),desktop:Ke=>!st(Ke),hybrid:Vt};let An;const Ei=Ke=>Ke&&(0,b.g)(Ke)||An,hn=(Ke={})=>{if(typeof window>"u")return;const ve=window.document,me=window,Ie=me.Ionic=me.Ionic||{},at={};Ke._ael&&(at.ael=Ke._ael),Ke._rel&&(at.rel=Ke._rel),Ke._ce&&(at.ce=Ke._ce),(0,b.a)(at);const Pt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ke=>{try{const ve=Ke.sessionStorage.getItem(Zt);return null!==ve?JSON.parse(ve):{}}catch{return{}}})(me)),{persistConfig:!1}),Ie.config),(Ke=>{const ve={};return Ke.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,Ie])=>{try{return[decodeURIComponent(me),decodeURIComponent(Ie)]}catch{return["",""]}}).filter(([me])=>((Ke,ve)=>Ke.substr(0,ve.length)===ve)(me,"ionic:")).map(([me,Ie])=>[me.slice(6),Ie]).forEach(([me,Ie])=>{ve[me]=Ie}),ve})(me)),Ke);ke.reset(Pt),ke.getBoolean("persistConfig")&&((Ke,ve)=>{try{Ke.sessionStorage.setItem(Zt,JSON.stringify(ve))}catch{return}})(me,Pt),At(me),Ie.config=ke,Ie.mode=An=ke.get("mode",ve.documentElement.getAttribute("mode")||(rt(me,"ios")?"ios":"md")),ke.set("mode",An),ve.documentElement.setAttribute("mode",An),ve.documentElement.classList.add(An),ke.getBoolean("_testing")&&ke.set("animated",!1);const Wt=Xn=>{var dr;return null===(dr=Xn.tagName)||void 0===dr?void 0:dr.startsWith("ION-")},yt=Xn=>["ios","md"].includes(Xn);(0,b.c)(Xn=>{for(;Xn;){const dr=Xn.mode||Xn.getAttribute("mode");if(dr){if(yt(dr))return dr;Wt(Xn)&&console.warn('Invalid ionic mode: "'+dr+'", expected: "ios" or "md"')}Xn=Xn.parentElement}return An})}},8454:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{iosTransitionAnimation:()=>pt,shadow:()=>$t});var b=pe(9986),m=pe(2725);pe(8476),pe(3664),pe(9672);const je=rn=>document.querySelector(`${rn}.ion-cloned-element`),$t=rn=>rn.shadowRoot||rn,Zt=rn=>{const Ut="ION-TABS"===rn.tagName?rn:rn.querySelector("ion-tabs"),Gt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ut){const fn=Ut.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=fn?fn.querySelector(Gt):null}return rn.querySelector(Gt)},Yt=(rn,Ut)=>{const Gt="ION-TABS"===rn.tagName?rn:rn.querySelector("ion-tabs");let fn=[];if(null!=Gt){const Tt=Gt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Tt&&(fn=Tt.querySelectorAll("ion-buttons"))}else fn=rn.querySelectorAll("ion-buttons");for(const Tt of fn){const jt=Tt.closest("ion-header"),st=jt&&!jt.classList.contains("header-collapse-condense-inactive"),Bt=Tt.querySelector("ion-back-button"),Vt=Tt.classList.contains("buttons-collapse");if(null!==Bt&&("start"===Tt.slot||""===Tt.slot)&&(Vt&&st&&Ut||!Vt))return Bt}return null},At=(rn,Ut,Gt,fn,Tt,jt,st,Bt,Vt)=>{var Qt,en;const gt=Ut?`calc(100% - ${Tt.right+4}px)`:Tt.left-4+"px",pn=Ut?"right":"left",Tn=Ut?"left":"right",pi=Ut?"right":"left";let Ci=1,An=1,Ei=`scale(${An})`;const hn="scale(1)";if(jt&&st){const cn=(null===(Qt=jt.textContent)||void 0===Qt?void 0:Qt.trim())===(null===(en=Bt.textContent)||void 0===en?void 0:en.trim());Ci=Vt.width/st.width,An=(Vt.height-It)/st.height,Ei=cn?`scale(${Ci}, ${An})`:`scale(${An})`}const ve=$t(fn).querySelector("ion-icon").getBoundingClientRect(),me=Ut?ve.width/2-(ve.right-Tt.right)+"px":Tt.left-ve.width/2+"px",Ie=Ut?`-${window.innerWidth-Tt.right}px`:`${Tt.left}px`,at=`${Vt.top}px`,Pt=`${Tt.top}px`,Xn=Gt?[{offset:0,transform:`translate3d(${Ie}, ${Pt}, 0)`},{offset:1,transform:`translate3d(${me}, ${at}, 0)`}]:[{offset:0,transform:`translate3d(${me}, ${at}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${Pt}, 0)`}],or=Gt?[{offset:0,opacity:1,transform:hn},{offset:1,opacity:0,transform:Ei}]:[{offset:0,opacity:0,transform:Ei},{offset:1,opacity:1,transform:hn}],Vr=Gt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],_r=(0,b.c)(),cs=(0,b.c)(),Fr=(0,b.c)(),ri=je("ion-back-button"),Ft=$t(ri).querySelector(".button-text"),nn=$t(ri).querySelector("ion-icon");ri.text=fn.text,ri.mode=fn.mode,ri.icon=fn.icon,ri.color=fn.color,ri.disabled=fn.disabled,ri.style.setProperty("display","block"),ri.style.setProperty("position","fixed"),cs.addElement(nn),_r.addElement(Ft),Fr.addElement(ri),Fr.beforeStyles({position:"absolute",top:"0px",[pi]:"0px"}).beforeAddWrite(()=>{fn.style.setProperty("display","none"),ri.style.setProperty(pn,gt)}).afterAddWrite(()=>{fn.style.setProperty("display",""),ri.style.setProperty("display","none"),ri.style.removeProperty(pn)}).keyframes(Xn),_r.beforeStyles({"transform-origin":`${pn} top`}).keyframes(or),cs.beforeStyles({"transform-origin":`${Tn} center`}).keyframes(Vr),rn.addAnimation([_r,cs,Fr])},xt=(rn,Ut,Gt,fn,Tt,jt,st,Bt,Vt)=>{var Qt,en;const gt=Ut?"right":"left",pn=Ut?`calc(100% - ${Tt.right}px)`:`${Tt.left}px`,pi=`${Tt.top}px`;let An=Ut?`-${window.innerWidth-st.right-8}px`:`${st.x+8}px`,Ei=.5;const hn="scale(1)";let Ke=`scale(${Ei})`;if(Bt&&Vt){An=Ut?`-${window.innerWidth-Vt.right-8}px`:Vt.x-8+"px";const dr=(null===(Qt=Bt.textContent)||void 0===Qt?void 0:Qt.trim())===(null===(en=fn.textContent)||void 0===en?void 0:en.trim());Ei=Vt.height/(jt.height-It),Ke=dr?`scale(${Vt.width/jt.width}, ${Ei})`:`scale(${Ei})`}const Ie=st.top+st.height/2-Tt.height*Ei/2+"px",Wt=Gt?[{offset:0,opacity:0,transform:`translate3d(${An}, ${Ie}, 0) ${Ke}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${pi}, 0) ${hn}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${pi}, 0) ${hn}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${An}, ${Ie}, 0) ${Ke}`}],yt=je("ion-title"),Xn=(0,b.c)();yt.innerText=fn.innerText,yt.size=fn.size,yt.color=fn.color,Xn.addElement(yt),Xn.beforeStyles({"transform-origin":`${gt} top`,height:`${Tt.height}px`,display:"",position:"relative",[gt]:pn}).beforeAddWrite(()=>{fn.style.setProperty("opacity","0")}).afterAddWrite(()=>{fn.style.setProperty("opacity",""),yt.style.setProperty("display","none")}).keyframes(Wt),rn.addAnimation(Xn)},pt=(rn,Ut)=>{var Gt;try{const fn="cubic-bezier(0.32,0.72,0,1)",Tt="opacity",jt="transform",st="0%",Vt="rtl"===rn.ownerDocument.dir,Qt=Vt?"-99.5%":"99.5%",en=Vt?"33%":"-33%",gt=Ut.enteringEl,pn=Ut.leavingEl,Tn="back"===Ut.direction,pi=gt.querySelector(":scope > ion-content"),Ci=gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),An=gt.querySelectorAll(":scope > ion-header > ion-toolbar"),Ei=(0,b.c)(),hn=(0,b.c)();if(Ei.addElement(gt).duration((null!==(Gt=Ut.duration)&&void 0!==Gt?Gt:0)||540).easing(Ut.easing||fn).fill("both").beforeRemoveClass("ion-page-invisible"),pn&&null!=rn){const Ie=(0,b.c)();Ie.addElement(rn),Ei.addAnimation(Ie)}if(pi||0!==An.length||0!==Ci.length?(hn.addElement(pi),hn.addElement(Ci)):hn.addElement(gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ei.addAnimation(hn),Tn?hn.beforeClearStyles([Tt]).fromTo("transform",`translateX(${en})`,`translateX(${st})`).fromTo(Tt,.8,1):hn.beforeClearStyles([Tt]).fromTo("transform",`translateX(${Qt})`,`translateX(${st})`),pi){const Ie=$t(pi).querySelector(".transition-effect");if(Ie){const at=Ie.querySelector(".transition-cover"),Pt=Ie.querySelector(".transition-shadow"),Wt=(0,b.c)(),yt=(0,b.c)(),Xn=(0,b.c)();Wt.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),yt.addElement(at).beforeClearStyles([Tt]).fromTo(Tt,0,.1),Xn.addElement(Pt).beforeClearStyles([Tt]).fromTo(Tt,.03,.7),Wt.addAnimation([yt,Xn]),hn.addAnimation([Wt])}}const Ke=gt.querySelector("ion-header.header-collapse-condense"),{forward:ve,backward:me}=((rn,Ut,Gt,fn,Tt)=>{const jt=Yt(fn,Gt),st=Zt(Tt),Bt=Zt(fn),Vt=Yt(Tt,Gt),Qt=null!==jt&&null!==st&&!Gt,en=null!==Bt&&null!==Vt&&Gt;if(Qt){const gt=st.getBoundingClientRect(),pn=jt.getBoundingClientRect(),Tn=$t(jt).querySelector(".button-text"),pi=null==Tn?void 0:Tn.getBoundingClientRect(),An=$t(st).querySelector(".toolbar-title").getBoundingClientRect();xt(rn,Ut,Gt,st,gt,An,pn,Tn,pi),At(rn,Ut,Gt,jt,pn,Tn,pi,st,An)}else if(en){const gt=Bt.getBoundingClientRect(),pn=Vt.getBoundingClientRect(),Tn=$t(Vt).querySelector(".button-text"),pi=null==Tn?void 0:Tn.getBoundingClientRect(),An=$t(Bt).querySelector(".toolbar-title").getBoundingClientRect();xt(rn,Ut,Gt,Bt,gt,An,pn,Tn,pi),At(rn,Ut,Gt,Vt,pn,Tn,pi,Bt,An)}return{forward:Qt,backward:en}})(Ei,Vt,Tn,gt,pn);if(An.forEach(Ie=>{const at=(0,b.c)();at.addElement(Ie),Ei.addAnimation(at);const Pt=(0,b.c)();Pt.addElement(Ie.querySelector("ion-title"));const Wt=(0,b.c)(),yt=Array.from(Ie.querySelectorAll("ion-buttons,[menuToggle]")),Xn=Ie.closest("ion-header"),dr=null==Xn?void 0:Xn.classList.contains("header-collapse-condense-inactive");let bi;bi=yt.filter(Tn?_r=>{const cs=_r.classList.contains("buttons-collapse");return cs&&!dr||!cs}:_r=>!_r.classList.contains("buttons-collapse")),Wt.addElement(bi);const or=(0,b.c)();or.addElement(Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const rr=(0,b.c)();rr.addElement($t(Ie).querySelector(".toolbar-background"));const fr=(0,b.c)(),Vr=Ie.querySelector("ion-back-button");if(Vr&&fr.addElement(Vr),at.addAnimation([Pt,Wt,or,rr,fr]),Wt.fromTo(Tt,.01,1),or.fromTo(Tt,.01,1),Tn)dr||Pt.fromTo("transform",`translateX(${en})`,`translateX(${st})`).fromTo(Tt,.01,1),or.fromTo("transform",`translateX(${en})`,`translateX(${st})`),fr.fromTo(Tt,.01,1);else if(Ke||Pt.fromTo("transform",`translateX(${Qt})`,`translateX(${st})`).fromTo(Tt,.01,1),or.fromTo("transform",`translateX(${Qt})`,`translateX(${st})`),rr.beforeClearStyles([Tt,"transform"]),(null==Xn?void 0:Xn.translucent)?rr.fromTo("transform",Vt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):rr.fromTo(Tt,.01,"var(--opacity)"),ve||fr.fromTo(Tt,.01,1),Vr&&!ve){const cs=(0,b.c)();cs.addElement($t(Vr).querySelector(".button-text")).fromTo("transform",Vt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),at.addAnimation(cs)}}),pn){const Ie=(0,b.c)(),at=pn.querySelector(":scope > ion-content"),Pt=pn.querySelectorAll(":scope > ion-header > ion-toolbar"),Wt=pn.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(at||0!==Pt.length||0!==Wt.length?(Ie.addElement(at),Ie.addElement(Wt)):Ie.addElement(pn.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ei.addAnimation(Ie),Tn){Ie.beforeClearStyles([Tt]).fromTo("transform",`translateX(${st})`,Vt?"translateX(-100%)":"translateX(100%)");const yt=(0,m.g)(pn);Ei.afterAddWrite(()=>{"normal"===Ei.getDirection()&&yt.style.setProperty("display","none")})}else Ie.fromTo("transform",`translateX(${st})`,`translateX(${en})`).fromTo(Tt,1,.8);if(at){const yt=$t(at).querySelector(".transition-effect");if(yt){const Xn=yt.querySelector(".transition-cover"),dr=yt.querySelector(".transition-shadow"),bi=(0,b.c)(),or=(0,b.c)(),rr=(0,b.c)();bi.addElement(yt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),or.addElement(Xn).beforeClearStyles([Tt]).fromTo(Tt,.1,0),rr.addElement(dr).beforeClearStyles([Tt]).fromTo(Tt,.7,.03),bi.addAnimation([or,rr]),Ie.addAnimation([bi])}}Pt.forEach(yt=>{const Xn=(0,b.c)();Xn.addElement(yt);const dr=(0,b.c)();dr.addElement(yt.querySelector("ion-title"));const bi=(0,b.c)(),or=yt.querySelectorAll("ion-buttons,[menuToggle]"),rr=yt.closest("ion-header"),fr=null==rr?void 0:rr.classList.contains("header-collapse-condense-inactive"),Vr=Array.from(or).filter(nn=>{const cn=nn.classList.contains("buttons-collapse");return cn&&!fr||!cn});bi.addElement(Vr);const _r=(0,b.c)(),cs=yt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");cs.length>0&&_r.addElement(cs);const Fr=(0,b.c)();Fr.addElement($t(yt).querySelector(".toolbar-background"));const ri=(0,b.c)(),Ft=yt.querySelector("ion-back-button");if(Ft&&ri.addElement(Ft),Xn.addAnimation([dr,bi,_r,ri,Fr]),Ei.addAnimation(Xn),ri.fromTo(Tt,.99,0),bi.fromTo(Tt,.99,0),_r.fromTo(Tt,.99,0),Tn){if(fr||dr.fromTo("transform",`translateX(${st})`,Vt?"translateX(-100%)":"translateX(100%)").fromTo(Tt,.99,0),_r.fromTo("transform",`translateX(${st})`,Vt?"translateX(-100%)":"translateX(100%)"),Fr.beforeClearStyles([Tt,"transform"]),(null==rr?void 0:rr.translucent)?Fr.fromTo("transform","translateX(0px)",Vt?"translateX(-100%)":"translateX(100%)"):Fr.fromTo(Tt,"var(--opacity)",0),Ft&&!me){const cn=(0,b.c)();cn.addElement($t(Ft).querySelector(".button-text")).fromTo("transform",`translateX(${st})`,`translateX(${(Vt?-124:124)+"px"})`),Xn.addAnimation(cn)}}else fr||dr.fromTo("transform",`translateX(${st})`,`translateX(${en})`).fromTo(Tt,.99,0).afterClearStyles([jt,Tt]),_r.fromTo("transform",`translateX(${st})`,`translateX(${en})`).afterClearStyles([jt,Tt]),ri.afterClearStyles([Tt]),dr.afterClearStyles([Tt]),bi.afterClearStyles([Tt])})}return Ei}catch(fn){throw fn}},It=10},3314:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{mdTransitionAnimation:()=>Xt});var b=pe(9986),m=pe(2725);pe(8476),pe(3664),pe(9672);const Xt=(je,$t)=>{var Zt,Yt,rt;const pt="back"===$t.direction,rn=$t.leavingEl,Ut=(0,m.g)($t.enteringEl),Gt=Ut.querySelector("ion-toolbar"),fn=(0,b.c)();if(fn.addElement(Ut).fill("both").beforeRemoveClass("ion-page-invisible"),pt?fn.duration((null!==(Zt=$t.duration)&&void 0!==Zt?Zt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):fn.duration((null!==(Yt=$t.duration)&&void 0!==Yt?Yt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Gt){const Tt=(0,b.c)();Tt.addElement(Gt),fn.addAnimation(Tt)}if(rn&&pt){fn.duration((null!==(rt=$t.duration)&&void 0!==rt?rt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Tt=(0,b.c)();Tt.addElement((0,m.g)(rn)).onFinish(jt=>{1===jt&&Tt.elements.length>0&&Tt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),fn.addAnimation(Tt)}return fn}},6002:(Zi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>or,F:()=>ri,G:()=>rr,O:()=>fr,a:()=>Ut,b:()=>Gt,c:()=>st,d:()=>Vr,e:()=>_r,f:()=>ve,g:()=>Ie,h:()=>Wt,i:()=>Xn,j:()=>Vt,k:()=>Qt,m:()=>Tt,n:()=>Yt,o:()=>hn,q:()=>rt,s:()=>bi});var b=pe(467),m=pe(8476),ke=pe(4920),Et=pe(6411),k=pe(3664),Xt=pe(8621),je=pe(1970),$t=pe(4929);const Zt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Yt=(Ft,nn)=>{const cn=Ft.querySelector(Zt);At(cn,null!=nn?nn:Ft)},rt=(Ft,nn)=>{const cn=Array.from(Ft.querySelectorAll(Zt));At(cn.length>0?cn[cn.length-1]:null,null!=nn?nn:Ft)},At=(Ft,nn)=>{let cn=Ft;const gi=null==Ft?void 0:Ft.shadowRoot;gi&&(cn=gi.querySelector(Zt)||Ft),cn?(0,ke.f)(cn):nn.focus()};let xt=0,pt=0;const It=new WeakMap,rn=Ft=>({create:nn=>en(Ft,nn),dismiss:(nn,cn,gi)=>Ci(document,nn,cn,Ft,gi),getTop:()=>(0,b.A)(function*(){return hn(document,Ft)})()}),Ut=rn("ion-alert"),Gt=rn("ion-action-sheet"),Tt=rn("ion-modal"),st=rn("ion-popover"),Vt=Ft=>{typeof document<"u"&&pi(document);const nn=xt++;Ft.overlayIndex=nn},Qt=Ft=>(Ft.hasAttribute("id")||(Ft.id="ion-overlay-"+ ++pt),Ft.id),en=(Ft,nn)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ft).then(()=>{const cn=document.createElement(Ft);return cn.classList.add("overlay-hidden"),Object.assign(cn,Object.assign(Object.assign({},nn),{hasController:!0})),at(document).appendChild(cn),new Promise(gi=>(0,ke.c)(cn,gi))}):Promise.resolve(),pn=(Ft,nn)=>{let cn=Ft;const gi=null==Ft?void 0:Ft.shadowRoot;gi&&(cn=gi.querySelector(Zt)||Ft),cn?(0,ke.f)(cn):nn.focus()},pi=Ft=>{0===xt&&(xt=1,Ft.addEventListener("focus",nn=>{((Ft,nn)=>{const cn=hn(nn,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),gi=Ft.target;cn&&gi&&!cn.classList.contains(ri)&&(cn.shadowRoot?(()=>{if(cn.contains(gi))cn.lastFocus=gi;else if("ION-TOAST"===gi.tagName)pn(cn.lastFocus,cn);else{const kr=cn.lastFocus;Yt(cn),kr===nn.activeElement&&rt(cn),cn.lastFocus=nn.activeElement}})():(()=>{if(cn===gi)cn.lastFocus=void 0;else if("ION-TOAST"===gi.tagName)pn(cn.lastFocus,cn);else{const kr=(0,ke.g)(cn);if(!kr.contains(gi))return;const Di=kr.querySelector(".ion-overlay-wrapper");if(!Di)return;if(Di.contains(gi)||gi===kr.querySelector("ion-backdrop"))cn.lastFocus=gi;else{const wi=cn.lastFocus;Yt(Di,cn),wi===nn.activeElement&&rt(Di,cn),cn.lastFocus=nn.activeElement}}})())})(nn,Ft)},!0),Ft.addEventListener("ionBackButton",nn=>{const cn=hn(Ft);null!=cn&&cn.backdropDismiss&&nn.detail.register(Et.OVERLAY_BACK_BUTTON_PRIORITY,()=>{cn.dismiss(void 0,or)})}),(0,Et.shouldUseCloseWatcher)()||Ft.addEventListener("keydown",nn=>{if("Escape"===nn.key){const cn=hn(Ft);null!=cn&&cn.backdropDismiss&&cn.dismiss(void 0,or)}}))},Ci=(Ft,nn,cn,gi,hr)=>{const zr=hn(Ft,gi,hr);return zr?zr.dismiss(nn,cn):Promise.reject("overlay does not exist")},Ei=(Ft,nn)=>((Ft,nn)=>(void 0===nn&&(nn="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ft.querySelectorAll(nn)).filter(cn=>cn.overlayIndex>0)))(Ft,nn).filter(cn=>!(Ft=>Ft.classList.contains("overlay-hidden"))(cn)),hn=(Ft,nn,cn)=>{const gi=Ei(Ft,nn);return void 0===cn?gi[gi.length-1]:gi.find(hr=>hr.id===cn)},Ke=(Ft=!1)=>{const cn=at(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");cn&&(Ft?cn.setAttribute("aria-hidden","true"):cn.removeAttribute("aria-hidden"))},ve=function(){var Ft=(0,b.A)(function*(nn,cn,gi,hr,zr){var kr,Di;if(nn.presented)return;Ke(!0),document.body.classList.add(je.B),cs(nn.el),nn.presented=!0,nn.willPresent.emit(),null===(kr=nn.willPresentShorthand)||void 0===kr||kr.emit();const wi=(0,k.b)(nn),Ur=nn.enterAnimation?nn.enterAnimation:k.c.get(cn,"ios"===wi?gi:hr);(yield Pt(nn,Ur,nn.el,zr))&&(nn.didPresent.emit(),null===(Di=nn.didPresentShorthand)||void 0===Di||Di.emit()),"ION-TOAST"!==nn.el.tagName&&me(nn.el),nn.keyboardClose&&(null===document.activeElement||!nn.el.contains(document.activeElement))&&nn.el.focus(),nn.el.removeAttribute("aria-hidden")});return function(cn,gi,hr,zr,kr){return Ft.apply(this,arguments)}}(),me=function(){var Ft=(0,b.A)(function*(nn){let cn=document.activeElement;if(!cn)return;const gi=null==cn?void 0:cn.shadowRoot;gi&&(cn=gi.querySelector(Zt)||cn),yield nn.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&cn.focus()});return function(cn){return Ft.apply(this,arguments)}}(),Ie=function(){var Ft=(0,b.A)(function*(nn,cn,gi,hr,zr,kr,Di){var wi,Ur;if(!nn.presented)return!1;void 0!==m.d&&1===Ei(m.d).length&&(Ke(!1),document.body.classList.remove(je.B)),nn.presented=!1;try{nn.el.style.setProperty("pointer-events","none"),nn.willDismiss.emit({data:cn,role:gi}),null===(wi=nn.willDismissShorthand)||void 0===wi||wi.emit({data:cn,role:gi});const wr=(0,k.b)(nn),Jr=nn.leaveAnimation?nn.leaveAnimation:k.c.get(hr,"ios"===wr?zr:kr);gi!==rr&&(yield Pt(nn,Jr,nn.el,Di)),nn.didDismiss.emit({data:cn,role:gi}),null===(Ur=nn.didDismissShorthand)||void 0===Ur||Ur.emit({data:cn,role:gi}),(It.get(nn)||[]).forEach(io=>io.destroy()),It.delete(nn),nn.el.classList.add("overlay-hidden"),nn.el.style.removeProperty("pointer-events"),void 0!==nn.el.lastFocus&&(nn.el.lastFocus=void 0)}catch(wr){console.error(wr)}return nn.el.remove(),Fr(),!0});return function(cn,gi,hr,zr,kr,Di,wi){return Ft.apply(this,arguments)}}(),at=Ft=>Ft.querySelector("ion-app")||Ft.body,Pt=function(){var Ft=(0,b.A)(function*(nn,cn,gi,hr){gi.classList.remove("overlay-hidden");const kr=cn(nn.el,hr);(!nn.animated||!k.c.getBoolean("animated",!0))&&kr.duration(0),nn.keyboardClose&&kr.beforeAddWrite(()=>{const wi=gi.ownerDocument.activeElement;null!=wi&&wi.matches("input,ion-input, ion-textarea")&&wi.blur()});const Di=It.get(nn)||[];return It.set(nn,[...Di,kr]),yield kr.play(),!0});return function(cn,gi,hr,zr){return Ft.apply(this,arguments)}}(),Wt=(Ft,nn)=>{let cn;const gi=new Promise(hr=>cn=hr);return yt(Ft,nn,hr=>{cn(hr.detail)}),gi},yt=(Ft,nn,cn)=>{const gi=hr=>{(0,ke.b)(Ft,nn,gi),cn(hr)};(0,ke.a)(Ft,nn,gi)},Xn=Ft=>"cancel"===Ft||Ft===or,dr=Ft=>Ft(),bi=(Ft,nn)=>{if("function"==typeof Ft)return k.c.get("_zoneGate",dr)(()=>{try{return Ft(nn)}catch(gi){throw gi}})},or="backdrop",rr="gesture",fr=39,Vr=Ft=>{let cn,nn=!1;const gi=(0,Xt.C)(),hr=(Di=!1)=>{if(cn&&!Di)return{delegate:cn,inline:nn};const{el:wi,hasController:Ur,delegate:Hr}=Ft;return nn=null!==wi.parentNode&&!Ur,cn=nn?Hr||gi:Hr,{inline:nn,delegate:cn}};return{attachViewToDom:function(){var Di=(0,b.A)(function*(wi){const{delegate:Ur}=hr(!0);if(Ur)return yield Ur.attachViewToDom(Ft.el,wi);const{hasController:Hr}=Ft;if(Hr&&void 0!==wi)throw new Error("framework delegate is missing");return null});return function(Ur){return Di.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Di}=hr();Di&&void 0!==Ft.el&&Di.removeViewFromDom(Ft.el.parentElement,Ft.el)}}},_r=()=>{let Ft;const nn=()=>{Ft&&(Ft(),Ft=void 0)};return{addClickListener:(gi,hr)=>{nn();const zr=void 0!==hr?document.getElementById(hr):null;zr?Ft=((Di,wi)=>{const Ur=()=>{wi.present()};return Di.addEventListener("click",Ur),()=>{Di.removeEventListener("click",Ur)}})(zr,gi):(0,$t.p)(`A trigger element with the ID "${hr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,gi)},removeClickListener:nn}},cs=Ft=>{var nn;if(void 0===m.d)return;const cn=Ei(m.d);for(let gi=cn.length-1;gi>=0;gi--){const hr=cn[gi],zr=null!==(nn=cn[gi+1])&&void 0!==nn?nn:Ft;(zr.hasAttribute("aria-hidden")||"ION-TOAST"!==zr.tagName)&&hr.setAttribute("aria-hidden","true")}},Fr=()=>{if(void 0===m.d)return;const Ft=Ei(m.d);for(let nn=Ft.length-1;nn>=0;nn--){const cn=Ft[nn];if(cn.removeAttribute("aria-hidden"),"ION-TOAST"!==cn.tagName)break}},ri="ion-disable-focus-trap"},3971:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{HistoriaPageModule:()=>xt});var b=pe(177),m=pe(4341),ke=pe(7863),Et=pe(70),k=pe(4438);function Xt(pt,It){1&pt&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Empresa de energ\xeda solar enfocada en desarrollar y fortalecer la transici\xf3n hacia un modelo de generaci\xf3n el\xe9ctrica descentralizado, resiliente y sostenible. "),k.k0s()())}function je(pt,It){1&pt&&(k.j41(0,"div")(1,"p",61),k.EFF(2," Formar parte activa de la transici\xf3n energ\xe9tica sostenible del Ecuador, ofreciendo soluciones de ahorro de energ\xeda y sostenibilidad mediante la integraci\xf3n de un sistema fotovoltaico. Ajustados a las necesidades de cada cliente y proyecto."),k.k0s()())}function $t(pt,It){1&pt&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Trabajar con el objetivo de convertirnos en empresa l\xedder en el sector de las energ\xedas renovables y eficiencia energ\xe9tica en Latino Am\xe9rica. "),k.k0s()())}function Zt(pt,It){1&pt&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Nos sustentamos en cuatro pilares b\xe1sicos basados en un aut\xe9ntico compromiso de responsabilidad:"),k.k0s(),k.nrm(3,"ion-icon",62),k.EFF(4,"Pasion\n"),k.nrm(5,"hr")(6,"ion-icon",63),k.EFF(7,"Transperencia "),k.nrm(8,"hr")(9,"ion-icon",64),k.EFF(10,"Resilencia\n"),k.nrm(11,"hr")(12,"ion-icon",65),k.EFF(13,"Inovacion\n"),k.k0s())}const rt=[{path:"",component:(()=>{var pt;class It{constructor(Ut){this.router=Ut,this.activeSegment="tab1"}segmentChanged(Ut){this.router.navigate([Ut.detail.value])}ngOnInit(){}segmentChanged1(Ut){this.activeSegment=Ut.detail.value}}return(pt=It).\u0275fac=function(Ut){return new(Ut||pt)(k.rXU(Et.Ix))},pt.\u0275cmp=k.VBU({type:pt,selectors:[["app-historia"]],decls:245,vars:7,consts:[[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[2,"height","auto","margin-top","20px","background-color","orange"],["size-lg","6","size-xs","12",2,"height","100%"],[2,"width","100%","height","100%"],[2,"text-align","justify","font-size","48px","font-family","'Times New Roman', Times, serif"],["value","tab1",3,"ionChange","scrollable"],["value","tab1"],["value","tab2"],["value","tab3"],["value","tab4"],[4,"ngIf"],["size-lg","6","size-xs","12",2,"display","flex","flex-direction","column","justify-content","center"],[2,"width","100%","height","70%","background-color","blue","display","flex","align-items","center","justify-content","center","overflow","hidden"],["src","https://millerspanish.com/assets/img/uploads/2019/10/solar.jpg",2,"width","100%","height","auto","max-height","100%"],[2,"margin-bottom","40px","background-color","rgb(243, 12, 62)"],[2,"font-size","24px","margin-top","20px","margin-left","20px","margin-right","20px","color","black","background-color","rgb(243, 12, 62)"],[2,"width","95%","height","auto","margin","20px 20px 20px 20px","background-color","rgb(236, 157, 8)"],["size-lg","4","size-xs","12"],[2,"display","flex","flex-direction","column","align-items","center","margin-top","7px"],["name","storefront-outline",2,"color","orange","font-size","2em"],[2,"text-align","center"],[2,"text-align","left","font-family","'Times New Roman', Times, serif","font-size","21px"],["name","construct-outline",2,"color","orange","font-size","2em"],["name","checkmark-done-outline",2,"color","orange","font-size","2em"],[1,"paneles"],["size-lg","6","size-xs","12"],[2,"width","100%","height","auto","background-color","rgb(255, 255, 255)"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px"],[2,"width","100%","height","100%","background-color","rgb(226, 125, 43)","align-items","center","display","flex","justify-content","center","border-radius","90px"],["src","assets/foto.jpg",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],[2,"width","auto","height","auto","background-color","rgb(196, 178, 178)"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px","color","rgb(14, 230, 143)","margin-left","20px"],[2,"width","100%","height","auto"],["size-lg","6","size-xs","12",2,"height","auto","width","100%"],[2,"margin-left","7px","color","rgb(14, 230, 14)","font-family","'Times New Roman', Times, serif","font-size","27px"],[2,"margin-left","12px","font-family","'Times New Roman', Times, serif","font-size","21px","color","white"],["size-lg","6","size-xs","12",2,"height","325px","width","auto","text-align","center","display","flex","align-items","center"],["src","assets/policristalino.jpg",2,"width","100%","height","100%"],["src","assets/monocristalino.jpg",2,"width","100%","height","100%"],["src","assets/monica.png",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px","color","rgb(14, 230, 143)"],["src","assets/controleer.png",2,"width","100%","height","100%"],["src","assets/pwm.jpg",2,"width","100%","height","100%"],["src","assets/inversor.png",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],["src","assets/pura.png",2,"width","100%","height","100%"],["src","assets/modificada.jpg",2,"width","100%","height","100%"],["src","assets/ocuadrada.png",2,"width","100%","height","100%"],["src","assets/battery.jpg",2,"width","60%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],["src","assets/acido.jpg",2,"width","100%","height","100%"],["src","assets/gel.jpg",2,"width","100%","height","100%"],[1,"header-container"],[1,"header",2,"background-image","url('https://technocio.com/wp-content/uploads/2022/06/Technocio.jpg')"],[1,"overlay"],[1,"header-text"],[2,"text-align","lef","font-family","'Times New Roman', Times, serif","font-size","21px"],["name","analytics-outline",2,"font-size","30px"],["name","pulse-outline",2,"font-size","30px"],["name","school-outline",2,"font-size","30px"],["name","hardware-chip-outline",2,"font-size","30px"]],template:function(Ut,Gt){1&Ut&&(k.j41(0,"ion-header",0)(1,"ion-segment",1),k.bIt("ionChange",function(Tt){return Gt.segmentChanged(Tt)}),k.j41(2,"ion-segment-button",2),k.nrm(3,"ion-icon",3),k.EFF(4,"Inicio "),k.k0s(),k.j41(5,"ion-segment-button",4),k.nrm(6,"ion-icon",5),k.EFF(7,"Paneles Solares "),k.k0s(),k.j41(8,"ion-segment-button",6),k.nrm(9,"ion-icon",7),k.EFF(10,"Generador Solar "),k.k0s()()(),k.j41(11,"ion-content")(12,"ion-grid")(13,"ion-row",8)(14,"ion-col",9)(15,"div",10)(16,"p",11),k.EFF(17,"Transformando la luz solar en soluciones para tu confort "),k.k0s(),k.j41(18,"ion-segment",12),k.bIt("ionChange",function(Tt){return Gt.segmentChanged1(Tt)}),k.j41(19,"ion-segment-button",13)(20,"ion-label"),k.EFF(21,"Quienes somos"),k.k0s()(),k.j41(22,"ion-segment-button",14)(23,"ion-label"),k.EFF(24,"Mision"),k.k0s()(),k.j41(25,"ion-segment-button",15)(26,"ion-label"),k.EFF(27,"Vision"),k.k0s()(),k.j41(28,"ion-segment-button",16)(29,"ion-label"),k.EFF(30,"Valores"),k.k0s()()(),k.DNE(31,Xt,3,0,"div",17)(32,je,3,0,"div",17)(33,$t,3,0,"div",17)(34,Zt,14,0,"div",17),k.k0s()(),k.j41(35,"ion-col",18)(36,"div",19),k.nrm(37,"ion-img",20),k.k0s()()()(),k.j41(38,"ion-grid",21)(39,"p",22),k.EFF(40,"Nuestos Objetivos"),k.k0s(),k.j41(41,"ion-row",23)(42,"ion-col",24)(43,"ion-card")(44,"ion-card-title",25),k.nrm(45,"ion-icon",26),k.j41(46,"h2",27),k.EFF(47,"Maximizar el potencial de ahorro de su factura el\xe9ctrica"),k.k0s()(),k.j41(48,"ion-card-content")(49,"p",28),k.EFF(50,"El ahorro econ\xf3mico en facturaci\xf3n es un gran vector para apostar por energ\xeda solar. Es transformar el gasto constante de todos los meses en un activo, con un car\xe1cter circular y compatible con el ambiente, generando un flujo positivo desde el primer d\xeda de operaci\xf3n."),k.k0s()()()(),k.j41(51,"ion-col",24)(52,"ion-card")(53,"ion-card-title",25),k.nrm(54,"ion-icon",29),k.j41(55,"h2",27),k.EFF(56,"Dise\xf1ar el proyecto utilizando nuestra f\xf3rmula ganadora"),k.k0s()(),k.j41(57,"ion-card-content")(58,"p",28),k.EFF(59," T\xfa proyecto de energ\xeda solar es el eje central de nuestro dise\xf1o. "),k.k0s(),k.nrm(60,"hr"),k.j41(61,"p",28),k.EFF(62," Las grandes relaciones comerciales con los mayores fabricantes a nivel global nos permiten analizar cual fuera la tecnolog\xeda m\xe1s viable para adaptar al proyecto. "),k.k0s()()()(),k.j41(63,"ion-col",24)(64,"ion-card")(65,"ion-card-title",25),k.nrm(66,"ion-icon",30),k.j41(67,"h2",27),k.EFF(68,"Entregar resultados eliminando cualquier riesgo"),k.k0s()(),k.j41(69,"ion-card-content")(70,"p",28),k.EFF(71," Gestionamos nuestros proyectos con la de experiencia que tiene Rural Energy y de nuestrod aliados comerciales de tecnolog\xeda y energ\xeda sostenible "),k.k0s()()()()()(),k.j41(72,"div",31)(73,"ion-grid")(74,"ion-row")(75,"ion-col",32)(76,"div",33)(77,"p",34),k.EFF(78,"\xbfQu\xe9 son los paneles solares? "),k.k0s(),k.nrm(79,"br"),k.j41(80,"p",28),k.EFF(81," Los paneles solares, tambi\xe9n conocidos como m\xf3dulos fotovoltaicos, son dispositivos tecnol\xf3gicos dise\xf1ados para convertir la luz solar en electricidad. Estos dispositivos est\xe1n compuestos principalmente por c\xe9lulas solares, que son dispositivos semiconductores que generan corriente el\xe9ctrica cuando son expuestos a la luz sol "),k.k0s(),k.j41(82,"p",28),k.EFF(83," La principal ventaja de los paneles solares radica en su capacidad para aprovechar una fuente de energ\xeda renovable e inagotable: la luz solar. Al transformar la energ\xeda solar en electricidad, los paneles solares contribuyen a la sostenibilidad y reducen la dependencia de fuentes de energ\xeda no renovables. Este proceso se realiza de manera limpia y sin emisiones de gases de efecto invernadero, lo que beneficia el medio ambiente y ayuda en la lucha contra el cambio clim\xe1tico."),k.k0s(),k.j41(84,"p",28),k.EFF(85,"Asimismo, muchos gobiernos y organizaciones ofrecen incentivos y subvenciones para fomentar la adopci\xf3n de energ\xeda solar, lo que hace que la inversi\xf3n inicial sea m\xe1s atractiva"),k.k0s()()(),k.j41(86,"ion-col",32)(87,"div",35),k.nrm(88,"ion-img",36),k.k0s()()()()(),k.j41(89,"div",37)(90,"h2",38),k.EFF(91,"Tipos de Paneles"),k.k0s(),k.j41(92,"h2",38),k.EFF(93," Solares "),k.k0s(),k.nrm(94,"hr"),k.j41(95,"ion-grid")(96,"ion-row",39)(97,"ion-col",40)(98,"p",41),k.EFF(99,"Paneles solares policristalinos "),k.k0s(),k.j41(100,"p",42),k.EFF(101,"Los paneles solares policristalinos son una opci\xf3n popular para sistemas fotovoltaicos debido a su relaci\xf3n costo-eficiencia. Fabricados mediante la fusi\xf3n de m\xfaltiples cristales de silicio, estos paneles son reconocibles por su color azulado y patr\xf3n irregular, caracter\xedsticas que surgen del proceso de enfriamiento m\xe1s r\xe1pido del silicio. Aunque su eficiencia, que oscila entre el 13% y el 16%, es ligeramente inferior a la de los paneles monocristalinos, su menor costo de producci\xf3n los hace econ\xf3micamente atractivos para proyectos a gran escala y aplicaciones residenciales donde el espacio no es una limitaci\xf3n cr\xedtica. Adem\xe1s de ser m\xe1s baratos, los paneles policristalinos ofrecen una buena durabilidad y una vida \xfatil comparable a la de los monocristalinos, generalmente alrededor de 25 a\xf1os. Estos paneles son menos afectados por las altas temperaturas, aunque su rendimiento puede degradarse m\xe1s r\xe1pidamente en condiciones extremas. Dada su robustez y costo efectivo, los paneles policristalinos son una excelente elecci\xf3n para quienes buscan un equilibrio entre eficiencia y asequibilidad en la implementaci\xf3n de energ\xeda solar. "),k.k0s()(),k.j41(102,"ion-col",43),k.nrm(103,"ion-img",44),k.k0s()()(),k.j41(104,"ion-grid")(105,"ion-row",39)(106,"ion-col",40)(107,"p",41),k.EFF(108,"Paneles solares monocristalimps "),k.k0s(),k.j41(109,"p",42),k.EFF(110,"Los paneles solares monocristalinos se destacan por su alta eficiencia energ\xe9tica, que generalmente oscila entre el 15% y el 20%. Se fabrican a partir de un \xfanico cristal de silicio, lo que les confiere una apariencia uniforme y elegante, generalmente en tonos oscuros. Esta uniformidad permite una mayor captura y conversi\xf3n de la luz solar en electricidad en comparaci\xf3n con otros tipos de paneles. Aunque su costo inicial es m\xe1s alto que el de los paneles policristalinos, su mayor eficiencia los hace ideales para \xe1reas donde el espacio es limitado. Su vida \xfatil supera com\xfanmente los 25 a\xf1os, ofreciendo un retorno de inversi\xf3n atractivo a largo plazo debido a su durabilidad y rendimiento superior. "),k.k0s()(),k.j41(111,"ion-col",43),k.nrm(112,"ion-img",45),k.k0s()()()(),k.j41(113,"div",31)(114,"ion-grid")(115,"ion-row")(116,"ion-col",32)(117,"div",33)(118,"p",34),k.EFF(119,"\xbfQu\xe9 son los controladores solares? "),k.k0s(),k.nrm(120,"br"),k.j41(121,"p",28),k.EFF(122," Los controladores solares, tambi\xe9n conocidos como reguladores de carga, son componentes fundamentales en sistemas de energ\xeda solar que integran bater\xedas. Su funci\xf3n principal es regular el flujo de electricidad desde los paneles solares hacia las bater\xedas, asegurando una carga segura y eficaz. Estos dispositivos previenen la sobrecarga y la descarga excesiva, protegiendo las bater\xedas y extendiendo su vida \xfatil. "),k.k0s(),k.j41(123,"p",28),k.EFF(124," Al evitar la sobrecarga, se impide que las bater\xedas sufran da\xf1os que podr\xedan ser permanentes, mientras que la protecci\xf3n contra descargas profundas ayuda a mantener la integridad del almacenamiento energ\xe9tico. Adem\xe1s, los controladores solares optimizan la eficiencia de la carga ajustando los par\xe1metros de carga seg\xfan las condiciones espec\xedficas de cada bater\xeda y las circunstancias operativas del sistema."),k.k0s(),k.j41(125,"p",28),k.EFF(126,"Este nivel de regulaci\xf3n no solo mejora la eficiencia general del sistema solar, sino que tambi\xe9n contribuye a la seguridad, previniendo situaciones de riesgo como cortocircuitos y sobrecalentamientos."),k.k0s()()(),k.j41(127,"ion-col",32)(128,"div",35),k.nrm(129,"ion-img",46),k.k0s()()()()(),k.j41(130,"div",37)(131,"h2",47),k.EFF(132,"Tipos de Controladores"),k.k0s(),k.j41(133,"h2",47),k.EFF(134," Solares "),k.k0s(),k.nrm(135,"hr"),k.j41(136,"ion-grid")(137,"ion-row",39)(138,"ion-col",40)(139,"p",41),k.EFF(140,"Controladores de carga MPPT "),k.k0s(),k.j41(141,"p",42),k.EFF(142,'El controlador de carga MPPT (Maximum Power Point Tracking) es un componente esencial en sistemas fotovoltaicos, dise\xf1ado para maximizar la eficiencia de la energ\xeda solar al regular el flujo el\xe9ctrico entre los paneles solares y las bater\xedas utiliza un algoritmo avanzado para encontrar y mantener el punto de m\xe1xima potencia" permitiendo obtener el m\xe1ximo rendimiento de los paneles solares en diferentes condiciones de luz y temperatura.Pueden incluir funciones adicionales, como monitoreo en tiempo real, protecciones contra cortocircuitos y sobrecargas, y compensaci\xf3n de temperatura para proteger las bater\xedas. Es una soluci\xf3n para sistemas fotovoltaicos que desean maximizar la producci\xf3n de energ\xeda solar y garantizar la seguridad y longevidad del sistema. '),k.k0s()(),k.j41(143,"ion-col",43),k.nrm(144,"ion-img",48),k.k0s()()(),k.j41(145,"ion-grid")(146,"ion-row",39)(147,"ion-col",40)(148,"p",41),k.EFF(149," Controladores de carga PWM "),k.k0s(),k.j41(150,"p",42),k.EFF(151,"Un controlador de carga PWM (Pulse Width Modulation) es un componente fundamental en sistemas solares, encargado de regular la energ\xeda que fluye desde los paneles solares hacia las bater\xedas. Utiliza modulaci\xf3n por ancho de pulso para controlar el voltaje, ajustando la cantidad de electricidad mediante la variaci\xf3n de la duraci\xf3n de los pulsos el\xe9ctricos. Esto ayuda a mantener un nivel de carga seguro y evitar sobrecargas, lo que contribuye a la longevidad de las bater\xedas.Puede cambiar entre modos de carga, como carga r\xe1pida, carga flotante y compensaci\xf3n de temperatura.Estos dispositivos son ampliamente utilizados en sistemas solares peque\xf1os y medianos debido a su simplicidad y costo asequible "),k.k0s()(),k.j41(152,"ion-col",43),k.nrm(153,"ion-img",49),k.k0s()()()(),k.j41(154,"div",31)(155,"ion-grid")(156,"ion-row")(157,"ion-col",32)(158,"div",33)(159,"p",34),k.EFF(160,"\xbfQu\xe9 son los Inversores? "),k.k0s(),k.nrm(161,"br"),k.j41(162,"p",28),k.EFF(163," Los inversores solares son dispositivos clave en los sistemas de energ\xeda solar fotovoltaica que transforman la corriente continua (DC) generada por los paneles solares en corriente alterna (AC) utilizable en hogares y negocios. Esta conversi\xf3n es esencial porque la mayor\xeda de los electrodom\xe9sticos y la infraestructura el\xe9ctrica moderna operan con corriente alterna. Adem\xe1s de convertir la corriente, los inversores tambi\xe9n optimizan la eficiencia del sistema solar al maximizar la producci\xf3n de energ\xeda de los paneles, un proceso conocido como seguimiento del punto de m\xe1xima potencia (MPPT). "),k.k0s(),k.j41(164,"p",28),k.EFF(165," Al evitar la sobrecarga, se impide que las bater\xedas sufran da\xf1os que podr\xedan ser permanentes, mientras que la protecci\xf3n contra descargas profundas ayuda a mantener la integridad del almacenamiento energ\xe9tico. Adem\xe1s, los controladores solares optimizan la eficiencia de la carga ajustando los par\xe1metros de carga seg\xfan las condiciones espec\xedficas de cada bater\xeda y las circunstancias operativas del sistema."),k.k0s(),k.j41(166,"p",28),k.EFF(167,"Este nivel de regulaci\xf3n no solo mejora la eficiencia general del sistema solar, sino que tambi\xe9n contribuye a la seguridad, previniendo situaciones de riesgo como cortocircuitos y sobrecalentamientos."),k.k0s()()(),k.j41(168,"ion-col",32)(169,"div",35),k.nrm(170,"ion-img",50),k.k0s()()()()(),k.j41(171,"div",37)(172,"h2",47),k.EFF(173,"Tipos de Inversores"),k.k0s(),k.nrm(174,"hr"),k.j41(175,"ion-grid")(176,"ion-row",39)(177,"ion-col",40)(178,"p",41),k.EFF(179,"Inversores de Onda Sinusoidal Pura "),k.k0s(),k.j41(180,"p",42),k.EFF(181,"Los inversores de onda sinusoidal pura son dispositivos que convierten la energ\xeda de corriente continua (DC), proveniente de paneles solares o bater\xedas, en corriente alterna (AC) con una forma de onda suave y continua, similar a la de la red el\xe9ctrica convencional. Estas caracter\xedsticas hacen que los inversores de onda sinusoidal pura sean ideales para aplicaciones donde se requiere electricidad de alta calidad, permitiendo el funcionamiento seguro de dispositivos electr\xf3nicos sensibles.Una de sus principales caracter\xedsticas es la producci\xf3n de una se\xf1al AC con baja distorsi\xf3n arm\xf3nica, lo que garantiza un suministro el\xe9ctrico estable y sin ruidos que puedan afectar el rendimiento de dispositivos como computadoras, electrodom\xe9sticos, equipos m\xe9dicos y sistemas de audio y video. "),k.k0s()(),k.j41(182,"ion-col",43),k.nrm(183,"ion-img",51),k.k0s()()(),k.j41(184,"ion-grid")(185,"ion-row",39)(186,"ion-col",40)(187,"p",41),k.EFF(188," Inversores de Onda Sinusoidal Modificada: "),k.k0s(),k.j41(189,"p",42),k.EFF(190," Los inversores de onda sinusoidal modificada son dispositivos que convierten la energ\xeda de corriente continua (DC) en corriente alterna (AC), pero con una forma de onda escalonada que imita la onda sinusoidal. Aunque no es tan suave como la onda sinusoidal pura, la onda sinusoidal modificada es suficientemente eficaz para una amplia gama de aplicaciones. Los inversores de onda sinusoidal modificada se utilizan en aplicaciones donde el costo es un factor importante y la precisi\xf3n de la onda no es cr\xedtica. Por ejemplo, son comunes en sistemas solares para casas de campo, veh\xedculos recreativos o peque\xf1as aplicaciones residenciales "),k.k0s()(),k.j41(191,"ion-col",43),k.nrm(192,"ion-img",52),k.k0s()()(),k.j41(193,"ion-grid")(194,"ion-row",39)(195,"ion-col",40)(196,"p",41),k.EFF(197," Inversores de Onda Cuadrada "),k.k0s(),k.j41(198,"p",42),k.EFF(199," Los inversores de onda cuadrada son dispositivos que convierten corriente continua (DC) en corriente alterna (AC) utilizando una forma de onda cuadrada, caracterizada por transiciones abruptas entre niveles de voltaje. Su alto nivel de distorsi\xf3n arm\xf3nica puede generar ruidos el\xe9ctricos, por lo que no son adecuados para dispositivos electr\xf3nicos sensibles como computadoras o equipos m\xe9dicos. Son econ\xf3micos y simples, lo que los hace \xfatiles en aplicaciones b\xe1sicas, como sistemas solares peque\xf1os para iluminaci\xf3n y herramientas el\xe9ctricas. "),k.k0s()(),k.j41(200,"ion-col",43),k.nrm(201,"ion-img",53),k.k0s()()()(),k.j41(202,"div",31)(203,"ion-grid")(204,"ion-row")(205,"ion-col",32)(206,"div",33)(207,"p",34),k.EFF(208,"\xbfQu\xe9 son las Baterias para sistemas de Energia Solar? "),k.k0s(),k.nrm(209,"br"),k.j41(210,"p",28),k.EFF(211," Las bater\xedas para sistemas de energ\xeda solar son componentes esenciales que almacenan la energ\xeda generada por los paneles solares para su uso posterior. Estas bater\xedas permiten que los sistemas solares proporcionen electricidad durante la noche o en d\xedas nublados cuando la producci\xf3n solar es insuficiente. Son especialmente cruciales en sistemas solares desconectados de la red (off-grid), permitiendo una independencia energ\xe9tica completa de la red el\xe9ctrica."),k.k0s()()(),k.j41(212,"ion-col",32)(213,"div",35),k.nrm(214,"ion-img",54),k.k0s()()()()(),k.j41(215,"div",37)(216,"h2",47),k.EFF(217,"Tipos de Baterias"),k.k0s(),k.j41(218,"h2",47),k.EFF(219," Para sistemas electricos Solares "),k.k0s(),k.nrm(220,"hr"),k.j41(221,"ion-grid")(222,"ion-row",39)(223,"ion-col",40)(224,"p",41),k.EFF(225,"Bater\xedas de Plomo \xc1cido "),k.k0s(),k.j41(226,"p",42),k.EFF(227,"Las bater\xedas de plomo-\xe1cido son las m\xe1s comunes y econ\xf3micas entre las recargables, usadas ampliamente en autom\xf3viles, barcos y sistemas de energ\xeda solar. Estas bater\xedas est\xe1n compuestas por placas de plomo y di\xf3xido de plomo, inmersas en una soluci\xf3n de \xe1cido sulf\xfarico como electrolito. Son valoradas por su robustez y alta capacidad para ofrecer corrientes fuertes a corto plazo. En sistemas fotovoltaicos, desempe\xf1an un papel crucial como fuente de almacenamiento, permitiendo que el exceso de energ\xeda solar se guarde para uso nocturno o en d\xedas nublados. Es especialmente \xfatil en aplicaciones solares independientes de la red, proporcionando un suministro de energ\xeda estable y confiable "),k.k0s()(),k.j41(228,"ion-col",43),k.nrm(229,"ion-img",55),k.k0s()()(),k.j41(230,"ion-grid")(231,"ion-row",39)(232,"ion-col",40)(233,"p",41),k.EFF(234," Bateria de Plomo \xc1cido (Gel) "),k.k0s(),k.j41(235,"p",42),k.EFF(236,"Las bater\xedas de plomo-\xe1cido contienen un electrolito gelificado en lugar de l\xedquido, lo que reduce el riesgo de fugas y derrames. Su dise\xf1o herm\xe9tico y sin ventilaci\xf3n adicional las hace ideales para instalaciones en interiores o entornos sensibles. Aunque suelen ser m\xe1s pesadas que otras bater\xedas recargables, son altamente fiables y se utilizan a menudo en sistemas fotovoltaicos como fuente de almacenamiento de energ\xeda. Permiten almacenar el excedente de energ\xeda solar durante el d\xeda para su uso durante la noche o en condiciones de poca luz. "),k.k0s()(),k.j41(237,"ion-col",43),k.nrm(238,"ion-img",56),k.k0s()()()(),k.j41(239,"div",57)(240,"div",58),k.nrm(241,"div",59),k.j41(242,"div",60)(243,"p",27),k.EFF(244,"Soluciones de energ\xeda solar en todo Ecuador"),k.k0s()()()()()),2&Ut&&(k.Y8G("translucent",!0),k.R7$(),k.Y8G("scrollable",!0),k.R7$(17),k.Y8G("scrollable",!0),k.R7$(13),k.Y8G("ngIf","tab1"===Gt.activeSegment),k.R7$(),k.Y8G("ngIf","tab2"===Gt.activeSegment),k.R7$(),k.Y8G("ngIf","tab3"===Gt.activeSegment),k.R7$(),k.Y8G("ngIf","tab4"===Gt.activeSegment))},dependencies:[b.bT,ke.b_,ke.I9,ke.tN,ke.hU,ke.W9,ke.lO,ke.eU,ke.iq,ke.KW,ke.he,ke.ln,ke.Gp,ke.eP,ke.Je],styles:['@charset "UTF-8";.header-container[_ngcontent-%COMP%]{position:relative;height:25rem;overflow:hidden;margin:1px,1px}.header[_ngcontent-%COMP%]{position:relative;height:100%;background-size:cover;background-image:url(https://technocio.com/wp-content/uploads/2022/06/Technocio.jpg);background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1;margin-bottom:4rem}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(#016101,#014101b3);opacity:1}.header-text[_ngcontent-%COMP%]{font-family:Montserrat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:1;font-size:3.5rem}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{text-align:center;font-size:18px;background-position:center;border-radius:10%;font-family:Montserrat,sans-serif;font-size:1.2rem;line-height:1.5;margin:0%}.paneles[_ngcontent-%COMP%]{width:auto;height:auto;padding:30px 30px 60px}']}),It})()}];let At=(()=>{var pt;class It{}return(pt=It).\u0275fac=function(Ut){return new(Ut||pt)},pt.\u0275mod=k.$C({type:pt}),pt.\u0275inj=k.G2t({imports:[Et.iI.forChild(rt),Et.iI]}),It})(),xt=(()=>{var pt;class It{}return(pt=It).\u0275fac=function(Ut){return new(Ut||pt)},pt.\u0275mod=k.$C({type:pt}),pt.\u0275inj=k.G2t({imports:[b.MD,m.YN,ke.bv,At]}),It})()},594:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{HomePageModule:()=>Da});var b=pe(177),m=pe(7863),ke=pe(4341),Et=pe(70);function k(Re){if(void 0===Re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function Xt(Re,_){Re.prototype=Object.create(_.prototype),Re.prototype.constructor=Re,Re.__proto__=_}var Zt,Yt,rt,me,Ie,at,Pt,Xn,nn,hs,ar,Ve,Ge,it,qt,dn,un,Re,_,M,C,L,Q,re,ge,zn,je={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$t={duration:.5,overwrite:!1,delay:0},At=1e8,xt=1e-8,pt=2*Math.PI,It=pt/4,rn=0,Ut=Math.sqrt,Gt=Math.cos,fn=Math.sin,Tt=function(_){return"string"==typeof _},jt=function(_){return"function"==typeof _},st=function(_){return"number"==typeof _},Bt=function(_){return typeof _>"u"},Vt=function(_){return"object"==typeof _},Qt=function(_){return!1!==_},en=function(){return typeof window<"u"},gt=function(_){return jt(_)||Tt(_)},pn="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Tn=Array.isArray,pi=/(?:-?\.?\d|\.)+/gi,Ci=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,An=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ei=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hn=/[+-]=-?[.\d]+/,Ke=/[^,'"\[\]\s]+/gi,ve=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Wt={},yt={},dr=function(_){return(yt=Xr(_,Wt))&&Ze},bi=function(_,M){return console.warn("Invalid property",_,"set to",M,"Missing plugin? gsap.registerPlugin()")},or=function(_,M){return!M&&console.warn(_)},rr=function(_,M){return _&&(Wt[_]=M)&&yt&&(yt[_]=M)||Wt},fr=function(){return 0},Vr={suppressEvents:!0,isStart:!0,kill:!1},_r={suppressEvents:!0,kill:!1},cs={suppressEvents:!0},Fr={},ri=[],Ft={},cn={},gi={},hr=30,zr=[],kr="",Di=function(_){var C,L,M=_[0];if(Vt(M)||jt(M)||(_=[_]),!(C=(M._gsap||{}).harness)){for(L=zr.length;L--&&!zr[L].targetTest(M););C=zr[L]}for(L=_.length;L--;)_[L]&&(_[L]._gsap||(_[L]._gsap=new Ee(_[L],C)))||_.splice(L,1);return _},wi=function(_){return _._gsap||Di(ut(_))[0]._gsap},Ur=function(_,M,C){return(C=_[M])&&jt(C)?_[M]():Bt(C)&&_.getAttribute&&_.getAttribute(M)||C},Hr=function(_,M){return(_=_.split(",")).forEach(M)||_},wr=function(_){return Math.round(1e5*_)/1e5||0},Jr=function(_){return Math.round(1e7*_)/1e7||0},Es=function(_,M){var C=M.charAt(0),L=parseFloat(M.substr(2));return _=parseFloat(_),"+"===C?_+L:"-"===C?_-L:"*"===C?_*L:_/L},io=function(_,M){for(var C=M.length,L=0;_.indexOf(M[L])<0&&++L<C;);return L<C},$i=function(){var C,L,_=ri.length,M=ri.slice(0);for(Ft={},ri.length=0,C=0;C<_;C++)(L=M[C])&&L._lazy&&(L.render(L._lazy[0],L._lazy[1],!0)._lazy=0)},_o=function(_,M,C,L){ri.length&&!Yt&&$i(),_.render(M,C,L||Yt&&M<0&&(_._initted||_._startAt)),ri.length&&!Yt&&$i()},Ir=function(_){var M=parseFloat(_);return(M||0===M)&&(_+"").match(Ke).length<2?M:Tt(_)?_.trim():_},xr=function(_){return _},ds=function(_,M){for(var C in M)C in _||(_[C]=M[C]);return _},Xr=function(_,M){for(var C in M)_[C]=M[C];return _},jo=function Re(_,M){for(var C in M)"__proto__"!==C&&"constructor"!==C&&"prototype"!==C&&(_[C]=Vt(M[C])?Re(_[C]||(_[C]={}),M[C]):M[C]);return _},ss=function(_,M){var L,C={};for(L in _)L in M||(C[L]=_[L]);return C},po=function(_){var M=_.parent||me,C=_.keyframes?function(_){return function(M,C){for(var L in C)L in M||"duration"===L&&_||"ease"===L||(M[L]=C[L])}}(Tn(_.keyframes)):ds;if(Qt(_.inherit))for(;M;)C(_,M.vars.defaults),M=M.parent||M._dp;return _},vt=function(_,M,C,L,Q){void 0===C&&(C="_first"),void 0===L&&(L="_last");var ge,re=_[L];if(Q)for(ge=M[Q];re&&re[Q]>ge;)re=re._prev;return re?(M._next=re._next,re._next=M):(M._next=_[C],_[C]=M),M._next?M._next._prev=M:_[L]=M,M._prev=re,M.parent=M._dp=_,M},sn=function(_,M,C,L){void 0===C&&(C="_first"),void 0===L&&(L="_last");var Q=M._prev,re=M._next;Q?Q._next=re:_[C]===M&&(_[C]=re),re?re._prev=Q:_[L]===M&&(_[L]=Q),M._next=M._prev=M.parent=null},mt=function(_,M){_.parent&&(!M||_.parent.autoRemoveChildren)&&_.parent.remove&&_.parent.remove(_),_._act=0},on=function(_,M){if(_&&(!M||M._end>_._dur||M._start<0))for(var C=_;C;)C._dirty=1,C=C.parent;return _},si=function(_,M,C,L){return _._startAt&&(Yt?_._startAt.revert(_r):_.vars.immediateRender&&!_.vars.autoRevert||_._startAt.render(M,!0,L))},Er=function Re(_){return!_||_._ts&&Re(_.parent)},Mr=function(_){return _._repeat?os(_._tTime,_=_.duration()+_._rDelay)*_:0},os=function(_,M){var C=Math.floor(_/=M);return _&&C===_?C-1:C},Qs=function(_,M){return(_-M._start)*M._ts+(M._ts>=0?0:M._dirty?M.totalDuration():M._tDur)},Vs=function(_){return _._end=Jr(_._start+(_._tDur/Math.abs(_._ts||_._rts||xt)||0))},ro=function(_,M){var C=_._dp;return C&&C.smoothChildTiming&&_._ts&&(_._start=Jr(C._time-(_._ts>0?M/_._ts:((_._dirty?_.totalDuration():_._tDur)-M)/-_._ts)),Vs(_),C._dirty||on(C,_)),_},aa=function(_,M){var C;if((M._time||!M._dur&&M._initted||M._start<_._time&&(M._dur||!M.add))&&(C=Qs(_.rawTime(),M),(!M._dur||Io(0,M.totalDuration(),C)-M._tTime>xt)&&M.render(C,!0)),on(_,M)._dp&&_._initted&&_._time>=_._dur&&_._ts){if(_._dur<_.duration())for(C=_;C._dp;)C.rawTime()>=0&&C.totalTime(C._tTime),C=C._dp;_._zTime=-xt}},so=function(_,M,C,L){return M.parent&&mt(M),M._start=Jr((st(C)?C:C||_!==me?vo(_,C,M):_._time)+M._delay),M._end=Jr(M._start+(M.totalDuration()/Math.abs(M.timeScale())||0)),vt(_,M,"_first","_last",_._sort?"_start":0),So(M)||(_._recent=M),L||aa(_,M),_._ts<0&&ro(_,_._tTime),_},Cs=function(_,M){return(Wt.ScrollTrigger||bi("scrollTrigger",M))&&Wt.ScrollTrigger.create(M,_)},Ji=function(_,M,C,L,Q){return di(_,M,Q),_._initted?!C&&_._pt&&!Yt&&(_._dur&&!1!==_.vars.lazy||!_._dur&&_.vars.lazy)&&nn!==Mo.frame?(ri.push(_),_._lazy=[Q,L],1):void 0:1},Fo=function Re(_){var M=_.parent;return M&&M._ts&&M._initted&&!M._lock&&(M.rawTime()<0||Re(M))},So=function(_){var M=_.data;return"isFromStart"===M||"isStart"===M},ko=function(_,M,C,L){var Q=_._repeat,re=Jr(M)||0,ge=_._tTime/_._tDur;return ge&&!L&&(_._time*=re/_._dur),_._dur=re,_._tDur=Q?Q<0?1e10:Jr(re*(Q+1)+_._rDelay*Q):re,ge>0&&!L&&ro(_,_._tTime=_._tDur*ge),_.parent&&Vs(_),C||on(_.parent,_),_},br=function(_){return _ instanceof nt?on(_):ko(_,_._dur)},la={_start:0,endTime:fr,totalDuration:fr},vo=function Re(_,M,C){var ge,Ve,Ge,L=_.labels,Q=_._recent||la,re=_.duration()>=At?Q.endTime(!1):_._dur;return Tt(M)&&(isNaN(M)||M in L)?(Ve=M.charAt(0),Ge="%"===M.substr(-1),ge=M.indexOf("="),"<"===Ve||">"===Ve?(ge>=0&&(M=M.replace(/=/,"")),("<"===Ve?Q._start:Q.endTime(Q._repeat>=0))+(parseFloat(M.substr(1))||0)*(Ge?(ge<0?Q:C).totalDuration()/100:1)):ge<0?(M in L||(L[M]=re),L[M]):(Ve=parseFloat(M.charAt(ge-1)+M.substr(ge+1)),Ge&&C&&(Ve=Ve/100*(Tn(C)?C[0]:C).totalDuration()),ge>1?Re(_,M.substr(0,ge-1),C)+Ve:re+Ve)):null==M?re:+M},Ps=function(_,M,C){var ge,Ve,L=st(M[1]),Q=(L?2:1)+(_<2?0:1),re=M[Q];if(L&&(re.duration=M[1]),re.parent=C,_){for(ge=re,Ve=C;Ve&&!("immediateRender"in ge);)ge=Ve.vars.defaults||{},Ve=Qt(Ve.vars.inherit)&&Ve.parent;re.immediateRender=Qt(ge.immediateRender),_<2?re.runBackwards=1:re.startAt=M[Q-1]}return new Rr(M[0],re,M[Q+1])},Os=function(_,M){return _||0===_?M(_):M},Io=function(_,M,C){return C<_?_:C>M?M:C},Ws=function(_,M){return Tt(_)&&(M=ve.exec(_))?M[1]:""},Wo=[].slice,ye=function(_,M){return _&&Vt(_)&&"length"in _&&(!M&&!_.length||_.length-1 in _&&Vt(_[0]))&&!_.nodeType&&_!==Ie},ut=function(_,M,C){return rt&&!M&&rt.selector?rt.selector(_):!Tt(_)||C||!at&&Ta()?Tn(_)?function(_,M,C){return void 0===C&&(C=[]),_.forEach(function(L){var Q;return Tt(L)&&!M||ye(L,1)?(Q=C).push.apply(Q,ut(L)):C.push(L)})||C}(_,C):ye(_)?Wo.call(_,0):_?[_]:[]:Wo.call((M||Pt).querySelectorAll(_),0)},de=function(_){return _=ut(_)[0]||or("Invalid scope")||{},function(M){var C=_.current||_.nativeElement||_;return ut(M,C.querySelectorAll?C:C===_?or("Invalid scope")||Pt.createElement("div"):_)}},Je=function(_){return _.sort(function(){return.5-Math.random()})},Lt=function(_){if(jt(_))return _;var M=Vt(_)?_:{each:_},C=Le(M.ease),L=M.from||0,Q=parseFloat(M.base)||0,re={},ge=L>0&&L<1,Ve=isNaN(L)||ge,Ge=M.axis,it=L,qt=L;return Tt(L)?it=qt={center:.5,edges:.5,end:1}[L]||0:!ge&&Ve&&(it=L[0],qt=L[1]),function(dn,un,zn){var Kn,ni,xi,Ai,oi,zi,Hi,ir,Pi,Ot=(zn||M).length,jn=re[Ot];if(!jn){if(!(Pi="auto"===M.grid?0:(M.grid||[1,At])[1])){for(Hi=-At;Hi<(Hi=zn[Pi++].getBoundingClientRect().left)&&Pi<Ot;);Pi<Ot&&Pi--}for(jn=re[Ot]=[],Kn=Ve?Math.min(Pi,Ot)*it-.5:L%Pi,ni=Pi===At?0:Ve?Ot*qt/Pi-.5:L/Pi|0,Hi=0,ir=At,zi=0;zi<Ot;zi++)xi=zi%Pi-Kn,Ai=ni-(zi/Pi|0),jn[zi]=oi=Ge?Math.abs("y"===Ge?Ai:xi):Ut(xi*xi+Ai*Ai),oi>Hi&&(Hi=oi),oi<ir&&(ir=oi);"random"===L&&Je(jn),jn.max=Hi-ir,jn.min=ir,jn.v=Ot=(parseFloat(M.amount)||parseFloat(M.each)*(Pi>Ot?Ot-1:Ge?"y"===Ge?Ot/Pi:Pi:Math.max(Pi,Ot/Pi))||0)*("edges"===L?-1:1),jn.b=Ot<0?Q-Ot:Q,jn.u=Ws(M.amount||M.each)||0,C=C&&Ot<0?Pe(C):C}return Ot=(jn[dn]-jn.min)/jn.max||0,Jr(jn.b+(C?C(Ot):Ot)*jn.v)+jn.u}},Ln=function(_){var M=Math.pow(10,((_+"").split(".")[1]||"").length);return function(C){var L=Jr(Math.round(parseFloat(C)/_)*_*M);return(L-L%1)/M+(st(C)?0:Ws(C))}},ti=function(_,M){var L,Q,C=Tn(_);return!C&&Vt(_)&&(L=C=_.radius||At,_.values?(_=ut(_.values),(Q=!st(_[0]))&&(L*=L)):_=Ln(_.increment)),Os(M,C?jt(_)?function(re){return Q=_(re),Math.abs(Q-re)<=L?Q:re}:function(re){for(var dn,un,ge=parseFloat(Q?re.x:re),Ve=parseFloat(Q?re.y:0),Ge=At,it=0,qt=_.length;qt--;)(dn=Q?(dn=_[qt].x-ge)*dn+(un=_[qt].y-Ve)*un:Math.abs(_[qt]-ge))<Ge&&(Ge=dn,it=qt);return it=!L||Ge<=L?_[it]:re,Q||it===re||st(re)?it:it+Ws(re)}:Ln(_))},Si=function(_,M,C,L){return Os(Tn(_)?!M:!0===C?!!(C=0):!L,function(){return Tn(_)?_[~~(Math.random()*_.length)]:(C=C||1e-5)&&(L=C<1?Math.pow(10,(C+"").length-2):1)&&Math.floor(Math.round((_-C/2+Math.random()*(M-_+.99*C))/C)*C*L)/L})},bo=function(_,M,C){return Os(C,function(L){return _[~~M(L)]})},As=function(_){for(var L,Q,re,ge,M=0,C="";~(L=_.indexOf("random(",M));)re=_.indexOf(")",L),ge="["===_.charAt(L+7),Q=_.substr(L+7,re-L-7).match(ge?Ke:pi),C+=_.substr(M,L-M)+Si(ge?Q:+Q[0],ge?0:+Q[1],+Q[2]||1e-5),M=re+1;return C+_.substr(M,_.length-M)},Ko=function(_,M,C,L,Q){var re=M-_,ge=L-C;return Os(Q,function(Ve){return C+((Ve-_)/re*ge||0)})},Ro=function(_,M,C){var re,ge,Ve,L=_.labels,Q=At;for(re in L)(ge=L[re]-M)<0==!!C&&ge&&Q>(ge=Math.abs(ge))&&(Ve=re,Q=ge);return Ve},zs=function(_,M,C){var Ve,Ge,it,L=_.vars,Q=L[M],re=rt,ge=_._ctx;if(Q)return Ve=L[M+"Params"],Ge=L.callbackScope||_,C&&ri.length&&$i(),ge&&(rt=ge),it=Ve?Q.apply(Ge,Ve):Q.call(Ge),rt=re,it},Js=function(_){return mt(_),_.scrollTrigger&&_.scrollTrigger.kill(!!Yt),_.progress()<1&&zs(_,"onInterrupt"),_},gr=[],jr=function(_){if(_)if(_=!_.name&&_.default||_,en()||_.headless){var M=_.name,C=jt(_),L=M&&!C&&_.init?function(){this._props=[]}:_,Q={init:fr,render:D,add:_t,kill:N,modifier:d,rawVars:0},re={targetTest:0,get:0,getSetter:Oa,aliases:{},register:0};if(Ta(),_!==L){if(cn[M])return;ds(L,ds(ss(_,Q),re)),Xr(L.prototype,Xr(Q,ss(_,re))),cn[L.prop=M]=L,_.targetTest&&(zr.push(L),Fr[M]=1),M=("css"===M?"CSS":M.charAt(0).toUpperCase()+M.substr(1))+"Plugin"}rr(M,L),_.register&&_.register(Ze,L,Z)}else gr.push(_)},ps=255,Xs={aqua:[0,ps,ps],lime:[0,ps,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ps],navy:[0,0,128],white:[ps,ps,ps],olive:[128,128,0],yellow:[ps,ps,0],orange:[ps,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ps,0,0],pink:[ps,192,203],cyan:[0,ps,ps],transparent:[ps,ps,ps,0]},Pa=function(_,M,C){return(6*(_+=_<0?1:_>1?-1:0)<1?M+(C-M)*_*6:_<.5?C:3*_<2?M+(C-M)*(2/3-_)*6:M)*ps+.5|0},al=function(_,M,C){var Q,re,ge,Ve,Ge,it,qt,dn,un,zn,L=_?st(_)?[_>>16,_>>8&ps,_&ps]:0:Xs.black;if(!L){if(","===_.substr(-1)&&(_=_.substr(0,_.length-1)),Xs[_])L=Xs[_];else if("#"===_.charAt(0)){if(_.length<6&&(Q=_.charAt(1),re=_.charAt(2),ge=_.charAt(3),_="#"+Q+Q+re+re+ge+ge+(5===_.length?_.charAt(4)+_.charAt(4):"")),9===_.length)return[(L=parseInt(_.substr(1,6),16))>>16,L>>8&ps,L&ps,parseInt(_.substr(7),16)/255];L=[(_=parseInt(_.substr(1),16))>>16,_>>8&ps,_&ps]}else if("hsl"===_.substr(0,3))if(L=zn=_.match(pi),M){if(~_.indexOf("="))return L=_.match(Ci),C&&L.length<4&&(L[3]=1),L}else Ve=+L[0]%360/360,Ge=+L[1]/100,Q=2*(it=+L[2]/100)-(re=it<=.5?it*(Ge+1):it+Ge-it*Ge),L.length>3&&(L[3]*=1),L[0]=Pa(Ve+1/3,Q,re),L[1]=Pa(Ve,Q,re),L[2]=Pa(Ve-1/3,Q,re);else L=_.match(pi)||Xs.transparent;L=L.map(Number)}return M&&!zn&&(Q=L[0]/ps,re=L[1]/ps,ge=L[2]/ps,it=((qt=Math.max(Q,re,ge))+(dn=Math.min(Q,re,ge)))/2,qt===dn?Ve=Ge=0:(un=qt-dn,Ge=it>.5?un/(2-qt-dn):un/(qt+dn),Ve=qt===Q?(re-ge)/un+(re<ge?6:0):qt===re?(ge-Q)/un+2:(Q-re)/un+4,Ve*=60),L[0]=~~(Ve+.5),L[1]=~~(100*Ge+.5),L[2]=~~(100*it+.5)),C&&L.length<4&&(L[3]=1),L},Ba=function(_){var M=[],C=[],L=-1;return _.split(pr).forEach(function(Q){var re=Q.match(An)||[];M.push.apply(M,re),C.push(L+=re.length+1)}),M.c=C,M},Va=function(_,M,C){var Ve,Ge,it,qt,L="",Q=(_+L).match(pr),re=M?"hsla(":"rgba(",ge=0;if(!Q)return _;if(Q=Q.map(function(dn){return(dn=al(dn,M,1))&&re+(M?dn[0]+","+dn[1]+"%,"+dn[2]+"%,"+dn[3]:dn.join(","))+")"}),C&&(it=Ba(_),(Ve=C.c).join(L)!==it.c.join(L)))for(qt=(Ge=_.replace(pr,"1").split(An)).length-1;ge<qt;ge++)L+=Ge[ge]+(~Ve.indexOf(ge)?Q.shift()||re+"0,0,0,0)":(it.length?it:Q.length?Q:C).shift());if(!Ge)for(qt=(Ge=_.split(pr)).length-1;ge<qt;ge++)L+=Ge[ge]+Q[ge];return L+Ge[qt]},pr=function(){var _,Re="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(_ in Xs)Re+="|"+_+"\\b";return new RegExp(Re+")","gi")}(),mo=/hsl[a]?\(/,qa=function(_){var C,M=_.join(" ");if(pr.lastIndex=0,pr.test(M))return C=mo.test(M),_[1]=Va(_[1],C),_[0]=Va(_[0],C,Ba(_[1])),!0},Mo=(Re=Date.now,_=500,M=33,C=Re(),L=C,re=Q=1e3/240,zn=function Ot(jn){var xi,Ai,oi,zi,Kn=Re()-L,ni=!0===jn;if((Kn>_||Kn<0)&&(C+=Kn-M),((xi=(oi=(L+=Kn)-C)-re)>0||ni)&&(zi=++qt.frame,dn=oi-1e3*qt.time,qt.time=oi/=1e3,re+=xi+(xi>=Q?4:Q-xi),Ai=1),ni||(Ve=Ge(Ot)),Ai)for(un=0;un<ge.length;un++)ge[un](oi,dn,zi,jn)},qt={time:0,frame:0,tick:function(){zn(!0)},deltaRatio:function(jn){return dn/(1e3/(jn||60))},wake:function(){Xn&&(!at&&en()&&(Ie=at=window,Pt=Ie.document||{},Wt.gsap=Ze,(Ie.gsapVersions||(Ie.gsapVersions=[])).push(Ze.version),dr(yt||Ie.GreenSockGlobals||!Ie.gsap&&Ie||{}),gr.forEach(jr)),it=typeof requestAnimationFrame<"u"&&requestAnimationFrame,Ve&&qt.sleep(),Ge=it||function(jn){return setTimeout(jn,re-1e3*qt.time+1|0)},ar=1,zn(2))},sleep:function(){(it?cancelAnimationFrame:clearTimeout)(Ve),ar=0,Ge=fr},lagSmoothing:function(jn,Kn){_=jn||1/0,M=Math.min(Kn||33,_)},fps:function(jn){re=1e3*qt.time+(Q=1e3/(jn||240))},add:function(jn,Kn,ni){var xi=Kn?function(Ai,oi,zi,Hi){jn(Ai,oi,zi,Hi),qt.remove(xi)}:jn;return qt.remove(jn),ge[ni?"unshift":"push"](xi),Ta(),xi},remove:function(jn,Kn){~(Kn=ge.indexOf(jn))&&ge.splice(Kn,1)&&un>=Kn&&un--},_listeners:ge=[]}),Ta=function(){return!ar&&Mo.wake()},Kr={},Jo=/^[\d.\-M][\d.\-,\s]/,ea=/["']/g,Go=function(_){for(var ge,Ve,Ge,M={},C=_.substr(1,_.length-3).split(":"),L=C[0],Q=1,re=C.length;Q<re;Q++)Ve=C[Q],ge=Q!==re-1?Ve.lastIndexOf(","):Ve.length,Ge=Ve.substr(0,ge),M[L]=isNaN(Ge)?Ge.replace(ea,"").trim():+Ge,L=Ve.substr(ge+1).trim();return M},Pe=function(_){return function(M){return 1-_(1-M)}},j=function Re(_,M){for(var L,C=_._first;C;)C instanceof nt?Re(C,M):C.vars.yoyoEase&&(!C._yoyo||!C._repeat)&&C._yoyo!==M&&(C.timeline?Re(C.timeline,M):(L=C._ease,C._ease=C._yEase,C._yEase=L,C._yoyo=M)),C=C._next},Le=function(_,M){return _&&(jt(_)?_:Kr[_]||function(_){var M=(_+"").split("("),C=Kr[M[0]];return C&&M.length>1&&C.config?C.config.apply(null,~_.indexOf("{")?[Go(M[1])]:function(_){var M=_.indexOf("(")+1,C=_.indexOf(")"),L=_.indexOf("(",M);return _.substring(M,~L&&L<C?_.indexOf(")",C+1):C)}(_).split(",").map(Ir)):Kr._CE&&Jo.test(_)?Kr._CE("",_):C}(_))||M},bt=function(_,M,C,L){void 0===C&&(C=function(Ve){return 1-M(1-Ve)}),void 0===L&&(L=function(Ve){return Ve<.5?M(2*Ve)/2:1-M(2*(1-Ve))/2});var re,Q={easeIn:M,easeOut:C,easeInOut:L};return Hr(_,function(ge){for(var Ve in Kr[ge]=Wt[ge]=Q,Kr[re=ge.toLowerCase()]=C,Q)Kr[re+("easeIn"===Ve?".in":"easeOut"===Ve?".out":".inOut")]=Kr[ge+"."+Ve]=Q[Ve]}),Q},mr=function(_){return function(M){return M<.5?(1-_(1-2*M))/2:.5+_(2*(M-.5))/2}},oo=function Re(_,M,C){var L=M>=1?M:1,Q=(C||(_?.3:.45))/(M<1?M:1),re=Q/pt*(Math.asin(1/L)||0),ge=function(it){return 1===it?1:L*Math.pow(2,-10*it)*fn((it-re)*Q)+1},Ve="out"===_?ge:"in"===_?function(Ge){return 1-ge(1-Ge)}:mr(ge);return Q=pt/Q,Ve.config=function(Ge,it){return Re(_,Ge,it)},Ve},te=function Re(_,M){void 0===M&&(M=1.70158);var C=function(re){return re?--re*re*((M+1)*re+M)+1:0},L="out"===_?C:"in"===_?function(Q){return 1-C(1-Q)}:mr(C);return L.config=function(Q){return Re(_,Q)},L};Hr("Linear,Quad,Cubic,Quart,Quint,Strong",function(Re,_){var M=_<5?_+1:_;bt(Re+",Power"+(M-1),_?function(C){return Math.pow(C,M)}:function(C){return C},function(C){return 1-Math.pow(1-C,M)},function(C){return C<.5?Math.pow(2*C,M)/2:1-Math.pow(2*(1-C),M)/2})}),Kr.Linear.easeNone=Kr.none=Kr.Linear.easeIn,bt("Elastic",oo("in"),oo("out"),oo()),function(Re,_){var Q=function(ge){return ge<.36363636363636365?Re*ge*ge:ge<.7272727272727273?Re*Math.pow(ge-1.5/_,2)+.75:ge<.9090909090909092?Re*(ge-=2.25/_)*ge+.9375:Re*Math.pow(ge-2.625/_,2)+.984375};bt("Bounce",function(re){return 1-Q(1-re)},Q)}(7.5625,2.75),bt("Expo",function(Re){return Re?Math.pow(2,10*(Re-1)):0}),bt("Circ",function(Re){return-(Ut(1-Re*Re)-1)}),bt("Sine",function(Re){return 1===Re?1:1-Gt(Re*It)}),bt("Back",te("in"),te("out"),te()),Kr.SteppedEase=Kr.steps=Wt.SteppedEase={config:function(_,M){void 0===_&&(_=1);var C=1/_,L=_+(M?0:1),Q=M?1:0;return function(ge){return((L*Io(0,.99999999,ge)|0)+Q)*C}}},$t.ease=Kr["quad.out"],Hr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(Re){return kr+=Re+","+Re+"Params,"});var Ee=function(_,M){this.id=rn++,_._gsap=this,this.target=_,this.harness=M,this.get=M?M.get:Ur,this.set=M?M.getSetter:Oa},He=function(){function Re(M){this.vars=M,this._delay=+M.delay||0,(this._repeat=M.repeat===1/0?-2:M.repeat||0)&&(this._rDelay=M.repeatDelay||0,this._yoyo=!!M.yoyo||!!M.yoyoEase),this._ts=1,ko(this,+M.duration,1,1),this.data=M.data,rt&&(this._ctx=rt,rt.data.push(this)),ar||Mo.wake()}var _=Re.prototype;return _.delay=function(C){return C||0===C?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+C-this._delay),this._delay=C,this):this._delay},_.duration=function(C){return arguments.length?this.totalDuration(this._repeat>0?C+(C+this._rDelay)*this._repeat:C):this.totalDuration()&&this._dur},_.totalDuration=function(C){return arguments.length?(this._dirty=0,ko(this,this._repeat<0?C:(C-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},_.totalTime=function(C,L){if(Ta(),!arguments.length)return this._tTime;var Q=this._dp;if(Q&&Q.smoothChildTiming&&this._ts){for(ro(this,C),!Q._dp||Q.parent||aa(Q,this);Q&&Q.parent;)Q.parent._time!==Q._start+(Q._ts>=0?Q._tTime/Q._ts:(Q.totalDuration()-Q._tTime)/-Q._ts)&&Q.totalTime(Q._tTime,!0),Q=Q.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&C<this._tDur||this._ts<0&&C>0||!this._tDur&&!C)&&so(this._dp,this,this._start-this._delay)}return(this._tTime!==C||!this._dur&&!L||this._initted&&Math.abs(this._zTime)===xt||!C&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=C),_o(this,C,L)),this},_.time=function(C,L){return arguments.length?this.totalTime(Math.min(this.totalDuration(),C+Mr(this))%(this._dur+this._rDelay)||(C?this._dur:0),L):this._time},_.totalProgress=function(C,L){return arguments.length?this.totalTime(this.totalDuration()*C,L):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},_.progress=function(C,L){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?C:1-C)+Mr(this),L):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},_.iteration=function(C,L){var Q=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(C-1)*Q,L):this._repeat?os(this._tTime,Q)+1:1},_.timeScale=function(C,L){if(!arguments.length)return this._rts===-xt?0:this._rts;if(this._rts===C)return this;var Q=this.parent&&this._ts?Qs(this.parent._time,this):this._tTime;return this._rts=+C||0,this._ts=this._ps||C===-xt?0:this._rts,this.totalTime(Io(-Math.abs(this._delay),this._tDur,Q),!1!==L),Vs(this),function(_){for(var M=_.parent;M&&M.parent;)M._dirty=1,M.totalDuration(),M=M.parent;return _}(this)},_.paused=function(C){return arguments.length?(this._ps!==C&&(this._ps=C,C?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ta(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==xt&&(this._tTime-=xt)))),this):this._ps},_.startTime=function(C){if(arguments.length){this._start=C;var L=this.parent||this._dp;return L&&(L._sort||!this.parent)&&so(L,this,C-this._delay),this}return this._start},_.endTime=function(C){return this._start+(Qt(C)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},_.rawTime=function(C){var L=this.parent||this._dp;return L?C&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Qs(L.rawTime(C),this):this._tTime:this._tTime},_.revert=function(C){void 0===C&&(C=cs);var L=Yt;return Yt=C,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(C),this.totalTime(-.01,C.suppressEvents)),"nested"!==this.data&&!1!==C.kill&&this.kill(),Yt=L,this},_.globalTime=function(C){for(var L=this,Q=arguments.length?C:L.rawTime();L;)Q=L._start+Q/(Math.abs(L._ts)||1),L=L._dp;return!this.parent&&this._sat?this._sat.globalTime(C):Q},_.repeat=function(C){return arguments.length?(this._repeat=C===1/0?-2:C,br(this)):-2===this._repeat?1/0:this._repeat},_.repeatDelay=function(C){if(arguments.length){var L=this._time;return this._rDelay=C,br(this),L?this.time(L):this}return this._rDelay},_.yoyo=function(C){return arguments.length?(this._yoyo=C,this):this._yoyo},_.seek=function(C,L){return this.totalTime(vo(this,C),Qt(L))},_.restart=function(C,L){return this.play().totalTime(C?-this._delay:0,Qt(L))},_.play=function(C,L){return null!=C&&this.seek(C,L),this.reversed(!1).paused(!1)},_.reverse=function(C,L){return null!=C&&this.seek(C||this.totalDuration(),L),this.reversed(!0).paused(!1)},_.pause=function(C,L){return null!=C&&this.seek(C,L),this.paused(!0)},_.resume=function(){return this.paused(!1)},_.reversed=function(C){return arguments.length?(!!C!==this.reversed()&&this.timeScale(-this._rts||(C?-xt:0)),this):this._rts<0},_.invalidate=function(){return this._initted=this._act=0,this._zTime=-xt,this},_.isActive=function(){var Q,C=this.parent||this._dp,L=this._start;return!(C&&!(this._ts&&this._initted&&C.isActive()&&(Q=C.rawTime(!0))>=L&&Q<this.endTime(!0)-xt))},_.eventCallback=function(C,L,Q){var re=this.vars;return arguments.length>1?(L?(re[C]=L,Q&&(re[C+"Params"]=Q),"onUpdate"===C&&(this._onUpdate=L)):delete re[C],this):re[C]},_.then=function(C){var L=this;return new Promise(function(Q){var re=jt(C)?C:xr,ge=function(){var Ge=L.then;L.then=null,jt(re)&&(re=re(L))&&(re.then||re===L)&&(L.then=Ge),Q(re),L.then=Ge};L._initted&&1===L.totalProgress()&&L._ts>=0||!L._tTime&&L._ts<0?ge():L._prom=ge})},_.kill=function(){Js(this)},Re}();ds(He.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xt,_prom:0,_ps:!1,_rts:1});var nt=function(Re){function _(C,L){var Q;return void 0===C&&(C={}),(Q=Re.call(this,C)||this).labels={},Q.smoothChildTiming=!!C.smoothChildTiming,Q.autoRemoveChildren=!!C.autoRemoveChildren,Q._sort=Qt(C.sortChildren),me&&so(C.parent||me,k(Q),L),C.reversed&&Q.reverse(),C.paused&&Q.paused(!0),C.scrollTrigger&&Cs(k(Q),C.scrollTrigger),Q}Xt(_,Re);var M=_.prototype;return M.to=function(L,Q,re){return Ps(0,arguments,this),this},M.from=function(L,Q,re){return Ps(1,arguments,this),this},M.fromTo=function(L,Q,re,ge){return Ps(2,arguments,this),this},M.set=function(L,Q,re){return Q.duration=0,Q.parent=this,po(Q).repeatDelay||(Q.repeat=0),Q.immediateRender=!!Q.immediateRender,new Rr(L,Q,vo(this,re),1),this},M.call=function(L,Q,re){return so(this,Rr.delayedCall(0,L,Q),re)},M.staggerTo=function(L,Q,re,ge,Ve,Ge,it){return re.duration=Q,re.stagger=re.stagger||ge,re.onComplete=Ge,re.onCompleteParams=it,re.parent=this,new Rr(L,re,vo(this,Ve)),this},M.staggerFrom=function(L,Q,re,ge,Ve,Ge,it){return re.runBackwards=1,po(re).immediateRender=Qt(re.immediateRender),this.staggerTo(L,Q,re,ge,Ve,Ge,it)},M.staggerFromTo=function(L,Q,re,ge,Ve,Ge,it,qt){return ge.startAt=re,po(ge).immediateRender=Qt(ge.immediateRender),this.staggerTo(L,Q,ge,Ve,Ge,it,qt)},M.render=function(L,Q,re){var dn,un,zn,Ot,jn,Kn,ni,xi,Ai,oi,zi,Hi,ge=this._time,Ve=this._dirty?this.totalDuration():this._tDur,Ge=this._dur,it=L<=0?0:Jr(L),qt=this._zTime<0!=L<0&&(this._initted||!Ge);if(this!==me&&it>Ve&&L>=0&&(it=Ve),it!==this._tTime||re||qt){if(ge!==this._time&&Ge&&(it+=this._time-ge,L+=this._time-ge),dn=it,Ai=this._start,Kn=!(xi=this._ts),qt&&(Ge||(ge=this._zTime),(L||!Q)&&(this._zTime=L)),this._repeat){if(zi=this._yoyo,jn=Ge+this._rDelay,this._repeat<-1&&L<0)return this.totalTime(100*jn+L,Q,re);if(dn=Jr(it%jn),it===Ve?(Ot=this._repeat,dn=Ge):((Ot=~~(it/jn))&&Ot===it/jn&&(dn=Ge,Ot--),dn>Ge&&(dn=Ge)),oi=os(this._tTime,jn),!ge&&this._tTime&&oi!==Ot&&this._tTime-oi*jn-this._dur<=0&&(oi=Ot),zi&&1&Ot&&(dn=Ge-dn,Hi=1),Ot!==oi&&!this._lock){var ir=zi&&1&oi,Pi=ir===(zi&&1&Ot);if(Ot<oi&&(ir=!ir),ge=ir?0:it%Ge?Ge:it,this._lock=1,this.render(ge||(Hi?0:Jr(Ot*jn)),Q,!Ge)._lock=0,this._tTime=it,!Q&&this.parent&&zs(this,"onRepeat"),this.vars.repeatRefresh&&!Hi&&(this.invalidate()._lock=1),ge&&ge!==this._time||Kn!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(Ge=this._dur,Ve=this._tDur,Pi&&(this._lock=2,this.render(ge=ir?Ge:-1e-4,!0),this.vars.repeatRefresh&&!Hi&&this.invalidate()),this._lock=0,!this._ts&&!Kn)return this;j(this,Hi)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(ni=function(_,M,C){var L;if(C>M)for(L=_._first;L&&L._start<=C;){if("isPause"===L.data&&L._start>M)return L;L=L._next}else for(L=_._last;L&&L._start>=C;){if("isPause"===L.data&&L._start<M)return L;L=L._prev}}(this,Jr(ge),Jr(dn)),ni&&(it-=dn-(dn=ni._start))),this._tTime=it,this._time=dn,this._act=!xi,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=L,ge=0),!ge&&dn&&!Q&&!Ot&&(zs(this,"onStart"),this._tTime!==it))return this;if(dn>=ge&&L>=0)for(un=this._first;un;){if(zn=un._next,(un._act||dn>=un._start)&&un._ts&&ni!==un){if(un.parent!==this)return this.render(L,Q,re);if(un.render(un._ts>0?(dn-un._start)*un._ts:(un._dirty?un.totalDuration():un._tDur)+(dn-un._start)*un._ts,Q,re),dn!==this._time||!this._ts&&!Kn){ni=0,zn&&(it+=this._zTime=-xt);break}}un=zn}else{un=this._last;for(var lo=L<0?L:dn;un;){if(zn=un._prev,(un._act||lo<=un._end)&&un._ts&&ni!==un){if(un.parent!==this)return this.render(L,Q,re);if(un.render(un._ts>0?(lo-un._start)*un._ts:(un._dirty?un.totalDuration():un._tDur)+(lo-un._start)*un._ts,Q,re||Yt&&(un._initted||un._startAt)),dn!==this._time||!this._ts&&!Kn){ni=0,zn&&(it+=this._zTime=lo?-xt:xt);break}}un=zn}}if(ni&&!Q&&(this.pause(),ni.render(dn>=ge?0:-xt)._zTime=dn>=ge?1:-1,this._ts))return this._start=Ai,Vs(this),this.render(L,Q,re);this._onUpdate&&!Q&&zs(this,"onUpdate",!0),(it===Ve&&this._tTime>=this.totalDuration()||!it&&ge)&&(Ai===this._start||Math.abs(xi)!==Math.abs(this._ts))&&(this._lock||((L||!Ge)&&(it===Ve&&this._ts>0||!it&&this._ts<0)&&mt(this,1),!Q&&(!(L<0)||ge)&&(it||ge||!Ve)&&(zs(this,it===Ve&&L>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(it<Ve&&this.timeScale()>0)&&this._prom())))}return this},M.add=function(L,Q){var re=this;if(st(Q)||(Q=vo(this,Q,L)),!(L instanceof He)){if(Tn(L))return L.forEach(function(ge){return re.add(ge,Q)}),this;if(Tt(L))return this.addLabel(L,Q);if(!jt(L))return this;L=Rr.delayedCall(0,L)}return this!==L?so(this,L,Q):this},M.getChildren=function(L,Q,re,ge){void 0===L&&(L=!0),void 0===Q&&(Q=!0),void 0===re&&(re=!0),void 0===ge&&(ge=-At);for(var Ve=[],Ge=this._first;Ge;)Ge._start>=ge&&(Ge instanceof Rr?Q&&Ve.push(Ge):(re&&Ve.push(Ge),L&&Ve.push.apply(Ve,Ge.getChildren(!0,Q,re)))),Ge=Ge._next;return Ve},M.getById=function(L){for(var Q=this.getChildren(1,1,1),re=Q.length;re--;)if(Q[re].vars.id===L)return Q[re]},M.remove=function(L){return Tt(L)?this.removeLabel(L):jt(L)?this.killTweensOf(L):(sn(this,L),L===this._recent&&(this._recent=this._last),on(this))},M.totalTime=function(L,Q){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Jr(Mo.time-(this._ts>0?L/this._ts:(this.totalDuration()-L)/-this._ts))),Re.prototype.totalTime.call(this,L,Q),this._forcing=0,this):this._tTime},M.addLabel=function(L,Q){return this.labels[L]=vo(this,Q),this},M.removeLabel=function(L){return delete this.labels[L],this},M.addPause=function(L,Q,re){var ge=Rr.delayedCall(0,Q||fr,re);return ge.data="isPause",this._hasPause=1,so(this,ge,vo(this,L))},M.removePause=function(L){var Q=this._first;for(L=vo(this,L);Q;)Q._start===L&&"isPause"===Q.data&&mt(Q),Q=Q._next},M.killTweensOf=function(L,Q,re){for(var ge=this.getTweensOf(L,re),Ve=ge.length;Ve--;)In!==ge[Ve]&&ge[Ve].kill(L,Q);return this},M.getTweensOf=function(L,Q){for(var it,re=[],ge=ut(L),Ve=this._first,Ge=st(Q);Ve;)Ve instanceof Rr?io(Ve._targets,ge)&&(Ge?(!In||Ve._initted&&Ve._ts)&&Ve.globalTime(0)<=Q&&Ve.globalTime(Ve.totalDuration())>Q:!Q||Ve.isActive())&&re.push(Ve):(it=Ve.getTweensOf(ge,Q)).length&&re.push.apply(re,it),Ve=Ve._next;return re},M.tweenTo=function(L,Q){Q=Q||{};var un,re=this,ge=vo(re,L),Ge=Q.startAt,it=Q.onStart,qt=Q.onStartParams,dn=Q.immediateRender,zn=Rr.to(re,ds({ease:Q.ease||"none",lazy:!1,immediateRender:!1,time:ge,overwrite:"auto",duration:Q.duration||Math.abs((ge-(Ge&&"time"in Ge?Ge.time:re._time))/re.timeScale())||xt,onStart:function(){if(re.pause(),!un){var jn=Q.duration||Math.abs((ge-(Ge&&"time"in Ge?Ge.time:re._time))/re.timeScale());zn._dur!==jn&&ko(zn,jn,0,1).render(zn._time,!0,!0),un=1}it&&it.apply(zn,qt||[])}},Q));return dn?zn.render(0):zn},M.tweenFromTo=function(L,Q,re){return this.tweenTo(Q,ds({startAt:{time:vo(this,L)}},re))},M.recent=function(){return this._recent},M.nextLabel=function(L){return void 0===L&&(L=this._time),Ro(this,vo(this,L))},M.previousLabel=function(L){return void 0===L&&(L=this._time),Ro(this,vo(this,L),1)},M.currentLabel=function(L){return arguments.length?this.seek(L,!0):this.previousLabel(this._time+xt)},M.shiftChildren=function(L,Q,re){void 0===re&&(re=0);for(var Ge,ge=this._first,Ve=this.labels;ge;)ge._start>=re&&(ge._start+=L,ge._end+=L),ge=ge._next;if(Q)for(Ge in Ve)Ve[Ge]>=re&&(Ve[Ge]+=L);return on(this)},M.invalidate=function(L){var Q=this._first;for(this._lock=0;Q;)Q.invalidate(L),Q=Q._next;return Re.prototype.invalidate.call(this,L)},M.clear=function(L){void 0===L&&(L=!0);for(var re,Q=this._first;Q;)re=Q._next,this.remove(Q),Q=re;return this._dp&&(this._time=this._tTime=this._pTime=0),L&&(this.labels={}),on(this)},M.totalDuration=function(L){var Ge,it,qt,Q=0,re=this,ge=re._last,Ve=At;if(arguments.length)return re.timeScale((re._repeat<0?re.duration():re.totalDuration())/(re.reversed()?-L:L));if(re._dirty){for(qt=re.parent;ge;)Ge=ge._prev,ge._dirty&&ge.totalDuration(),(it=ge._start)>Ve&&re._sort&&ge._ts&&!re._lock?(re._lock=1,so(re,ge,it-ge._delay,1)._lock=0):Ve=it,it<0&&ge._ts&&(Q-=it,(!qt&&!re._dp||qt&&qt.smoothChildTiming)&&(re._start+=it/re._ts,re._time-=it,re._tTime-=it),re.shiftChildren(-it,!1,-1/0),Ve=0),ge._end>Q&&ge._ts&&(Q=ge._end),ge=Ge;ko(re,re===me&&re._time>Q?re._time:Q,1,1),re._dirty=0}return re._tDur},_.updateRoot=function(L){if(me._ts&&(_o(me,Qs(L,me)),nn=Mo.frame),Mo.frame>=hr){hr+=je.autoSleep||120;var Q=me._first;if((!Q||!Q._ts)&&je.autoSleep&&Mo._listeners.length<2){for(;Q&&!Q._ts;)Q=Q._next;Q||Mo.sleep()}}},_}(He);ds(nt.prototype,{_lock:0,_hasPause:0,_forcing:0});var In,Mn,Mt=function(_,M,C,L,Q,re,ge){var qt,dn,un,zn,Ot,jn,Kn,ni,Ve=new Z(this._pt,_,M,0,1,ua,null,Q),Ge=0,it=0;for(Ve.b=C,Ve.e=L,C+="",(Kn=~(L+="").indexOf("random("))&&(L=As(L)),re&&(re(ni=[C,L],_,M),C=ni[0],L=ni[1]),dn=C.match(Ei)||[];qt=Ei.exec(L);)zn=qt[0],Ot=L.substring(Ge,qt.index),un?un=(un+1)%5:"rgba("===Ot.substr(-5)&&(un=1),zn!==dn[it++]&&(jn=parseFloat(dn[it-1])||0,Ve._pt={_next:Ve._pt,p:Ot||1===it?Ot:",",s:jn,c:"="===zn.charAt(1)?Es(jn,zn)-jn:parseFloat(zn)-jn,m:un&&un<4?Math.round:0},Ge=Ei.lastIndex);return Ve.c=Ge<L.length?L.substring(Ge,L.length):"",Ve.fp=ge,(hn.test(L)||Kn)&&(Ve.e=0),this._pt=Ve,Ve},_t=function(_,M,C,L,Q,re,ge,Ve,Ge,it){jt(L)&&(L=L(Q||0,_,re));var zn,qt=_[M],dn="get"!==C?C:jt(qt)?Ge?_[M.indexOf("set")||!jt(_["get"+M.substr(3)])?M:"get"+M.substr(3)](Ge):_[M]():qt,un=jt(qt)?Ge?xa:Oo:Ao;if(Tt(L)&&(~L.indexOf("random(")&&(L=As(L)),"="===L.charAt(1)&&((zn=Es(dn,L)+(Ws(dn)||0))||0===zn)&&(L=zn)),!it||dn!==L||Mn)return isNaN(dn*L)||""===L?(!qt&&!(M in _)&&bi(M,L),Mt.call(this,_,M,dn,L,un,Ve||je.stringFilter,Ge)):(zn=new Z(this._pt,_,M,+dn||0,L-(dn||0),"boolean"==typeof qt?Pl:Kl,0,un),Ge&&(zn.fp=Ge),ge&&zn.modifier(ge,this,_),this._pt=zn)},On=function(_,M,C,L,Q,re){var ge,Ve,Ge,it;if(cn[_]&&!1!==(ge=new cn[_]).init(Q,ge.rawVars?M[_]:function(_,M,C,L,Q){if(jt(_)&&(_=Yr(_,Q,M,C,L)),!Vt(_)||_.style&&_.nodeType||Tn(_)||pn(_))return Tt(_)?Yr(_,Q,M,C,L):_;var ge,re={};for(ge in _)re[ge]=Yr(_[ge],Q,M,C,L);return re}(M[_],L,Q,re,C),C,L,re)&&(C._pt=Ve=new Z(C._pt,Q,_,0,1,ge.render,ge,0,ge.priority),C!==hs))for(Ge=C._ptLookup[C._targets.indexOf(Q)],it=ge._props.length;it--;)Ge[ge._props[it]]=Ve;return ge},di=function Re(_,M,C){var oi,zi,Hi,ir,Pi,lo,Bo,Ys,Vo,Yo,ga,da,vi,L=_.vars,Q=L.ease,re=L.startAt,ge=L.immediateRender,Ve=L.lazy,Ge=L.onUpdate,it=L.runBackwards,qt=L.yoyoEase,dn=L.keyframes,un=L.autoRevert,zn=_._dur,Ot=_._startAt,jn=_._targets,Kn=_.parent,ni=Kn&&"nested"===Kn.data?Kn.vars.targets:jn,xi="auto"===_._overwrite&&!Zt,Ai=_.timeline;if(Ai&&(!dn||!Q)&&(Q="none"),_._ease=Le(Q,$t.ease),_._yEase=qt?Pe(Le(!0===qt?Q:qt,$t.ease)):0,qt&&_._yoyo&&!_._repeat&&(qt=_._yEase,_._yEase=_._ease,_._ease=qt),_._from=!Ai&&!!L.runBackwards,!Ai||dn&&!L.stagger){if(da=(Ys=jn[0]?wi(jn[0]).harness:0)&&L[Ys.prop],oi=ss(L,Fr),Ot&&(Ot._zTime<0&&Ot.progress(1),M<0&&it&&ge&&!un?Ot.render(-1,!0):Ot.revert(it&&zn?_r:Vr),Ot._lazy=0),re){if(mt(_._startAt=Rr.set(jn,ds({data:"isStart",overwrite:!1,parent:Kn,immediateRender:!0,lazy:!Ot&&Qt(Ve),startAt:null,delay:0,onUpdate:Ge&&function(){return zs(_,"onUpdate")},stagger:0},re))),_._startAt._dp=0,_._startAt._sat=_,M<0&&(Yt||!ge&&!un)&&_._startAt.revert(_r),ge&&zn&&M<=0&&C<=0)return void(M&&(_._zTime=M))}else if(it&&zn&&!Ot)if(M&&(ge=!1),Hi=ds({overwrite:!1,data:"isFromStart",lazy:ge&&!Ot&&Qt(Ve),immediateRender:ge,stagger:0,parent:Kn},oi),da&&(Hi[Ys.prop]=da),mt(_._startAt=Rr.set(jn,Hi)),_._startAt._dp=0,_._startAt._sat=_,M<0&&(Yt?_._startAt.revert(_r):_._startAt.render(-1,!0)),_._zTime=M,ge){if(!M)return}else Re(_._startAt,xt,xt);for(_._pt=_._ptCache=0,Ve=zn&&Qt(Ve)||Ve&&!zn,zi=0;zi<jn.length;zi++){if(Bo=(Pi=jn[zi])._gsap||Di(jn)[zi]._gsap,_._ptLookup[zi]=Yo={},Ft[Bo.id]&&ri.length&&$i(),ga=ni===jn?zi:ni.indexOf(Pi),Ys&&!1!==(Vo=new Ys).init(Pi,da||oi,_,ga,ni)&&(_._pt=ir=new Z(_._pt,Pi,Vo.name,0,1,Vo.render,Vo,0,Vo.priority),Vo._props.forEach(function(x){Yo[x]=ir}),Vo.priority&&(lo=1)),!Ys||da)for(Hi in oi)cn[Hi]&&(Vo=On(Hi,oi,_,ga,Pi,ni))?Vo.priority&&(lo=1):Yo[Hi]=ir=_t.call(_,Pi,Hi,"get",oi[Hi],ga,ni,0,L.stringFilter);_._op&&_._op[zi]&&_.kill(Pi,_._op[zi]),xi&&_._pt&&(In=_,me.killTweensOf(Pi,Yo,_.globalTime(M)),vi=!_.parent,In=0),_._pt&&Ve&&(Ft[Bo.id]=1)}lo&&ee(_),_._onInit&&_._onInit(_)}_._onUpdate=Ge,_._initted=(!_._op||_._pt)&&!vi,dn&&M<=0&&Ai.render(At,!0,!0)},Qi=function(_,M,C,L){var re,ge,Q=M.ease||L||"power1.inOut";if(Tn(M))ge=C[_]||(C[_]=[]),M.forEach(function(Ve,Ge){return ge.push({t:Ge/(M.length-1)*100,v:Ve,e:Q})});else for(re in M)ge=C[re]||(C[re]=[]),"ease"===re||ge.push({t:parseFloat(_),v:M[re],e:Q})},Yr=function(_,M,C,L,Q){return jt(_)?_.call(M,C,L,Q):Tt(_)&&~_.indexOf("random(")?As(_):_},Po=kr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ts={};Hr(Po+",id,stagger,delay,duration,paused,scrollTrigger",function(Re){return ts[Re]=1});var Rr=function(Re){function _(C,L,Q,re){var ge;"number"==typeof L&&(Q.duration=L,L=Q,Q=null);var Ai,oi,zi,Hi,ir,Pi,lo,Bo,Ve=(ge=Re.call(this,re?L:po(L))||this).vars,Ge=Ve.duration,it=Ve.delay,qt=Ve.immediateRender,dn=Ve.stagger,un=Ve.overwrite,zn=Ve.keyframes,Ot=Ve.defaults,jn=Ve.scrollTrigger,Kn=Ve.yoyoEase,ni=L.parent||me,xi=(Tn(C)||pn(C)?st(C[0]):"length"in L)?[C]:ut(C);if(ge._targets=xi.length?Di(xi):or("GSAP target "+C+" not found. https://gsap.com",!je.nullTargetWarn)||[],ge._ptLookup=[],ge._overwrite=un,zn||dn||gt(Ge)||gt(it)){if(L=ge.vars,(Ai=ge.timeline=new nt({data:"nested",defaults:Ot||{},targets:ni&&"nested"===ni.data?ni.vars.targets:xi})).kill(),Ai.parent=Ai._dp=k(ge),Ai._start=0,dn||gt(Ge)||gt(it)){if(Hi=xi.length,lo=dn&&Lt(dn),Vt(dn))for(ir in dn)~Po.indexOf(ir)&&(Bo||(Bo={}),Bo[ir]=dn[ir]);for(oi=0;oi<Hi;oi++)(zi=ss(L,ts)).stagger=0,Kn&&(zi.yoyoEase=Kn),Bo&&Xr(zi,Bo),Pi=xi[oi],zi.duration=+Yr(Ge,k(ge),oi,Pi,xi),zi.delay=(+Yr(it,k(ge),oi,Pi,xi)||0)-ge._delay,!dn&&1===Hi&&zi.delay&&(ge._delay=it=zi.delay,ge._start+=it,zi.delay=0),Ai.to(Pi,zi,lo?lo(oi,Pi,xi):0),Ai._ease=Kr.none;Ai.duration()?Ge=it=0:ge.timeline=0}else if(zn){po(ds(Ai.vars.defaults,{ease:"none"})),Ai._ease=Le(zn.ease||L.ease||"none");var Vo,Yo,ga,Ys=0;if(Tn(zn))zn.forEach(function(da){return Ai.to(xi,da,">")}),Ai.duration();else{for(ir in zi={},zn)"ease"===ir||"easeEach"===ir||Qi(ir,zn[ir],zi,zn.easeEach);for(ir in zi)for(Vo=zi[ir].sort(function(da,vi){return da.t-vi.t}),Ys=0,oi=0;oi<Vo.length;oi++)(ga={ease:(Yo=Vo[oi]).e,duration:(Yo.t-(oi?Vo[oi-1].t:0))/100*Ge})[ir]=Yo.v,Ai.to(xi,ga,Ys),Ys+=ga.duration;Ai.duration()<Ge&&Ai.to({},{duration:Ge-Ai.duration()})}}Ge||ge.duration(Ge=Ai.duration())}else ge.timeline=0;return!0===un&&!Zt&&(In=k(ge),me.killTweensOf(xi),In=0),so(ni,k(ge),Q),L.reversed&&ge.reverse(),L.paused&&ge.paused(!0),(qt||!Ge&&!zn&&ge._start===Jr(ni._time)&&Qt(qt)&&Er(k(ge))&&"nested"!==ni.data)&&(ge._tTime=-xt,ge.render(Math.max(0,-it)||0)),jn&&Cs(k(ge),jn),ge}Xt(_,Re);var M=_.prototype;return M.render=function(L,Q,re){var dn,un,zn,Ot,jn,Kn,ni,xi,Ai,ge=this._time,Ve=this._tDur,Ge=this._dur,it=L<0,qt=L>Ve-xt&&!it?Ve:L<xt?0:L;if(Ge){if(qt!==this._tTime||!L||re||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==it){if(dn=qt,xi=this.timeline,this._repeat){if(Ot=Ge+this._rDelay,this._repeat<-1&&it)return this.totalTime(100*Ot+L,Q,re);if(dn=Jr(qt%Ot),qt===Ve?(zn=this._repeat,dn=Ge):((zn=~~(qt/Ot))&&zn===Jr(qt/Ot)&&(dn=Ge,zn--),dn>Ge&&(dn=Ge)),(Kn=this._yoyo&&1&zn)&&(Ai=this._yEase,dn=Ge-dn),jn=os(this._tTime,Ot),dn===ge&&!re&&this._initted&&zn===jn)return this._tTime=qt,this;zn!==jn&&(xi&&this._yEase&&j(xi,Kn),this.vars.repeatRefresh&&!Kn&&!this._lock&&this._time!==Ot&&this._initted&&(this._lock=re=1,this.render(Jr(Ot*zn),!0).invalidate()._lock=0))}if(!this._initted){if(Ji(this,it?L:dn,re,Q,qt))return this._tTime=0,this;if(!(ge===this._time||re&&this.vars.repeatRefresh&&zn!==jn))return this;if(Ge!==this._dur)return this.render(L,Q,re)}if(this._tTime=qt,this._time=dn,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=ni=(Ai||this._ease)(dn/Ge),this._from&&(this.ratio=ni=1-ni),dn&&!ge&&!Q&&!zn&&(zs(this,"onStart"),this._tTime!==qt))return this;for(un=this._pt;un;)un.r(ni,un.d),un=un._next;xi&&xi.render(L<0?L:xi._dur*xi._ease(dn/this._dur),Q,re)||this._startAt&&(this._zTime=L),this._onUpdate&&!Q&&(it&&si(this,L,0,re),zs(this,"onUpdate")),this._repeat&&zn!==jn&&this.vars.onRepeat&&!Q&&this.parent&&zs(this,"onRepeat"),(qt===this._tDur||!qt)&&this._tTime===qt&&(it&&!this._onUpdate&&si(this,L,0,!0),(L||!Ge)&&(qt===this._tDur&&this._ts>0||!qt&&this._ts<0)&&mt(this,1),!Q&&(!it||ge)&&(qt||ge||Kn)&&(zs(this,qt===Ve?"onComplete":"onReverseComplete",!0),this._prom&&!(qt<Ve&&this.timeScale()>0)&&this._prom()))}}else!function(_,M,C,L){var Ge,it,qt,Q=_.ratio,re=M<0||!M&&(!_._start&&Fo(_)&&(_._initted||!So(_))||(_._ts<0||_._dp._ts<0)&&!So(_))?0:1,ge=_._rDelay,Ve=0;if(ge&&_._repeat&&(Ve=Io(0,_._tDur,M),it=os(Ve,ge),_._yoyo&&1&it&&(re=1-re),it!==os(_._tTime,ge)&&(Q=1-re,_.vars.repeatRefresh&&_._initted&&_.invalidate())),re!==Q||Yt||L||_._zTime===xt||!M&&_._zTime){if(!_._initted&&Ji(_,M,L,C,Ve))return;for(qt=_._zTime,_._zTime=M||(C?xt:0),C||(C=M&&!qt),_.ratio=re,_._from&&(re=1-re),_._time=0,_._tTime=Ve,Ge=_._pt;Ge;)Ge.r(re,Ge.d),Ge=Ge._next;M<0&&si(_,M,0,!0),_._onUpdate&&!C&&zs(_,"onUpdate"),Ve&&_._repeat&&!C&&_.parent&&zs(_,"onRepeat"),(M>=_._tDur||M<0)&&_.ratio===re&&(re&&mt(_,1),!C&&!Yt&&(zs(_,re?"onComplete":"onReverseComplete",!0),_._prom&&_._prom()))}else _._zTime||(_._zTime=M)}(this,L,Q,re);return this},M.targets=function(){return this._targets},M.invalidate=function(L){return(!L||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(L),Re.prototype.invalidate.call(this,L)},M.resetTo=function(L,Q,re,ge,Ve){ar||Mo.wake(),this._ts||this.play();var Ge=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||di(this,Ge),function(_,M,C,L,Q,re,ge,Ve){var it,qt,dn,un,Ge=(_._pt&&_._ptCache||(_._ptCache={}))[M];if(!Ge)for(Ge=_._ptCache[M]=[],dn=_._ptLookup,un=_._targets.length;un--;){if((it=dn[un][M])&&it.d&&it.d._pt)for(it=it.d._pt;it&&it.p!==M&&it.fp!==M;)it=it._next;if(!it)return Mn=1,_.vars[M]="+=0",di(_,ge),Mn=0,Ve?or(M+" not eligible for reset"):1;Ge.push(it)}for(un=Ge.length;un--;)(it=(qt=Ge[un])._pt||qt).s=!L&&0!==L||Q?it.s+(L||0)+re*it.c:L,it.c=C-it.s,qt.e&&(qt.e=wr(C)+Ws(qt.e)),qt.b&&(qt.b=it.s+Ws(qt.b))}(this,L,Q,re,ge,this._ease(Ge/this._dur),Ge,Ve)?this.resetTo(L,Q,re,ge,1):(ro(this,0),this.parent||vt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},M.kill=function(L,Q){if(void 0===Q&&(Q="all"),!(L||Q&&"all"!==Q))return this._lazy=this._pt=0,this.parent?Js(this):this;if(this.timeline){var re=this.timeline.totalDuration();return this.timeline.killTweensOf(L,Q,In&&!0!==In.vars.overwrite)._first||Js(this),this.parent&&re!==this.timeline.totalDuration()&&ko(this,this._dur*this.timeline._tDur/re,0,1),this}var qt,dn,un,zn,Ot,jn,Kn,ge=this._targets,Ve=L?ut(L):ge,Ge=this._ptLookup,it=this._pt;if((!Q||"all"===Q)&&function(_,M){for(var C=_.length,L=C===M.length;L&&C--&&_[C]===M[C];);return C<0}(ge,Ve))return"all"===Q&&(this._pt=0),Js(this);for(qt=this._op=this._op||[],"all"!==Q&&(Tt(Q)&&(Ot={},Hr(Q,function(ni){return Ot[ni]=1}),Q=Ot),Q=function(_,M){var Q,re,ge,Ve,C=_[0]?wi(_[0]).harness:0,L=C&&C.aliases;if(!L)return M;for(re in Q=Xr({},M),L)if(re in Q)for(ge=(Ve=L[re].split(",")).length;ge--;)Q[Ve[ge]]=Q[re];return Q}(ge,Q)),Kn=ge.length;Kn--;)if(~Ve.indexOf(ge[Kn]))for(Ot in dn=Ge[Kn],"all"===Q?(qt[Kn]=Q,zn=dn,un={}):(un=qt[Kn]=qt[Kn]||{},zn=Q),zn)(jn=dn&&dn[Ot])&&((!("kill"in jn.d)||!0===jn.d.kill(Ot))&&sn(this,jn,"_pt"),delete dn[Ot]),"all"!==un&&(un[Ot]=1);return this._initted&&!this._pt&&it&&Js(this),this},_.to=function(L,Q){return new _(L,Q,arguments[2])},_.from=function(L,Q){return Ps(1,arguments)},_.delayedCall=function(L,Q,re,ge){return new _(Q,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:L,onComplete:Q,onReverseComplete:Q,onCompleteParams:re,onReverseCompleteParams:re,callbackScope:ge})},_.fromTo=function(L,Q,re){return Ps(2,arguments)},_.set=function(L,Q){return Q.duration=0,Q.repeatDelay||(Q.repeat=0),new _(L,Q)},_.killTweensOf=function(L,Q,re){return me.killTweensOf(L,Q,re)},_}(He);ds(Rr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Hr("staggerTo,staggerFrom,staggerFromTo",function(Re){Rr[Re]=function(){var _=new nt,M=Wo.call(arguments,0);return M.splice("staggerFromTo"===Re?5:4,0,0),_[Re].apply(_,M)}});var Ao=function(_,M,C){return _[M]=C},Oo=function(_,M,C){return _[M](C)},xa=function(_,M,C,L){return _[M](L.fp,C)},Ka=function(_,M,C){return _.setAttribute(M,C)},Oa=function(_,M){return jt(_[M])?Oo:Bt(_[M])&&_.setAttribute?Ka:Ao},Kl=function(_,M){return M.set(M.t,M.p,Math.round(1e6*(M.s+M.c*_))/1e6,M)},Pl=function(_,M){return M.set(M.t,M.p,!!(M.s+M.c*_),M)},ua=function(_,M){var C=M._pt,L="";if(!_&&M.b)L=M.b;else if(1===_&&M.e)L=M.e;else{for(;C;)L=C.p+(C.m?C.m(C.s+C.c*_):Math.round(1e4*(C.s+C.c*_))/1e4)+L,C=C._next;L+=M.c}M.set(M.t,M.p,L,M)},D=function(_,M){for(var C=M._pt;C;)C.r(_,C.d),C=C._next},d=function(_,M,C,L){for(var re,Q=this._pt;Q;)re=Q._next,Q.p===L&&Q.modifier(_,M,C),Q=re},N=function(_){for(var C,L,M=this._pt;M;)L=M._next,M.p===_&&!M.op||M.op===_?sn(this,M,"_pt"):M.dep||(C=1),M=L;return!C},F=function(_,M,C,L){L.mSet(_,M,L.m.call(L.tween,C,L.mt),L)},ee=function(_){for(var C,L,Q,re,M=_._pt;M;){for(C=M._next,L=Q;L&&L.pr>M.pr;)L=L._next;(M._prev=L?L._prev:re)?M._prev._next=M:Q=M,(M._next=L)?L._prev=M:re=M,M=C}_._pt=Q},Z=function(){function Re(M,C,L,Q,re,ge,Ve,Ge,it){this.t=C,this.s=Q,this.c=re,this.p=L,this.r=ge||Kl,this.d=Ve||this,this.set=Ge||Ao,this.pr=it||0,this._next=M,M&&(M._prev=this)}return Re.prototype.modifier=function(C,L,Q){this.mSet=this.mSet||this.set,this.set=F,this.m=C,this.mt=Q,this.tween=L},Re}();Hr(kr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(Re){return Fr[Re]=1}),Wt.TweenMax=Wt.TweenLite=Rr,Wt.TimelineLite=Wt.TimelineMax=nt,me=new nt({sortChildren:!1,defaults:$t,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),je.stringFilter=qa;var Se=[],Te={},le=[],Fe=0,fe=0,he=function(_){return(Te[_]||le).map(function(M){return M()})},Me=function(){var _=Date.now(),M=[];_-Fe>2&&(he("matchMediaInit"),Se.forEach(function(C){var re,ge,Ve,Ge,L=C.queries,Q=C.conditions;for(ge in L)(re=Ie.matchMedia(L[ge]).matches)&&(Ve=1),re!==Q[ge]&&(Q[ge]=re,Ge=1);Ge&&(C.revert(),Ve&&M.push(C))}),he("matchMediaRevert"),M.forEach(function(C){return C.onMatch(C,function(L){return C.add(null,L)})}),Fe=_,he("matchMedia"))},Xe=function(){function Re(M,C){this.selector=C&&de(C),this.data=[],this._r=[],this.isReverted=!1,this.id=fe++,M&&this.add(M)}var _=Re.prototype;return _.add=function(C,L,Q){jt(C)&&(Q=L,L=C,C=jt);var re=this,ge=function(){var qt,Ge=rt,it=re.selector;return Ge&&Ge!==re&&Ge.data.push(re),Q&&(re.selector=de(Q)),rt=re,qt=L.apply(re,arguments),jt(qt)&&re._r.push(qt),rt=Ge,re.selector=it,re.isReverted=!1,qt};return re.last=ge,C===jt?ge(re,function(Ve){return re.add(null,Ve)}):C?re[C]=ge:ge},_.ignore=function(C){var L=rt;rt=null,C(this),rt=L},_.getTweens=function(){var C=[];return this.data.forEach(function(L){return L instanceof Re?C.push.apply(C,L.getTweens()):L instanceof Rr&&!(L.parent&&"nested"===L.parent.data)&&C.push(L)}),C},_.clear=function(){this._r.length=this.data.length=0},_.kill=function(C,L){var Q=this;if(C?function(){for(var Ge,ge=Q.getTweens(),Ve=Q.data.length;Ve--;)"isFlip"===(Ge=Q.data[Ve]).data&&(Ge.revert(),Ge.getChildren(!0,!0,!1).forEach(function(it){return ge.splice(ge.indexOf(it),1)}));for(ge.map(function(it){return{g:it._dur||it._delay||it._sat&&!it._sat.vars.immediateRender?it.globalTime(0):-1/0,t:it}}).sort(function(it,qt){return qt.g-it.g||-1/0}).forEach(function(it){return it.t.revert(C)}),Ve=Q.data.length;Ve--;)(Ge=Q.data[Ve])instanceof nt?"nested"!==Ge.data&&(Ge.scrollTrigger&&Ge.scrollTrigger.revert(),Ge.kill()):!(Ge instanceof Rr)&&Ge.revert&&Ge.revert(C);Q._r.forEach(function(it){return it(C,Q)}),Q.isReverted=!0}():this.data.forEach(function(ge){return ge.kill&&ge.kill()}),this.clear(),L)for(var re=Se.length;re--;)Se[re].id===this.id&&Se.splice(re,1)},_.revert=function(C){this.kill(C||{})},Re}(),et=function(){function Re(M){this.contexts=[],this.scope=M,rt&&rt.data.push(this)}var _=Re.prototype;return _.add=function(C,L,Q){Vt(C)||(C={matches:C});var Ve,Ge,it,re=new Xe(0,Q||this.scope),ge=re.conditions={};for(Ge in rt&&!re.selector&&(re.selector=rt.selector),this.contexts.push(re),L=re.add("onMatch",L),re.queries=C,C)"all"===Ge?it=1:(Ve=Ie.matchMedia(C[Ge]))&&(Se.indexOf(re)<0&&Se.push(re),(ge[Ge]=Ve.matches)&&(it=1),Ve.addListener?Ve.addListener(Me):Ve.addEventListener("change",Me));return it&&L(re,function(qt){return re.add(null,qt)}),this},_.revert=function(C){this.kill(C||{})},_.kill=function(C){this.contexts.forEach(function(L){return L.kill(C,!0)})},Re}(),lt={registerPlugin:function(){for(var _=arguments.length,M=new Array(_),C=0;C<_;C++)M[C]=arguments[C];M.forEach(function(L){return jr(L)})},timeline:function(_){return new nt(_)},getTweensOf:function(_,M){return me.getTweensOf(_,M)},getProperty:function(_,M,C,L){Tt(_)&&(_=ut(_)[0]);var Q=wi(_||{}).get,re=C?xr:Ir;return"native"===C&&(C=""),_&&(M?re((cn[M]&&cn[M].get||Q)(_,M,C,L)):function(ge,Ve,Ge){return re((cn[ge]&&cn[ge].get||Q)(_,ge,Ve,Ge))})},quickSetter:function(_,M,C){if((_=ut(_)).length>1){var L=_.map(function(it){return Ze.quickSetter(it,M,C)}),Q=L.length;return function(it){for(var qt=Q;qt--;)L[qt](it)}}var re=cn[M],ge=wi(_=_[0]||{}),Ve=ge.harness&&(ge.harness.aliases||{})[M]||M,Ge=re?function(it){var qt=new re;hs._pt=0,qt.init(_,C?it+C:it,hs,0,[_]),qt.render(1,qt),hs._pt&&D(1,hs)}:ge.set(_,Ve);return re?Ge:function(it){return Ge(_,Ve,C?it+C:it,ge,1)}},quickTo:function(_,M,C){var L,Q=Ze.to(_,Xr(((L={})[M]="+=0.1",L.paused=!0,L),C||{})),re=function(Ve,Ge,it){return Q.resetTo(M,Ve,Ge,it)};return re.tween=Q,re},isTweening:function(_){return me.getTweensOf(_,!0).length>0},defaults:function(_){return _&&_.ease&&(_.ease=Le(_.ease,$t.ease)),jo($t,_||{})},config:function(_){return jo(je,_||{})},registerEffect:function(_){var M=_.name,C=_.effect,Q=_.defaults,re=_.extendTimeline;(_.plugins||"").split(",").forEach(function(ge){return ge&&!cn[ge]&&!Wt[ge]&&or(M+" effect requires "+ge+" plugin.")}),gi[M]=function(ge,Ve,Ge){return C(ut(ge),ds(Ve||{},Q),Ge)},re&&(nt.prototype[M]=function(ge,Ve,Ge){return this.add(gi[M](ge,Vt(Ve)?Ve:(Ge=Ve)&&{},this),Ge)})},registerEase:function(_,M){Kr[_]=Le(M)},parseEase:function(_,M){return arguments.length?Le(_,M):Kr},getById:function(_){return me.getById(_)},exportRoot:function(_,M){void 0===_&&(_={});var L,Q,C=new nt(_);for(C.smoothChildTiming=Qt(_.smoothChildTiming),me.remove(C),C._dp=0,C._time=C._tTime=me._time,L=me._first;L;)Q=L._next,(M||!(!L._dur&&L instanceof Rr&&L.vars.onComplete===L._targets[0]))&&so(C,L,L._start-L._delay),L=Q;return so(me,C,0),C},context:function(_,M){return _?new Xe(_,M):rt},matchMedia:function(_){return new et(_)},matchMediaRefresh:function(){return Se.forEach(function(_){var C,L,M=_.conditions;for(L in M)M[L]&&(M[L]=!1,C=1);C&&_.revert()})||Me()},addEventListener:function(_,M){var C=Te[_]||(Te[_]=[]);~C.indexOf(M)||C.push(M)},removeEventListener:function(_,M){var C=Te[_],L=C&&C.indexOf(M);L>=0&&C.splice(L,1)},utils:{wrap:function Re(_,M,C){var L=M-_;return Tn(_)?bo(_,Re(0,_.length),M):Os(C,function(Q){return(L+(Q-_)%L)%L+_})},wrapYoyo:function Re(_,M,C){var L=M-_,Q=2*L;return Tn(_)?bo(_,Re(0,_.length-1),M):Os(C,function(re){return _+((re=(Q+(re-_)%Q)%Q||0)>L?Q-re:re)})},distribute:Lt,random:Si,snap:ti,normalize:function(_,M,C){return Ko(_,M,0,1,C)},getUnit:Ws,clamp:function(_,M,C){return Os(C,function(L){return Io(_,M,L)})},splitColor:al,toArray:ut,selector:de,mapRange:Ko,pipe:function(){for(var _=arguments.length,M=new Array(_),C=0;C<_;C++)M[C]=arguments[C];return function(L){return M.reduce(function(Q,re){return re(Q)},L)}},unitize:function(_,M){return function(C){return _(parseFloat(C))+(M||Ws(C))}},interpolate:function Re(_,M,C,L){var Q=isNaN(_+M)?0:function(un){return(1-un)*_+un*M};if(!Q){var Ve,Ge,it,qt,dn,re=Tt(_),ge={};if(!0===C&&(L=1)&&(C=null),re)_={p:_},M={p:M};else if(Tn(_)&&!Tn(M)){for(it=[],dn=(qt=_.length)-2,Ge=1;Ge<qt;Ge++)it.push(Re(_[Ge-1],_[Ge]));qt--,Q=function(zn){zn*=qt;var Ot=Math.min(dn,~~zn);return it[Ot](zn-Ot)},C=M}else L||(_=Xr(Tn(_)?[]:{},_));if(!it){for(Ve in M)_t.call(ge,_,Ve,"get",M[Ve]);Q=function(zn){return D(zn,ge)||(re?_.p:_)}}}return Os(C,Q)},shuffle:Je},install:dr,effects:gi,ticker:Mo,updateRoot:nt.updateRoot,plugins:cn,globalTimeline:me,core:{PropTween:Z,globals:rr,Tween:Rr,Timeline:nt,Animation:He,getCache:wi,_removeLinkedListItem:sn,reverting:function(){return Yt},context:function(_){return _&&rt&&(rt.data.push(_),_._ctx=rt),rt},suppressOverwrites:function(_){return Zt=_}}};Hr("to,from,fromTo,delayedCall,set,killTweensOf",function(Re){return lt[Re]=Rr[Re]}),Mo.add(nt.updateRoot),hs=lt.to({},{duration:0});var ct=function(_,M){for(var C=_._pt;C&&C.p!==M&&C.op!==M&&C.fp!==M;)C=C._next;return C},dt=function(_,M){return{name:_,rawVars:1,init:function(L,Q,re){re._onInit=function(ge){var Ve,Ge;if(Tt(Q)&&(Ve={},Hr(Q,function(it){return Ve[it]=1}),Q=Ve),M){for(Ge in Ve={},Q)Ve[Ge]=M(Q[Ge]);Q=Ve}!function(_,M){var L,Q,re,C=_._targets;for(L in M)for(Q=C.length;Q--;)(re=_._ptLookup[Q][L])&&(re=re.d)&&(re._pt&&(re=ct(re,L)),re&&re.modifier&&re.modifier(M[L],_,C[Q],L))}(ge,Q)}}}},Ze=lt.registerPlugin({name:"attr",init:function(_,M,C,L,Q){var re,ge,Ve;for(re in this.tween=C,M)Ve=_.getAttribute(re)||"",(ge=this.add(_,"setAttribute",(Ve||0)+"",M[re],L,Q,0,0,re)).op=re,ge.b=Ve,this._props.push(re)},render:function(_,M){for(var C=M._pt;C;)Yt?C.set(C.t,C.p,C.b,C):C.r(_,C.d),C=C._next}},{name:"endArray",init:function(_,M){for(var C=M.length;C--;)this.add(_,C,_[C]||0,M[C],0,0,0,0,0,1)}},dt("roundProps",Ln),dt("modifiers"),dt("snap",ti))||lt;Rr.version=nt.version=Ze.version="3.12.5",Xn=1,en()&&Ta();var Ni,ki,qs,lr,Ui,yo,ta,Ea,na={},ao=180/Math.PI,Sr=Math.PI/180,dl=Math.atan2,Vn=1e8,Or=/([A-Z])/g,Ya=/(left|right|width|margin|padding|x)/i,fl=/[\s,\(]\S/,ha={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Na=function(_,M){return M.set(M.t,M.p,Math.round(1e4*(M.s+M.c*_))/1e4+M.u,M)},xl=function(_,M){return M.set(M.t,M.p,1===_?M.e:Math.round(1e4*(M.s+M.c*_))/1e4+M.u,M)},El=function(_,M){return M.set(M.t,M.p,_?Math.round(1e4*(M.s+M.c*_))/1e4+M.u:M.b,M)},lc=function(_,M){var C=M.s+M.c*_;M.set(M.t,M.p,~~(C+(C<0?-.5:.5))+M.u,M)},ll=function(_,M){return M.set(M.t,M.p,_?M.e:M.b,M)},bc=function(_,M){return M.set(M.t,M.p,1!==_?M.b:M.e,M)},Yl=function(_,M,C){return _.style[M]=C},cl=function(_,M,C){return _.style.setProperty(M,C)},pu=function(_,M,C){return _._gsap[M]=C},eo=function(_,M,C){return _._gsap.scaleX=_._gsap.scaleY=C},Sl=function(_,M,C,L,Q){var re=_._gsap;re.scaleX=re.scaleY=C,re.renderTransform(Q,re)},wc=function(_,M,C,L,Q){var re=_._gsap;re[M]=C,re.renderTransform(Q,re)},go="transform",pa=go+"Origin",Za=function Re(_,M){var C=this,L=this.target,Q=L.style,re=L._gsap;if(_ in na&&Q){if(this.tfm=this.tfm||{},"transform"===_)return ha.transform.split(",").forEach(function(ge){return Re.call(C,ge,M)});if(~(_=ha[_]||_).indexOf(",")?_.split(",").forEach(function(ge){return C.tfm[ge]=tt(L,ge)}):this.tfm[_]=re.x?re[_]:tt(L,_),_===pa&&(this.tfm.zOrigin=re.zOrigin),this.props.indexOf(go)>=0)return;re.svg&&(this.svgo=L.getAttribute("data-svg-origin"),this.props.push(pa,M,"")),_=go}(Q||M)&&this.props.push(_,M,Q[_])},Ga=function(_){_.translate&&(_.removeProperty("translate"),_.removeProperty("scale"),_.removeProperty("rotate"))},xc=function(){var Q,re,_=this.props,M=this.target,C=M.style,L=M._gsap;for(Q=0;Q<_.length;Q+=3)_[Q+1]?M[_[Q]]=_[Q+2]:_[Q+2]?C[_[Q]]=_[Q+2]:C.removeProperty("--"===_[Q].substr(0,2)?_[Q]:_[Q].replace(Or,"-$1").toLowerCase());if(this.tfm){for(re in this.tfm)L[re]=this.tfm[re];L.svg&&(L.renderTransform(),M.setAttribute("data-svg-origin",this.svgo||"")),(!(Q=ta())||!Q.isStart)&&!C[go]&&(Ga(C),L.zOrigin&&C[pa]&&(C[pa]+=" "+L.zOrigin+"px",L.zOrigin=0,L.renderTransform()),L.uncache=1)}},mu=function(_,M){var C={target:_,props:[],revert:xc,save:Za};return _._gsap||Ze.core.getCache(_),M&&M.split(",").forEach(function(L){return C.save(L)}),C},fo=function(_,M){var C=ki.createElementNS?ki.createElementNS((M||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),_):ki.createElement(_);return C&&C.style?C:ki.createElement(_)},La=function Re(_,M,C){var L=getComputedStyle(_);return L[M]||L.getPropertyValue(M.replace(Or,"-$1").toLowerCase())||L.getPropertyValue(M)||!C&&Re(_,Ol(M)||M,1)||""},Qa="O,Moz,ms,Ms,Webkit".split(","),Ol=function(_,M,C){var Q=(M||Ui).style,re=5;if(_ in Q&&!C)return _;for(_=_.charAt(0).toUpperCase()+_.substr(1);re--&&!(Qa[re]+_ in Q););return re<0?null:(3===re?"ms":re>=0?Qa[re]:"")+_},gu=function(){typeof window<"u"&&window.document&&(Ni=window,qs=(ki=Ni.document).documentElement,Ui=fo("div")||{style:{}},fo("div"),go=Ol(go),pa=go+"Origin",Ui.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ea=!!Ol("perspective"),ta=Ze.core.reverting,lr=1)},Zl=function Re(_){var re,M=fo("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),C=this.parentNode,L=this.nextSibling,Q=this.style.cssText;if(qs.appendChild(M),M.appendChild(this),this.style.display="block",_)try{re=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Re}catch{}else this._gsapBBox&&(re=this._gsapBBox());return C&&(L?C.insertBefore(this,L):C.appendChild(this)),qs.removeChild(M),this.style.cssText=Q,re},Ml=function(_,M){for(var C=M.length;C--;)if(_.hasAttribute(M[C]))return _.getAttribute(M[C])},ia=function(_){var M;try{M=_.getBBox()}catch{M=Zl.call(_,!0)}return M&&(M.width||M.height)||_.getBBox===Zl||(M=Zl.call(_,!0)),!M||M.width||M.x||M.y?M:{x:+Ml(_,["x","cx","x1"])||0,y:+Ml(_,["y","cy","y1"])||0,width:0,height:0}},Ye=function(_){return!(!_.getCTM||_.parentNode&&!_.ownerSVGElement||!ia(_))},P=function(_,M){if(M){var L,C=_.style;M in na&&M!==pa&&(M=go),C.removeProperty?(("ms"===(L=M.substr(0,2))||"webkit"===M.substr(0,6))&&(M="-"+M),C.removeProperty("--"===L?M:M.replace(Or,"-$1").toLowerCase())):C.removeAttribute(M)}},J=function(_,M,C,L,Q,re){var ge=new Z(_._pt,M,C,0,1,re?bc:ll);return _._pt=ge,ge.b=L,ge.e=Q,_._props.push(C),ge},$e={deg:1,rad:1,turn:1},q={grid:1,flex:1},Ae=function Re(_,M,C,L){var zn,Ot,jn,Kn,Q=parseFloat(C)||0,re=(C+"").trim().substr((Q+"").length)||"px",ge=Ui.style,Ve=Ya.test(M),Ge="svg"===_.tagName.toLowerCase(),it=(Ge?"client":"offset")+(Ve?"Width":"Height"),dn="px"===L,un="%"===L;if(L===re||!Q||$e[L]||$e[re])return Q;if("px"!==re&&!dn&&(Q=Re(_,M,C,"px")),Kn=_.getCTM&&Ye(_),(un||"%"===re)&&(na[M]||~M.indexOf("adius")))return zn=Kn?_.getBBox()[Ve?"width":"height"]:_[it],wr(un?Q/zn*100:Q/100*zn);if(ge[Ve?"width":"height"]=100+(dn?re:L),Ot=~M.indexOf("adius")||"em"===L&&_.appendChild&&!Ge?_:_.parentNode,Kn&&(Ot=(_.ownerSVGElement||{}).parentNode),(!Ot||Ot===ki||!Ot.appendChild)&&(Ot=ki.body),(jn=Ot._gsap)&&un&&jn.width&&Ve&&jn.time===Mo.time&&!jn.uncache)return wr(Q/jn.width*100);if(!un||"height"!==M&&"width"!==M)(un||"%"===re)&&!q[La(Ot,"display")]&&(ge.position=La(_,"position")),Ot===_&&(ge.position="static"),Ot.appendChild(Ui),zn=Ui[it],Ot.removeChild(Ui),ge.position="absolute";else{var ni=_.style[M];_.style[M]=100+L,zn=_[it],ni?_.style[M]=ni:P(_,M)}return Ve&&un&&((jn=wi(Ot)).time=Mo.time,jn.width=Ot[it]),wr(dn?zn*Q/100:zn&&Q?100/zn*Q:0)},tt=function(_,M,C,L){var Q;return lr||gu(),M in ha&&"transform"!==M&&~(M=ha[M]).indexOf(",")&&(M=M.split(",")[0]),na[M]&&"transform"!==M?(Q=er(_,L),Q="transformOrigin"!==M?Q[M]:Q.svg?Q.origin:Ls(La(_,pa))+" "+Q.zOrigin+"px"):(!(Q=_.style[M])||"auto"===Q||L||~(Q+"").indexOf("calc("))&&(Q=ls[M]&&ls[M](_,M,C)||La(_,M)||Ur(_,M)||("opacity"===M?1:0)),C&&!~(Q+"").trim().indexOf(" ")?Ae(_,M,Q,C)+C:Q},mn=function(_,M,C,L){if(!C||"none"===C){var Q=Ol(M,_,1),re=Q&&La(_,Q,1);re&&re!==C?(M=Q,C=re):"borderColor"===M&&(C=La(_,"borderTopColor"))}var it,qt,dn,un,zn,Ot,jn,Kn,ni,xi,Ai,ge=new Z(this._pt,_.style,M,0,1,ua),Ve=0,Ge=0;if(ge.b=C,ge.e=L,C+="","auto"==(L+="")&&(Ot=_.style[M],_.style[M]=L,L=La(_,M)||L,Ot?_.style[M]=Ot:P(_,M)),qa(it=[C,L]),L=it[1],dn=(C=it[0]).match(An)||[],(L.match(An)||[]).length){for(;qt=An.exec(L);)jn=qt[0],ni=L.substring(Ve,qt.index),zn?zn=(zn+1)%5:("rgba("===ni.substr(-5)||"hsla("===ni.substr(-5))&&(zn=1),jn!==(Ot=dn[Ge++]||"")&&(un=parseFloat(Ot)||0,Ai=Ot.substr((un+"").length),"="===jn.charAt(1)&&(jn=Es(un,jn)+Ai),Kn=parseFloat(jn),xi=jn.substr((Kn+"").length),Ve=An.lastIndex-xi.length,xi||(xi=xi||je.units[M]||Ai,Ve===L.length&&(L+=xi,ge.e+=xi)),Ai!==xi&&(un=Ae(_,M,Ot,xi)||0),ge._pt={_next:ge._pt,p:ni||1===Ge?ni:",",s:un,c:Kn-un,m:zn&&zn<4||"zIndex"===M?Math.round:0});ge.c=Ve<L.length?L.substring(Ve,L.length):""}else ge.r="display"===M&&"none"===L?bc:ll;return hn.test(L)&&(ge.e=0),this._pt=ge,ge},Qn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Nr=function(_){var M=_.split(" "),C=M[0],L=M[1]||"50%";return("top"===C||"bottom"===C||"left"===L||"right"===L)&&(_=C,C=L,L=_),M[0]=Qn[C]||C,M[1]=Qn[L]||L,M.join(" ")},Zr=function(_,M){if(M.tween&&M.tween._time===M.tween._dur){var ge,Ve,Ge,C=M.t,L=C.style,Q=M.u,re=C._gsap;if("all"===Q||!0===Q)L.cssText="",Ve=1;else for(Ge=(Q=Q.split(",")).length;--Ge>-1;)na[ge=Q[Ge]]&&(Ve=1,ge="transformOrigin"===ge?pa:go),P(C,ge);Ve&&(P(C,go),re&&(re.svg&&C.removeAttribute("transform"),er(C,1),re.uncache=1,Ga(L)))}},ls={clearProps:function(_,M,C,L,Q){if("isFromStart"!==Q.data){var re=_._pt=new Z(_._pt,M,C,0,0,Zr);return re.u=L,re.pr=-10,re.tween=Q,_._props.push(C),1}}},Ar=[1,0,0,1,0,0],Ts={},Ds=function(_){return"matrix(1, 0, 0, 1, 0, 0)"===_||"none"===_||!_},Co=function(_){var M=La(_,go);return Ds(M)?Ar:M.substr(7).match(Ci).map(wr)},ms=function(_,M){var re,ge,Ve,Ge,C=_._gsap||wi(_),L=_.style,Q=Co(_);return C.svg&&_.getAttribute("transform")?"1,0,0,1,0,0"===(Q=[(Ve=_.transform.baseVal.consolidate().matrix).a,Ve.b,Ve.c,Ve.d,Ve.e,Ve.f]).join(",")?Ar:Q:(Q===Ar&&!_.offsetParent&&_!==qs&&!C.svg&&(Ve=L.display,L.display="block",(!(re=_.parentNode)||!_.offsetParent)&&(Ge=1,ge=_.nextElementSibling,qs.appendChild(_)),Q=Co(_),Ve?L.display=Ve:P(_,"display"),Ge&&(ge?re.insertBefore(_,ge):re?re.appendChild(_):qs.removeChild(_))),M&&Q.length>6?[Q[0],Q[1],Q[4],Q[5],Q[12],Q[13]]:Q)},ei=function(_,M,C,L,Q,re){var zi,Hi,Pi,ge=_._gsap,Ve=Q||ms(_,!0),Ge=ge.xOrigin||0,it=ge.yOrigin||0,qt=ge.xOffset||0,dn=ge.yOffset||0,un=Ve[0],zn=Ve[1],Ot=Ve[2],jn=Ve[3],Kn=Ve[4],ni=Ve[5],xi=M.split(" "),Ai=parseFloat(xi[0])||0,oi=parseFloat(xi[1])||0;C?Ve!==Ar&&(Hi=un*jn-zn*Ot)&&(Pi=Ai*(-zn/Hi)+oi*(un/Hi)-(un*ni-zn*Kn)/Hi,Ai=Ai*(jn/Hi)+oi*(-Ot/Hi)+(Ot*ni-jn*Kn)/Hi,oi=Pi):(Ai=(zi=ia(_)).x+(~xi[0].indexOf("%")?Ai/100*zi.width:Ai),oi=zi.y+(~(xi[1]||xi[0]).indexOf("%")?oi/100*zi.height:oi)),L||!1!==L&&ge.smooth?(ge.xOffset=qt+((Kn=Ai-Ge)*un+(ni=oi-it)*Ot)-Kn,ge.yOffset=dn+(Kn*zn+ni*jn)-ni):ge.xOffset=ge.yOffset=0,ge.xOrigin=Ai,ge.yOrigin=oi,ge.smooth=!!L,ge.origin=M,ge.originIsAbsolute=!!C,_.style[pa]="0px 0px",re&&(J(re,ge,"xOrigin",Ge,Ai),J(re,ge,"yOrigin",it,oi),J(re,ge,"xOffset",qt,ge.xOffset),J(re,ge,"yOffset",dn,ge.yOffset)),_.setAttribute("data-svg-origin",Ai+" "+oi)},er=function(_,M){var C=_._gsap||new Ee(_);if("x"in C&&!M&&!C.uncache)return C;var it,qt,dn,un,zn,Ot,jn,Kn,ni,xi,Ai,oi,zi,Hi,ir,Pi,lo,Bo,Ys,Vo,Yo,ga,da,vi,x,O,$,T,W,_e,Oe,kt,L=_.style,Q=C.scaleX<0,ge="deg",Ve=getComputedStyle(_),Ge=La(_,pa)||"0";return it=qt=dn=Ot=jn=Kn=ni=xi=Ai=0,un=zn=1,C.svg=!(!_.getCTM||!Ye(_)),Ve.translate&&(("none"!==Ve.translate||"none"!==Ve.scale||"none"!==Ve.rotate)&&(L[go]=("none"!==Ve.translate?"translate3d("+(Ve.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==Ve.rotate?"rotate("+Ve.rotate+") ":"")+("none"!==Ve.scale?"scale("+Ve.scale.split(" ").join(",")+") ":"")+("none"!==Ve[go]?Ve[go]:"")),L.scale=L.rotate=L.translate="none"),Hi=ms(_,C.svg),C.svg&&(C.uncache?(x=_.getBBox(),Ge=C.xOrigin-x.x+"px "+(C.yOrigin-x.y)+"px",vi=""):vi=!M&&_.getAttribute("data-svg-origin"),ei(_,vi||Ge,!!vi||C.originIsAbsolute,!1!==C.smooth,Hi)),oi=C.xOrigin||0,zi=C.yOrigin||0,Hi!==Ar&&(Bo=Hi[0],Ys=Hi[1],Vo=Hi[2],Yo=Hi[3],it=ga=Hi[4],qt=da=Hi[5],6===Hi.length?(un=Math.sqrt(Bo*Bo+Ys*Ys),zn=Math.sqrt(Yo*Yo+Vo*Vo),Ot=Bo||Ys?dl(Ys,Bo)*ao:0,(ni=Vo||Yo?dl(Vo,Yo)*ao+Ot:0)&&(zn*=Math.abs(Math.cos(ni*Sr))),C.svg&&(it-=oi-(oi*Bo+zi*Vo),qt-=zi-(oi*Ys+zi*Yo))):(_e=Hi[7],$=Hi[8],T=Hi[9],Oe=Hi[11],it=Hi[12],qt=Hi[13],dn=Hi[14],jn=(ir=dl(kt=Hi[6],W=Hi[10]))*ao,ir&&(vi=ga*(Pi=Math.cos(-ir))+$*(lo=Math.sin(-ir)),x=da*Pi+T*lo,O=kt*Pi+W*lo,$=ga*-lo+$*Pi,T=da*-lo+T*Pi,W=kt*-lo+W*Pi,Oe=_e*-lo+Oe*Pi,ga=vi,da=x,kt=O),Kn=(ir=dl(-Vo,W))*ao,ir&&(Pi=Math.cos(-ir),Oe=Yo*(lo=Math.sin(-ir))+Oe*Pi,Bo=vi=Bo*Pi-$*lo,Ys=x=Ys*Pi-T*lo,Vo=O=Vo*Pi-W*lo),Ot=(ir=dl(Ys,Bo))*ao,ir&&(vi=Bo*(Pi=Math.cos(ir))+Ys*(lo=Math.sin(ir)),x=ga*Pi+da*lo,Ys=Ys*Pi-Bo*lo,da=da*Pi-ga*lo,Bo=vi,ga=x),jn&&Math.abs(jn)+Math.abs(Ot)>359.9&&(jn=Ot=0,Kn=180-Kn),un=wr(Math.sqrt(Bo*Bo+Ys*Ys+Vo*Vo)),zn=wr(Math.sqrt(da*da+kt*kt)),ir=dl(ga,da),ni=Math.abs(ir)>2e-4?ir*ao:0,Ai=Oe?1/(Oe<0?-Oe:Oe):0),C.svg&&(vi=_.getAttribute("transform"),C.forceCSS=_.setAttribute("transform","")||!Ds(La(_,go)),vi&&_.setAttribute("transform",vi))),Math.abs(ni)>90&&Math.abs(ni)<270&&(Q?(un*=-1,ni+=Ot<=0?180:-180,Ot+=Ot<=0?180:-180):(zn*=-1,ni+=ni<=0?180:-180)),M=M||C.uncache,C.x=it-((C.xPercent=it&&(!M&&C.xPercent||(Math.round(_.offsetWidth/2)===Math.round(-it)?-50:0)))?_.offsetWidth*C.xPercent/100:0)+"px",C.y=qt-((C.yPercent=qt&&(!M&&C.yPercent||(Math.round(_.offsetHeight/2)===Math.round(-qt)?-50:0)))?_.offsetHeight*C.yPercent/100:0)+"px",C.z=dn+"px",C.scaleX=wr(un),C.scaleY=wr(zn),C.rotation=wr(Ot)+ge,C.rotationX=wr(jn)+ge,C.rotationY=wr(Kn)+ge,C.skewX=ni+ge,C.skewY=xi+ge,C.transformPerspective=Ai+"px",(C.zOrigin=parseFloat(Ge.split(" ")[2])||!M&&C.zOrigin||0)&&(L[pa]=Ls(Ge)),C.xOffset=C.yOffset=0,C.force3D=je.force3D,C.renderTransform=C.svg?Ja:Ea?Ss:gs,C.uncache=0,C},Ls=function(_){return(_=_.split(" "))[0]+" "+_[1]},To=function(_,M,C){var L=Ws(M);return wr(parseFloat(M)+parseFloat(Ae(_,"x",C+"px",L)))+L},gs=function(_,M){M.z="0px",M.rotationY=M.rotationX="0deg",M.force3D=0,Ss(_,M)},to="0deg",Fa="0px",Ks=") ",Ss=function(_,M){var C=M||this,L=C.xPercent,Q=C.yPercent,re=C.x,ge=C.y,Ve=C.z,Ge=C.rotation,it=C.rotationY,qt=C.rotationX,dn=C.skewX,un=C.skewY,zn=C.scaleX,Ot=C.scaleY,jn=C.transformPerspective,Kn=C.force3D,ni=C.target,xi=C.zOrigin,Ai="",oi="auto"===Kn&&_&&1!==_||!0===Kn;if(xi&&(qt!==to||it!==to)){var Pi,zi=parseFloat(it)*Sr,Hi=Math.sin(zi),ir=Math.cos(zi);zi=parseFloat(qt)*Sr,Pi=Math.cos(zi),re=To(ni,re,Hi*Pi*-xi),ge=To(ni,ge,-Math.sin(zi)*-xi),Ve=To(ni,Ve,ir*Pi*-xi+xi)}jn!==Fa&&(Ai+="perspective("+jn+Ks),(L||Q)&&(Ai+="translate("+L+"%, "+Q+"%) "),(oi||re!==Fa||ge!==Fa||Ve!==Fa)&&(Ai+=Ve!==Fa||oi?"translate3d("+re+", "+ge+", "+Ve+") ":"translate("+re+", "+ge+Ks),Ge!==to&&(Ai+="rotate("+Ge+Ks),it!==to&&(Ai+="rotateY("+it+Ks),qt!==to&&(Ai+="rotateX("+qt+Ks),(dn!==to||un!==to)&&(Ai+="skew("+dn+", "+un+Ks),(1!==zn||1!==Ot)&&(Ai+="scale("+zn+", "+Ot+Ks),ni.style[go]=Ai||"translate(0, 0)"},Ja=function(_,M){var oi,zi,Hi,ir,Pi,C=M||this,L=C.xPercent,Q=C.yPercent,re=C.x,ge=C.y,Ve=C.rotation,Ge=C.skewX,it=C.skewY,qt=C.scaleX,dn=C.scaleY,un=C.target,zn=C.xOrigin,Ot=C.yOrigin,jn=C.xOffset,Kn=C.yOffset,ni=C.forceCSS,xi=parseFloat(re),Ai=parseFloat(ge);Ve=parseFloat(Ve),Ge=parseFloat(Ge),(it=parseFloat(it))&&(Ge+=it=parseFloat(it),Ve+=it),Ve||Ge?(Ve*=Sr,Ge*=Sr,oi=Math.cos(Ve)*qt,zi=Math.sin(Ve)*qt,Hi=Math.sin(Ve-Ge)*-dn,ir=Math.cos(Ve-Ge)*dn,Ge&&(it*=Sr,Pi=Math.tan(Ge-it),Hi*=Pi=Math.sqrt(1+Pi*Pi),ir*=Pi,it&&(Pi=Math.tan(it),oi*=Pi=Math.sqrt(1+Pi*Pi),zi*=Pi)),oi=wr(oi),zi=wr(zi),Hi=wr(Hi),ir=wr(ir)):(oi=qt,ir=dn,zi=Hi=0),(xi&&!~(re+"").indexOf("px")||Ai&&!~(ge+"").indexOf("px"))&&(xi=Ae(un,"x",re,"px"),Ai=Ae(un,"y",ge,"px")),(zn||Ot||jn||Kn)&&(xi=wr(xi+zn-(zn*oi+Ot*Hi)+jn),Ai=wr(Ai+Ot-(zn*zi+Ot*ir)+Kn)),(L||Q)&&(Pi=un.getBBox(),xi=wr(xi+L/100*Pi.width),Ai=wr(Ai+Q/100*Pi.height)),un.setAttribute("transform",Pi="matrix("+oi+","+zi+","+Hi+","+ir+","+xi+","+Ai+")"),ni&&(un.style[go]=Pi)},Br=function(_,M,C,L,Q){var qt,dn,re=360,ge=Tt(Q),Ge=parseFloat(Q)*(ge&&~Q.indexOf("rad")?ao:1)-L,it=L+Ge+"deg";return ge&&("short"===(qt=Q.split("_")[1])&&(Ge%=re)!=Ge%180&&(Ge+=Ge<0?re:-re),"cw"===qt&&Ge<0?Ge=(Ge+re*Vn)%re-~~(Ge/re)*re:"ccw"===qt&&Ge>0&&(Ge=(Ge-re*Vn)%re-~~(Ge/re)*re)),_._pt=dn=new Z(_._pt,M,C,L,Ge,xl),dn.e=it,dn.u="deg",_._props.push(C),dn},hl=function(_,M){for(var C in M)_[C]=M[C];return _},Ql=function(_,M,C){var ge,Ve,Ge,it,qt,dn,zn,L=hl({},C._gsap),re=C.style;for(Ve in L.svg?(Ge=C.getAttribute("transform"),C.setAttribute("transform",""),re[go]=M,ge=er(C,1),P(C,go),C.setAttribute("transform",Ge)):(Ge=getComputedStyle(C)[go],re[go]=M,ge=er(C,1),re[go]=Ge),na)(Ge=L[Ve])!==(it=ge[Ve])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(Ve)<0&&(qt=Ws(Ge)!==(zn=Ws(it))?Ae(C,Ve,Ge,zn):parseFloat(Ge),dn=parseFloat(it),_._pt=new Z(_._pt,ge,Ve,qt,dn-qt,Na),_._pt.u=zn||0,_._props.push(Ve));hl(ge,L)};Hr("padding,margin,Width,Radius",function(Re,_){var M="Top",C="Right",L="Bottom",Q="Left",re=(_<3?[M,C,L,Q]:[M+Q,M+C,L+C,L+Q]).map(function(ge){return _<2?Re+ge:"border"+ge+Re});ls[_>1?"border"+Re:Re]=function(ge,Ve,Ge,it,qt){var dn,un;if(arguments.length<4)return dn=re.map(function(zn){return tt(ge,zn,Ge)}),5===(un=dn.join(" ")).split(dn[0]).length?dn[0]:un;dn=(it+"").split(" "),un={},re.forEach(function(zn,Ot){return un[zn]=dn[Ot]=dn[Ot]||dn[(Ot-1)/2|0]}),ge.init(Ve,un,qt)}});var vr={name:"css",register:gu,targetTest:function(_){return _.style&&_.nodeType},init:function(_,M,C,L,Q){var Ge,it,qt,dn,un,zn,Ot,jn,Kn,ni,xi,Ai,oi,zi,Hi,ir,re=this._props,ge=_.style,Ve=C.vars.startAt;for(Ot in lr||gu(),this.styles=this.styles||mu(_),ir=this.styles.props,this.tween=C,M)if("autoRound"!==Ot&&(it=M[Ot],!cn[Ot]||!On(Ot,M,C,L,_,Q)))if(zn=ls[Ot],"function"==(un=typeof it)&&(un=typeof(it=it.call(C,L,_,Q))),"string"===un&&~it.indexOf("random(")&&(it=As(it)),zn)zn(this,_,Ot,it,C)&&(Hi=1);else if("--"===Ot.substr(0,2))Ge=(getComputedStyle(_).getPropertyValue(Ot)+"").trim(),it+="",pr.lastIndex=0,pr.test(Ge)||(jn=Ws(Ge),Kn=Ws(it)),Kn?jn!==Kn&&(Ge=Ae(_,Ot,Ge,Kn)+Kn):jn&&(it+=jn),this.add(ge,"setProperty",Ge,it,L,Q,0,0,Ot),re.push(Ot),ir.push(Ot,0,ge[Ot]);else if("undefined"!==un){if(Ve&&Ot in Ve?(Ge="function"==typeof Ve[Ot]?Ve[Ot].call(C,L,_,Q):Ve[Ot],Tt(Ge)&&~Ge.indexOf("random(")&&(Ge=As(Ge)),Ws(Ge+"")||"auto"===Ge||(Ge+=je.units[Ot]||Ws(tt(_,Ot))||""),"="===(Ge+"").charAt(1)&&(Ge=tt(_,Ot))):Ge=tt(_,Ot),dn=parseFloat(Ge),(ni="string"===un&&"="===it.charAt(1)&&it.substr(0,2))&&(it=it.substr(2)),qt=parseFloat(it),Ot in ha&&("autoAlpha"===Ot&&(1===dn&&"hidden"===tt(_,"visibility")&&qt&&(dn=0),ir.push("visibility",0,ge.visibility),J(this,ge,"visibility",dn?"inherit":"hidden",qt?"inherit":"hidden",!qt)),"scale"!==Ot&&"transform"!==Ot&&~(Ot=ha[Ot]).indexOf(",")&&(Ot=Ot.split(",")[0])),xi=Ot in na)if(this.styles.save(Ot),Ai||((oi=_._gsap).renderTransform&&!M.parseTransform||er(_,M.parseTransform),zi=!1!==M.smoothOrigin&&oi.smooth,(Ai=this._pt=new Z(this._pt,ge,go,0,1,oi.renderTransform,oi,0,-1)).dep=1),"scale"===Ot)this._pt=new Z(this._pt,oi,"scaleY",oi.scaleY,(ni?Es(oi.scaleY,ni+qt):qt)-oi.scaleY||0,Na),this._pt.u=0,re.push("scaleY",Ot),Ot+="X";else{if("transformOrigin"===Ot){ir.push(pa,0,ge[pa]),it=Nr(it),oi.svg?ei(_,it,0,zi,0,this):((Kn=parseFloat(it.split(" ")[2])||0)!==oi.zOrigin&&J(this,oi,"zOrigin",oi.zOrigin,Kn),J(this,ge,Ot,Ls(Ge),Ls(it)));continue}if("svgOrigin"===Ot){ei(_,it,1,zi,0,this);continue}if(Ot in Ts){Br(this,oi,Ot,dn,ni?Es(dn,ni+it):it);continue}if("smoothOrigin"===Ot){J(this,oi,"smooth",oi.smooth,it);continue}if("force3D"===Ot){oi[Ot]=it;continue}if("transform"===Ot){Ql(this,it,_);continue}}else Ot in ge||(Ot=Ol(Ot)||Ot);if(xi||(qt||0===qt)&&(dn||0===dn)&&!fl.test(it)&&Ot in ge)qt||(qt=0),(jn=(Ge+"").substr((dn+"").length))!==(Kn=Ws(it)||(Ot in je.units?je.units[Ot]:jn))&&(dn=Ae(_,Ot,Ge,Kn)),this._pt=new Z(this._pt,xi?oi:ge,Ot,dn,(ni?Es(dn,ni+qt):qt)-dn,xi||"px"!==Kn&&"zIndex"!==Ot||!1===M.autoRound?Na:lc),this._pt.u=Kn||0,jn!==Kn&&"%"!==Kn&&(this._pt.b=Ge,this._pt.r=El);else if(Ot in ge)mn.call(this,_,Ot,Ge,ni?ni+it:it);else if(Ot in _)this.add(_,Ot,Ge||_[Ot],ni?ni+it:it,L,Q);else if("parseTransform"!==Ot){bi(Ot,it);continue}xi||(Ot in ge?ir.push(Ot,0,ge[Ot]):ir.push(Ot,1,Ge||_[Ot])),re.push(Ot)}Hi&&ee(this)},render:function(_,M){if(M.tween._time||!ta())for(var C=M._pt;C;)C.r(_,C.d),C=C._next;else M.styles.revert()},get:tt,aliases:ha,getSetter:function(_,M,C){var L=ha[M];return L&&L.indexOf(",")<0&&(M=L),M in na&&M!==pa&&(_._gsap.x||tt(_,"x"))?C&&yo===C?"scale"===M?eo:pu:(yo=C||{})&&("scale"===M?Sl:wc):_.style&&!Bt(_.style[M])?Yl:~M.indexOf("-")?cl:Oa(_,M)},core:{_removeProperty:P,_getMatrix:ms}};Ze.utils.checkPrefix=Ol,Ze.core.getStyleSaver=mu,function(Re,_,M,C){var L=Hr(Re+","+_+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(Q){na[Q]=1});Hr(_,function(Q){je.units[Q]="deg",Ts[Q]=1}),ha[L[13]]=Re+","+_,Hr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(Q){var re=Q.split(":");ha[re[1]]=L[re[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Hr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(Re){je.units[Re]="px"}),Ze.registerPlugin(vr);var ho=Ze.registerPlugin(vr)||Ze,De=pe(4438);const Cl=["timelineContainer"],Wa=["swiper"],ma=[{path:"",component:(()=>{var Re;class _{constructor(C){this.router=C,this.timelineContainer=null,this.imageSources=["assets/descarga.png","assets/descarga (1).png","assets/descarga (2).png"],this.currentImageIndex=0,this.currentImage=this.imageSources[this.currentImageIndex]}segmentChanged(C){this.router.navigate([C.detail.value])}swiperReady(){var C;this.swiper=null===(C=this.swiperRef)||void 0===C?void 0:C.nativeElement.swiper}goNext(){var C;null===(C=this.swiper)||void 0===C||C.slideNext()}goPrev(){var C;null===(C=this.swiper)||void 0===C||C.slidePrev()}swiperSlideChanged(C){console.log("changed",C)}ngAfterViewInit(){this.startGSAPAnimations(),this.startImageLoop()}startGSAPAnimations(){if(this.timelineContainer){const C=new IntersectionObserver(L=>{L.forEach(Q=>{Q.isIntersecting&&(ho.from(".timeline-event-horizontal",{opacity:0,x:-100,scale:.8,duration:1,stagger:.3,ease:"power3.out"}),C.disconnect())})});C.observe(this.timelineContainer.nativeElement)}}startImageLoop(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.imageSources.length;const Q=this.imageSources[this.currentImageIndex],re=document.querySelector(".transition-img");ho.to(re,{opacity:0,scale:.8,duration:1,ease:"power3.in",onComplete:()=>{this.currentImage=Q,ho.fromTo(re,{opacity:0,scale:1.2},{opacity:1,scale:1,duration:1,ease:"power3.out"})}})},3e3)}}return(Re=_).\u0275fac=function(C){return new(C||Re)(De.rXU(Et.Ix))},Re.\u0275cmp=De.VBU({type:Re,selectors:[["app-home"]],viewQuery:function(C,L){if(1&C&&(De.GBs(Cl,7),De.GBs(Wa,5)),2&C){let Q;De.mGM(Q=De.lsd())&&(L.timelineContainer=Q.first),De.mGM(Q=De.lsd())&&(L.swiperRef=Q.first)}},decls:312,vars:6,consts:[["timelineContainer",""],["swiper",""],[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[3,"fullscreen"],[1,"header-container"],[1,"header",2,"background-image","url('https://prensaregional.pe/wp-content/uploads/2020/10/Central-Solar-Fotovoltaica-Rubi-se-ubica-en-Moquegua.jpg')"],[1,"overlay"],[1,"header-text"],[1,"swiper-container"],[1,"swiper-wrapper"],[1,"swiper-slide"],[1,"st"],[1,"a"],[2,"margin-top","30px"],[1,"c"],[1,"z"],[1,"sty"],["id","styContainer",1,"sub_sty"],[1,"ssy"],["id","styContainer",1,"ssy_sty"],[1,"stys"],["id","stysContainer",1,"sub_stys"],[2,"margin-left","14px","font-family","'Times New Roman', Times, serif","font-size","30px","padding-top","30px"],[2,"width","100%","height","310px","position","relative","background-size","cover","background-image","url('assets/historia.jpeg')","background-position","center","background-repeat","no-repeat","padding","0","overflow","hidden","opacity","1"],[1,"timeline-container-horizontal"],[1,"timeline-event-horizontal"],[1,"timeline-icon-horizontal"],[1,"timeline-content-horizontal"],[1,"timeline-date"],[2,"height","auto"],[2,"color","rgb(20, 219, 20)","margin-left","30px","margin-top","50px","font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"],["size-xs","12","size-md","5","size-lg","5"],[1,"class"],["size-xs","12","size-md","6","size-lg","6"],[2,"width","100%","height","100%","background-color","blue","display","flex","align-items","center","justify-content","center","overflow","hidden"],["src","https://ingeoexpert.com/wp-content/uploads/2019/03/energia-solar-fotovoltaica.jpg",2,"width","100%","height","auto","max-height","100%"],[2,"width","100%","height","auto","background-color","black",3,"swiper","loop","pagination"],[1,"ion"],[1,"dark-bg"],[1,"section-1"],[2,"font-family","'Times New Roman', Times, serif"],[1,"section-2"],["size-lg","4","size-xs","12"],[2,"background-color","black"],["name","bulb-outline",1,"foco"],[2,"margin-bottom","5px","font-family","'Times New Roman', Times, serif","color","white"],[2,"font-family","'Times New Roman', Times, serif","color","white"],["name","golf-outline",1,"recurso"],["name","leaf-outline",1,"logro"],[2,"width","100%","height","auto","padding-left","20px","padding-right","15px","padding-top","20px","padding-bottom","20px","background-color","red"],[2,"width","100%"],[2,"width","100%","height","100%","background-color","black"],["size-xs","12","size-md","6","size-lg","6",2,"background-color","aliceblue"],[2,"width","100%","height","auto","position","relative","background-size","cover"],[1,"vertical-container"],[2,"color","rgb(16, 232, 16)","font-family","'Times New Roman', Times, serif"],[2,"margin-top","20px","margin-bottom","20px","color","rgb(16, 232, 16)","font-family","'Times New Roman', Times, serif"],["size-xs","12","size-md","6","size-lg","6",2,"background-color","rgb(77, 102, 124)"],[1,"vertical-containers"],[1,"transition-img",3,"src"],[1,"imgd"]],template:function(C,L){if(1&C){const Q=De.RV6();De.j41(0,"ion-header",2)(1,"ion-segment",3),De.bIt("ionChange",function(ge){return De.eBV(Q),De.Njj(L.segmentChanged(ge))}),De.j41(2,"ion-segment-button",4),De.nrm(3,"ion-icon",5),De.EFF(4,"Inicio "),De.k0s(),De.j41(5,"ion-segment-button",6),De.nrm(6,"ion-icon",7),De.EFF(7,"Paneles "),De.k0s(),De.j41(8,"ion-segment-button",8),De.nrm(9,"ion-icon",9),De.EFF(10,"Generador Solar "),De.k0s()()(),De.j41(11,"ion-content",10)(12,"div",11)(13,"div",12),De.nrm(14,"div",13),De.j41(15,"div",14)(16,"p"),De.EFF(17,"La energ\xeda solar"),De.k0s(),De.j41(18,"div",15)(19,"div",16)(20,"div",17),De.EFF(21,"De divinidad a objeto de estudio de Albert Einstein, desde los albores de la humanidad la luz solar ha ido de la mano del ser humano."),De.k0s(),De.j41(22,"div",17),De.EFF(23,"Hemos aprovechado su energ\xeda para iluminar nuestras vidas, alimentar nuestras ciudades y alimentar nuestras mentes con la esperanza de un futuro m\xe1s sostenible."),De.k0s(),De.j41(24,"div",17),De.EFF(25,"Explora con nosotros la maravilla de la energ\xeda solar y descubre c\xf3mo est\xe1 dando forma a nuestro mundo y nuestro futuro."),De.k0s()()()()()(),De.j41(26,"div",18)(27,"p",19),De.EFF(28,"\xbfQue es la Energia solar?"),De.k0s(),De.j41(29,"div",20)(30,"h1",21),De.EFF(31,"La madre de todas las"),De.k0s(),De.j41(32,"h1",21),De.EFF(33,"Energias"),De.k0s(),De.j41(34,"h1",22),De.EFF(35,"Energias"),De.k0s()()(),De.j41(36,"div",23)(37,"div",24)(38,"p"),De.EFF(39,"La energ\xeda solar es la energ\xeda madre de la Tierra. Gracias a la radiaci\xf3n solar,"),De.k0s(),De.j41(40,"p"),De.EFF(41,"por ejemplo, las plantas realizan la fotos\xedntesis de la clorofila y ponen en"),De.k0s(),De.j41(42,"p"),De.EFF(43,"marcha el proceso que permite la supervivencia de los seres vivos que"),De.k0s(),De.j41(44,"p"),De.EFF(45,"habitan el planeta. La radiaci\xf3n solar tambi\xe9n es el origen de los vientos, las"),De.k0s(),De.j41(46,"p"),De.EFF(47,"mareas y los combustibles f\xf3siles: el Sol es el motor principal de casi todas"),De.k0s(),De.j41(48,"p"),De.EFF(49,"las formas de energ\xeda de nuestro planeta."),De.k0s()()(),De.j41(50,"div",25)(51,"div",26)(52,"p"),De.EFF(53,"Durante siglos, el ser humano ha sacado provecho del estrecho v\xednculo que"),De.k0s(),De.j41(54,"p"),De.EFF(55,"existe entre las plantas y el sol, sobre todo para aprender a gestionar el ciclo vital"),De.k0s(),De.j41(56,"p"),De.EFF(57,"de los vegetales necesarios para su alimentaci\xf3n. Con la llegada del progreso"),De.k0s(),De.j41(58,"p"),De.EFF(59,"tecnol\xf3gico de finales del siglo XIX fue posible transformar la fuerza del sol en"),De.k0s(),De.j41(60,"p"),De.EFF(61,"energ\xeda el\xe9ctrica gracias a la invenci\xf3n de la c\xe9lula solar, el dispositivo que"),De.k0s(),De.j41(62,"p"),De.EFF(63,"convierte la radiaci\xf3n del sol en energ\xeda el\xe9ctrica,."),De.k0s()()(),De.j41(64,"div",27)(65,"section",28)(66,"p"),De.EFF(67,"En la actualidad, casi 150 a\xf1os despu\xe9s de la fabricaci\xf3n de la primera c\xe9lula"),De.k0s(),De.j41(68,"p"),De.EFF(69,"fotovoltaica, la energ\xeda solar es el tipo de energ\xeda renovable que m\xe1s crece"),De.k0s(),De.j41(70,"p"),De.EFF(71,"proporcionalmente (+24 % al a\xf1o seg\xfan el informe IRENA 2019) en"),De.k0s(),De.j41(72,"p"),De.EFF(73,"consonancia con el desarrollo tecnol\xf3gico, que permite la construcci\xf3n de"),De.k0s(),De.j41(74,"p"),De.EFF(75,"parques solares cada vez m\xe1s eficientes. El sol va a seguir "),De.k0s(),De.j41(76,"p"),De.EFF(77,"brillando en lo m\xe1s alto, tambi\xe9n de las energ\xedas sostenibles."),De.k0s()(),De.j41(78,"p",29),De.EFF(79,"Historia de la Energia Solar"),De.k0s()(),De.j41(80,"div",30)(81,"div",31,0)(83,"div",32),De.nrm(84,"div",33),De.j41(85,"div",34)(86,"h3"),De.EFF(87,"2500 a.C."),De.k0s(),De.j41(88,"p"),De.EFF(89,"El Dios del Sol"),De.k0s(),De.j41(90,"span",35),De.EFF(91,"El Sol se considera fuente de vida y es venerado como una deidad."),De.k0s()()(),De.j41(92,"div",32),De.nrm(93,"div",33),De.j41(94,"div",34)(95,"h3"),De.EFF(96,"800 a.C."),De.k0s(),De.j41(97,"p"),De.EFF(98,"El fuego de Olimpia"),De.k0s(),De.j41(99,"span",35),De.EFF(100,"La llama ol\xedmpica fue creada con una lente que concentraba el calor solar."),De.k0s()()(),De.j41(101,"div",32),De.nrm(102,"div",33),De.j41(103,"div",34)(104,"h3"),De.EFF(105,"Siglo X"),De.k0s(),De.j41(106,"p"),De.EFF(107,"El descubrimiento de la refracci\xf3n "),De.k0s(),De.j41(108,"span",35),De.EFF(109,"El m\xe9dico y cient\xedfico \xe1rabe Ibn al-Haytham explica en su \xabLibro de la \xf3ptica\xbb el mecanismo de refracci\xf3n de la luz y por qu\xe9 una esfera de un material transparente concentra la radiaci\xf3n del sol en un punto situado debajo de la esfera. Sus escritos tienen una gran influencia en Bacon y otros fil\xf3sofos europeos. "),De.k0s()()(),De.j41(110,"div",32),De.nrm(111,"div",33),De.j41(112,"div",34)(113,"h3"),De.EFF(114,"1767"),De.k0s(),De.j41(115,"p"),De.EFF(116,"El primer colector Solar"),De.k0s(),De.j41(117,"span",35),De.EFF(118,"El cient\xedfico \u2014y alpinista\u2014 suizo Horace de Saussurre inventa el primer colector solar. Con una olla de madera forrada de corcho negro y recubierta de tres capas de vidrio consigue concentrar el calor y hacer que el agua de la olla hierva. "),De.k0s()()(),De.j41(119,"div",32),De.nrm(120,"div",33),De.j41(121,"div",34)(122,"h3"),De.EFF(123,"1839"),De.k0s(),De.j41(124,"p"),De.EFF(125,"Del platino a la electricidad "),De.k0s(),De.j41(126,"span",35),De.EFF(127,"El f\xedsico franc\xe9s Edmond Becquerel observa que algunas barras de platino a las que les da la luz del sol producen una peque\xf1a cantidad de electricidad. Se trata del efecto fotoel\xe9ctrico, un fen\xf3meno que en la actualidad sigue siendo la base del funcionamiento de las c\xe9lulas fotovoltaicas. "),De.k0s()()(),De.j41(128,"div",32),De.nrm(129,"div",33),De.j41(130,"div",34)(131,"h3"),De.EFF(132,"1879"),De.k0s(),De.j41(133,"p"),De.EFF(134,"La primera celula Solar "),De.k0s(),De.j41(135,"span",35),De.EFF(136,"Charles Fritts crea en Estados Unidos las primeras c\xe9lulas con una capa de selenio y otra de oro. Consiguen transformar en electricidad \xfanicamente el 1 % de la energ\xeda solar que reciben, pero sientan las bases para la aplicaci\xf3n pr\xe1ctica de los descubrimientos realizados hasta ese momento. "),De.k0s()()(),De.j41(137,"div",32),De.nrm(138,"div",33),De.j41(139,"div",34)(140,"h3"),De.EFF(141,"1921"),De.k0s(),De.j41(142,"p"),De.EFF(143,"Einstein, fotones y electrones "),De.k0s(),De.j41(144,"span",35),De.EFF(145,"Albert Einstein recibe el Premio Nobel de F\xedsica por la formulaci\xf3n de la ley del efecto fotoel\xe9ctrico, en la que explica c\xf3mo interact\xfaa la luz con la electricidad. El cient\xedfico demuestra que la luz contiene fotones dotados de energ\xeda, que ponen en movimiento los electrones dentro de ciertos materiales como el selenio. "),De.k0s()()(),De.j41(146,"div",32),De.nrm(147,"div",33),De.j41(148,"div",34)(149,"h3"),De.EFF(150,"1954"),De.k0s(),De.j41(151,"p"),De.EFF(152,"El silicio marca el comienzo de una nueva era "),De.k0s(),De.j41(153,"span",35),De.EFF(154,"Chapin, Filler y Pearson desarrollan una c\xe9lula solar fotovoltaica a base de silicio que convierte la energ\xeda solar en electricidad y es capaz de proporcionar energ\xeda a ciertos dispositivos de uso diario. El New York Times lopresenta como \xabel comienzo de una nueva era que permitir\xe1 aprovechar la energ\xeda ilimitada del sol en su totalidad en beneficio de todos los usos de la civilizaci\xf3n\xbb. "),De.k0s()()(),De.j41(155,"div",32),De.nrm(156,"div",33),De.j41(157,"div",34)(158,"h3"),De.EFF(159,"1982"),De.k0s(),De.j41(160,"p"),De.EFF(161,"La energia solar a cutatro ruedas "),De.k0s(),De.j41(162,"span",35),De.EFF(163,"En Australia nace el primer coche alimentado por c\xe9lulas solares, el Quiet Achiever. "),De.k0s()()(),De.j41(164,"div",32),De.nrm(165,"div",33),De.j41(166,"div",34)(167,"h3"),De.EFF(168,"2016"),De.k0s(),De.j41(169,"p"),De.EFF(170,"El sol esta cada vez mas al oeste"),De.k0s(),De.j41(171,"span",35),De.EFF(172,"En China se construye el parque solar del desierto de Tengger, la central fotovoltaica m\xe1s grande del mundo. "),De.k0s()()(),De.j41(173,"div",32),De.nrm(174,"div",33),De.j41(175,"div",34)(176,"h3"),De.EFF(177,"2016"),De.k0s(),De.j41(178,"p"),De.EFF(179,"El sol esta cada vez mas al oeste"),De.k0s(),De.j41(180,"span",35),De.EFF(181,"En China se construye el parque solar del desierto de Tengger, la central fotovoltaica m\xe1s grande del mundo. "),De.k0s()()()()(),De.j41(182,"div",36),De.nrm(183,"hr"),De.j41(184,"h1",37),De.EFF(185,"\xbf Que es la Enegia fotovoltaica?"),De.k0s(),De.j41(186,"ion-grid")(187,"ion-row")(188,"ion-col",38)(189,"p",39),De.EFF(190,"La energ\xeda fotovoltaica es una forma de generaci\xf3n de energ\xeda el\xe9ctrica que aprovecha la radiaci\xf3n solar para producir electricidad. Este proceso se lleva a cabo mediante el uso de dispositivos llamados c\xe9lulas fotovoltaicas o paneles solares. Estas c\xe9lulas est\xe1n hechas de materiales semiconductores, como el silicio, que tienen la capacidad de convertir la luz solar directamente en electricidad a trav\xe9s del efecto fotovoltaico. "),De.k0s(),De.j41(191,"p",39),De.EFF(192,"Cuando la luz solar incide sobre las c\xe9lulas fotovoltaicas, los fotones de luz excitan los electrones en el material semiconductor, generando as\xed una corriente el\xe9ctrica. Estas corrientes individuales de las c\xe9lulas se combinan en m\xf3dulos solares, y m\xfaltiples m\xf3dulos se pueden instalar juntos para formar un sistema fotovoltaico m\xe1s grande. "),De.k0s(),De.j41(193,"p",39),De.EFF(194,"La energ\xeda fotovoltaica es una fuente de energ\xeda renovable y sostenible, ya que utiliza la luz del sol, una fuente inagotable, para generar electricidad sin emitir gases de efecto invernadero u otros contaminantes atmosf\xe9ricos directos durante su operaci\xf3n. Esta forma de generaci\xf3n de energ\xeda es ampliamente utilizada en aplicaciones residenciales, comerciales e industriales, as\xed como en proyectos a gran escala para la generaci\xf3n de energ\xeda a nivel de red. "),De.k0s()(),De.j41(195,"ion-col",40)(196,"div",41),De.nrm(197,"ion-img",42),De.k0s()()()()(),De.j41(198,"swiper-container",43,1),De.bIt("swiper",function(){return De.eBV(Q),De.Njj(L.swiperReady())}),De.j41(200,"swiper-slide")(201,"div",44)(202,"div",45)(203,"div",46)(204,"h1",47),De.EFF(205,"Ventajas de la energia solar"),De.k0s()(),De.j41(206,"div",48)(207,"ion-grid")(208,"ion-row")(209,"ion-col",49)(210,"ion-card",50)(211,"ion-card-header"),De.nrm(212,"ion-icon",51),De.k0s(),De.j41(213,"ion-card-content")(214,"h1",52),De.EFF(215,"Amplios m\xe1rgenes de desarrollo"),De.k0s(),De.j41(216,"p",53),De.EFF(217,"La eficiencia media de los paneles solares es del 20 %, pero la innovaci\xf3n tecnol\xf3gica est\xe1 subiendo el list\xf3n a\xf1o tras a\xf1o. La heterouni\xf3n ya est\xe1 en el 24,63 % y la multiuni\xf3n ya ha superado el 40 %."),De.k0s(),De.nrm(218,"p"),De.k0s()()(),De.j41(219,"ion-col",49)(220,"ion-card",50)(221,"ion-card-header"),De.nrm(222,"ion-icon",54),De.k0s(),De.j41(223,"ion-card-content")(224,"h1",52),De.EFF(225,"Un recurso escalable"),De.k0s(),De.j41(226,"p",53),De.EFF(227,"De los tejados de las casas para uso dom\xe9stico a las centrales de energ\xeda solar para cubrir las necesidades energ\xe9ticas de un pa\xeds, la energ\xeda solar puede satisfacer una amplia variedad de necesidades. "),De.k0s()()()(),De.j41(228,"ion-col",49)(229,"ion-card",50)(230,"ion-card-header"),De.nrm(231,"ion-icon",55),De.k0s(),De.j41(232,"ion-card-content")(233,"h1",52),De.EFF(234,"Un recurso escalable"),De.k0s(),De.j41(235,"p",53),De.EFF(236,"Una instalaci\xf3n fotovoltaica no emite ning\xfan ruido durante su funcionamiento. Cero emisiones de CO2 y cero decibelios mientrasse produce nueva energ\xeda sostenible. "),De.k0s()()()()()()()()()(),De.j41(237,"swiper-slide")(238,"div",44)(239,"div",45)(240,"div",46)(241,"h1",47),De.EFF(242,"Ventajas de la energia solar"),De.k0s()(),De.j41(243,"div",48)(244,"ion-grid")(245,"ion-row")(246,"ion-col",49)(247,"ion-card",50)(248,"ion-card-header"),De.nrm(249,"ion-icon",51),De.k0s(),De.j41(250,"ion-card-content")(251,"h1",52),De.EFF(252,"Amplios m\xe1rgenes de desarrollo"),De.k0s(),De.j41(253,"p",53),De.EFF(254,"La eficiencia media de los paneles solares es del 20 %, pero la innovaci\xf3n tecnol\xf3gica est\xe1 subiendo el list\xf3n a\xf1o tras a\xf1o. La heterouni\xf3n ya est\xe1 en el 24,63 % y la multiuni\xf3n ya ha superado el 40 %."),De.k0s(),De.nrm(255,"p"),De.k0s()()(),De.j41(256,"ion-col",49)(257,"ion-card",50)(258,"ion-card-header"),De.nrm(259,"ion-icon",54),De.k0s(),De.j41(260,"ion-card-content")(261,"h1",52),De.EFF(262,"Un recurso escalable"),De.k0s(),De.j41(263,"p",53),De.EFF(264,"De los tejados de las casas para uso dom\xe9stico a las centrales de energ\xeda solar para cubrir las necesidades energ\xe9ticas de un pa\xeds, la energ\xeda solar puede satisfacer una amplia variedad de necesidades. "),De.k0s()()()(),De.j41(265,"ion-col",49)(266,"ion-card",50)(267,"ion-card-header"),De.nrm(268,"ion-icon",55),De.k0s(),De.j41(269,"ion-card-content")(270,"h1",52),De.EFF(271,"Un recurso escalable"),De.k0s(),De.j41(272,"p",53),De.EFF(273,"Una instalaci\xf3n fotovoltaica no emite ning\xfan ruido durante su funcionamiento. Cero emisiones de CO2 y cero decibelios mientrasse produce nueva energ\xeda sostenible. "),De.k0s()()()()()()()()()()(),De.j41(274,"div",56)(275,"ion-grid",57)(276,"ion-row",58)(277,"ion-col",59)(278,"div",60)(279,"div",61)(280,"h2",62),De.EFF(281,"Energia Solar"),De.k0s(),De.j41(282,"p"),De.EFF(283,"Una opcion para tener energia solar abajo costo y seguro. "),De.k0s(),De.j41(284,"p",63),De.EFF(285,"Aplicaciones de la energia solar"),De.k0s(),De.j41(286,"p",62),De.EFF(287,"Energ\xeda Residencial "),De.k0s(),De.j41(288,"p"),De.EFF(289,"Muchos hogares utilizan paneles solares para generar electricidad, reduciendo su dependencia de la red el\xe9ctrica y sus costos de energ\xeda"),De.k0s(),De.j41(290,"p",62),De.EFF(291,"Instalaciones Comerciales"),De.k0s(),De.j41(292,"p"),De.EFF(293," Empresas de diversos tama\xf1os instalan sistemas fotovoltaicos para alimentar sus operaciones, desde peque\xf1as tiendas hasta grandes f\xe1bricas y centros comerciales."),De.k0s(),De.j41(294,"p",62),De.EFF(295," Agricultura"),De.k0s(),De.j41(296,"p"),De.EFF(297," La energ\xeda solar fotovoltaica ayuda a los agricultores a operar sistemas de riego, ventiladores, bombas y otros equipos necesarios en sus cultivos, optimizando costos y recursos."),De.k0s(),De.EFF(298,"\xb4\n"),De.j41(299,"p",62),De.EFF(300,"Transporte"),De.k0s(),De.j41(301,"p"),De.EFF(302," Aplicaciones en transporte incluyen la alimentaci\xf3n de se\xf1ales de tr\xe1fico y farolas, adem\xe1s de su uso en veh\xedculos el\xe9ctricos que integran paneles solares para extender su autonom\xeda."),De.k0s(),De.j41(303,"p",62),De.EFF(304,"Energ\xeda para \xc1reas Remotas"),De.k0s(),De.j41(305,"p"),De.EFF(306," Los paneles solares proporcionan electricidad en lugares que no est\xe1n conectados a la red el\xe9ctrica, permitiendo acceso a electricidad en \xe1reas aisladas para escuelas, hospitales y comunidades rurales. "),De.k0s()()()(),De.j41(307,"ion-col",64)(308,"div",65),De.nrm(309,"ion-img",66),De.k0s()()()()(),De.j41(310,"div"),De.nrm(311,"div",67),De.k0s()()}2&C&&(De.Y8G("translucent",!0),De.R7$(),De.Y8G("scrollable",!0),De.R7$(10),De.Y8G("fullscreen",!0),De.R7$(187),De.Y8G("loop",!0)("pagination",!0),De.R7$(111),De.Y8G("src",L.currentImage))},dependencies:[m.b_,m.I9,m.ME,m.hU,m.W9,m.lO,m.eU,m.iq,m.KW,m.ln,m.Gp,m.eP,m.Je],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0}.header-container[_ngcontent-%COMP%]{position:relative;height:1010px;overflow:hidden}.header[_ngcontent-%COMP%]{position:relative;height:100%;background-size:cover;background-image:url(https://prensaregional.pe/wp-content/uploads/2020/10/Central-Solar-Fotovoltaica-Rubi-se-ubica-en-Moquegua.jpg);background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(#00000080,#00000080)}.header-text[_ngcontent-%COMP%]{font-family:Montserrat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:1;font-size:4rem}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{text-align:center;font-size:18px;background-position:center;border-radius:10%;font-family:Montserrat,sans-serif;font-size:1.2rem;line-height:1.5;margin:0%}.sty[_ngcontent-%COMP%]{margin-top:-60px;padding-top:20px;text-align:center!important;-webkit-font-smoothing:antialiased;font:40px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.8rem;position:relative;background-size:100% auto;padding-left:1rem;color:#fffaf0!important;padding-bottom:15px;background-color:#000!important}.sub_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:1.4rem}@media (max-width: 601px){.sub_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.ssy[_ngcontent-%COMP%]   .ssy_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.sty[_ngcontent-%COMP%]   .sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.stys[_ngcontent-%COMP%]   .sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;padding-left:.7rem}}.class[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:18px;margin-left:40px;margin-top:20px}@media (max-width: 601px){.class[_ngcontent-%COMP%]{font-size:15px;margin-left:20px;margin-top:20px}}.ssy[_ngcontent-%COMP%]{padding-top:20px;text-align:center!important;-webkit-font-smoothing:antialiased;font:40px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.8rem;position:relative;background-size:100% auto;padding-left:1.1rem;color:#fffaf0!important;padding-bottom:15px;background-color:#000!important}.ssy_sty[_ngcontent-%COMP%]{text-align:left;margin-top:10px}.ssy_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:1.4rem}.sub_stys[_ngcontent-%COMP%]{text-align:left;margin-top:10px}.stys[_ngcontent-%COMP%]{margin-top:0;text-align:left!important;-webkit-font-smoothing:antialiased;font:30px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.5rem;position:relative;background-size:100% auto;color:#fff!important;padding-bottom:150px;background-color:#000!important}.sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:1.4rem;background-color:#000;font-family:Times New Roman,Times,serif}.a[_ngcontent-%COMP%]{color:#fff;margin-top:150px;font-size:1.5rem}.c[_ngcontent-%COMP%]{font-size:3.2rem;color:#fff}.z[_ngcontent-%COMP%]{font-size:3.2rem;color:#000}section[_ngcontent-%COMP%]{margin-top:-70px;-webkit-text-size-adjust:100%;--swiper-theme-color: #007aff;--swiper-navigation-size: 44px;text-align:left;-webkit-font-smoothing:antialiased;font:20px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:block;background:transparent no-repeat bottom;font-size:.8rem;position:relative;background-size:100% auto;padding-top:1.2rem;padding-left:.4rem;background-color:#000408!important}.af[_ngcontent-%COMP%]{margin-bottom:40px}.st[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#000;padding-top:.5rem;padding-left:12rem}@media (max-width: 600px){.st[_ngcontent-%COMP%]{padding-left:1.4rem}}@media (max-width: 600px){.a[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 600px){.c[_ngcontent-%COMP%]{font-size:1.8rem}}.st[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{margin-left:1.6rem}.st[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%], .st[_ngcontent-%COMP%]   .z[_ngcontent-%COMP%]{margin-left:.9rem}.ion[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#000;margin-bottom:20pxs}.dark-bg[_ngcontent-%COMP%]{margin:15px 30px;height:100%;background-color:#000}.section-1[_ngcontent-%COMP%]{margin:40px 20px 30px;padding-top:20px;color:#fff;font-family:Times New Roman,Times,serif}.section-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px}.section-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.section-2[_ngcontent-%COMP%]{margin:20px;background-color:#0000;height:90%}.section-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.section-3[_ngcontent-%COMP%]{margin:20px;text-align:center}.section-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0}.imgd[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:100vh;background:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,.5) 80%),url(https://img.freepik.com/foto-gratis/paneles-solares-techo-celula-solar_335224-1324.jpg?size=626&ext=jpg&ga=GA1.1.1803636316.1707350400&semt=ais);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;align-items:center;justify-content:center;overflow:hidden;opacity:1.9;box-shadow:8px 9px 8px #000}.foco[_ngcontent-%COMP%], .recurso[_ngcontent-%COMP%], .logro[_ngcontent-%COMP%]{color:#fff;font-size:24px;background-color:#0e141a}.paneles[_ngcontent-%COMP%]{width:100%;height:650px;padding:30px 30px 60px}swiper-container[_ngcontent-%COMP%]{width:100%;height:auto}swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.swiper-button-prev[_ngcontent-%COMP%], .swiper-button-next[_ngcontent-%COMP%]{position:absolute;top:50%;width:27px;height:44px;margin-top:-22px;z-index:10;cursor:pointer;background-size:27px 44px;background-position:center;background-repeat:no-repeat}.encabezado2[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;border:.1spx solid black-}.encabezado[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.timeline-container-horizontal[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:20px;gap:20px}.timeline-event-horizontal[_ngcontent-%COMP%]{display:inline-block;position:relative;padding:10px;width:350px!important;height:auto;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a;text-align:center}.timeline-icon-horizontal[_ngcontent-%COMP%]{position:absolute;top:-10px;left:50%;transform:translate(-50%);width:30px;height:30px;background-color:#ff5722;border-radius:50%;box-shadow:0 2px 5px #0000004d}.timeline-content-horizontal[_ngcontent-%COMP%]{padding:10px;border-radius:5px;text-align:center;height:auto;overflow-x:auto;white-space:normal;word-wrap:break-word;width:350px}.timeline-date[_ngcontent-%COMP%]{font-size:.85em;color:#757575;margin-top:10px}.vertical-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;background-color:#f5f5f5}.fondo[_ngcontent-%COMP%]{position:relative;height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1}.vertical-containers[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f5f5f5}.transition-img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:10px}']}),_})()}];let Jl=(()=>{var Re;class _{}return(Re=_).\u0275fac=function(C){return new(C||Re)},Re.\u0275mod=De.$C({type:Re}),Re.\u0275inj=De.G2t({imports:[Et.iI.forChild(ma),Et.iI]}),_})(),Da=(()=>{var Re;class _{}return(Re=_).\u0275fac=function(C){return new(C||Re)},Re.\u0275mod=De.$C({type:Re}),Re.\u0275inj=De.G2t({imports:[b.MD,ke.YN,m.bv,Jl]}),_})()},4652:(Zi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{TresPageModule:()=>wy});var b=pe(177),m=pe(4341),ke=pe(7863),Et=pe(70),k=pe(4438),Xt=pe(467);const It=1,rn=2,Ut=3,nn=0,cn=1,gi=2,hr=0,zr=1,kr=2,Di=3,wi=4,Ur=5,Hr=6,wr=7,Jr="attached",$i=301,_o=302,ds=306,Wi=1e3,Xr=1001,ss=1003,vt=1005,mt=1006,si=1008,Mr=1009,aa=1014,so=1015,So=1020,br=1023,Ps=1026,Os=1027,Kr=2300,Jo=2301,Mt="srgb",_t="srgb-linear",En="display-p3",On="display-p3-linear",In="linear",Mn="srgb",di="rec709",Ri="p3",Qi=7680,Ht="300 es",Rn=2e3,X=2001;class z{addEventListener(e,n){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(n)&&r[e].push(n)}hasEventListener(e,n){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(n)}removeEventListener(e,n){if(void 0===this._listeners)return;const o=this._listeners[e];if(void 0!==o){const l=o.indexOf(n);-1!==l&&o.splice(l,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const o=r.slice(0);for(let l=0,f=o.length;l<f;l++)o[l].call(this,e);e.target=null}}}const ne=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const ce=Math.PI/180,Dt=180/Math.PI;function Ct(){const c=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ne[255&c]+ne[c>>8&255]+ne[c>>16&255]+ne[c>>24&255]+"-"+ne[255&e]+ne[e>>8&255]+"-"+ne[e>>16&15|64]+ne[e>>24&255]+"-"+ne[63&n|128]+ne[n>>8&255]+"-"+ne[n>>16&255]+ne[n>>24&255]+ne[255&r]+ne[r>>8&255]+ne[r>>16&255]+ne[r>>24&255]).toLowerCase()}function St(c,e,n){return Math.max(e,Math.min(n,c))}function yn(c,e){return(c%e+e)%e}function Cn(c,e,n){return(1-n)*c+n*e}function ao(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function Sr(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(4294967295*c);case Uint16Array:return Math.round(65535*c);case Uint8Array:return Math.round(255*c);case Int32Array:return Math.round(2147483647*c);case Int16Array:return Math.round(32767*c);case Int8Array:return Math.round(127*c);default:throw new Error("Invalid component type.")}}const dl_DEG2RAD=ce,dl_radToDeg=function Ns(c){return c*Dt};class Vn{constructor(e=0,n=0){Vn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6],this.y=o[1]*n+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===n)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),o=Math.sin(n),l=this.x-e.x,f=this.y-e.y;return this.x=l*r-f*o+e.x,this.y=l*o+f*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Or{constructor(e,n,r,o,l,f,h,g,v){Or.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,n,r,o,l,f,h,g,v)}set(e,n,r,o,l,f,h,g,v){const w=this.elements;return w[0]=e,w[1]=o,w[2]=h,w[3]=n,w[4]=l,w[5]=g,w[6]=r,w[7]=f,w[8]=v,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,f=r[0],h=r[3],g=r[6],v=r[1],w=r[4],S=r[7],A=r[2],R=r[5],B=r[8],K=o[0],H=o[3],U=o[6],ae=o[1],ie=o[4],ue=o[7],ot=o[2],ze=o[5],We=o[8];return l[0]=f*K+h*ae+g*ot,l[3]=f*H+h*ie+g*ze,l[6]=f*U+h*ue+g*We,l[1]=v*K+w*ae+S*ot,l[4]=v*H+w*ie+S*ze,l[7]=v*U+w*ue+S*We,l[2]=A*K+R*ae+B*ot,l[5]=A*H+R*ie+B*ze,l[8]=A*U+R*ue+B*We,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],f=e[4],h=e[5],g=e[6],v=e[7],w=e[8];return n*f*w-n*h*v-r*l*w+r*h*g+o*l*v-o*f*g}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],f=e[4],h=e[5],g=e[6],v=e[7],w=e[8],S=w*f-h*v,A=h*g-w*l,R=v*l-f*g,B=n*S+r*A+o*R;if(0===B)return this.set(0,0,0,0,0,0,0,0,0);const K=1/B;return e[0]=S*K,e[1]=(o*v-w*r)*K,e[2]=(h*r-o*f)*K,e[3]=A*K,e[4]=(w*n-o*g)*K,e[5]=(o*l-h*n)*K,e[6]=R*K,e[7]=(r*g-v*n)*K,e[8]=(f*n-r*l)*K,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,o,l,f,h){const g=Math.cos(l),v=Math.sin(l);return this.set(r*g,r*v,-r*(g*f+v*h)+f+e,-o*v,o*g,-o*(-v*f+g*h)+h+n,0,0,1),this}scale(e,n){return this.premultiply(Ya.makeScale(e,n)),this}rotate(e){return this.premultiply(Ya.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ya.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<9;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ya=new Or;function fl(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}function xl(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function El(){const c=xl("canvas");return c.style.display="block",c}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const lc={};function ll(c){c in lc||(lc[c]=!0,console.warn(c))}const bc=(new Or).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Yl=(new Or).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),cl={[_t]:{transfer:In,primaries:di,toReference:c=>c,fromReference:c=>c},[Mt]:{transfer:Mn,primaries:di,toReference:c=>c.convertSRGBToLinear(),fromReference:c=>c.convertLinearToSRGB()},[On]:{transfer:In,primaries:Ri,toReference:c=>c.applyMatrix3(Yl),fromReference:c=>c.applyMatrix3(bc)},[En]:{transfer:Mn,primaries:Ri,toReference:c=>c.convertSRGBToLinear().applyMatrix3(Yl),fromReference:c=>c.applyMatrix3(bc).convertLinearToSRGB()}},pu=new Set([_t,On]),eo={enabled:!0,_workingColorSpace:_t,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(c){if(!pu.has(c))throw new Error(`Unsupported working color space, "${c}".`);this._workingColorSpace=c},convert:function(c,e,n){return!1!==this.enabled&&e!==n&&e&&n?(0,cl[n].fromReference)((0,cl[e].toReference)(c)):c},fromWorkingColorSpace:function(c,e){return this.convert(c,this._workingColorSpace,e)},toWorkingColorSpace:function(c,e){return this.convert(c,e,this._workingColorSpace)},getPrimaries:function(c){return cl[c].primaries},getTransfer:function(c){return""===c?In:cl[c].transfer}};function Sl(c){return c<.04045?.0773993808*c:Math.pow(.9478672986*c+.0521327014,2.4)}function wc(c){return c<.0031308?12.92*c:1.055*Math.pow(c,.41666)-.055}let go;class pa{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===go&&(go=xl("canvas")),go.width=e.width,go.height=e.height;const r=go.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=go}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=xl("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),l=o.data;for(let f=0;f<l.length;f++)l[f]=255*Sl(l[f]/255);return r.putImageData(o,0,0),n}if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n[r]=n instanceof Uint8Array||n instanceof Uint8ClampedArray?Math.floor(255*Sl(n[r]/255)):Sl(n[r]);return{data:n,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Za=0;class Ga{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Za++}),this.uuid=Ct(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(null!==o){let l;if(Array.isArray(o)){l=[];for(let f=0,h=o.length;f<h;f++)l.push(xc(o[f].isDataTexture?o[f].image:o[f]))}else l=xc(o);r.url=l}return n||(e.images[this.uuid]=r),r}}function xc(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?pa.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mu=0,Ea=(()=>{class c extends z{constructor(n=c.DEFAULT_IMAGE,r=c.DEFAULT_MAPPING,o=Xr,l=Xr,f=mt,h=si,g=br,v=Mr,w=c.DEFAULT_ANISOTROPY,S=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mu++}),this.uuid=Ct(),this.name="",this.source=new Ga(n),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=o,this.wrapT=l,this.magFilter=f,this.minFilter=h,this.anisotropy=w,this.format=g,this.internalFormat=null,this.type=v,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Or,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=S,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(n=null){this.source.data=n}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(n){return this.name=n.name,this.source=n.source,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.channel=n.channel,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.colorSpace=n.colorSpace,this.userData=JSON.parse(JSON.stringify(n.userData)),this.needsUpdate=!0,this}toJSON(n){const r=void 0===n||"string"==typeof n;if(!r&&void 0!==n.textures[this.uuid])return n.textures[this.uuid];const o={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(n).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(o.userData=this.userData),r||(n.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(n){if(300!==this.mapping)return n;if(n.applyMatrix3(this.matrix),n.x<0||n.x>1)switch(this.wrapS){case Wi:n.x=n.x-Math.floor(n.x);break;case Xr:n.x=n.x<0?0:1;break;case 1002:n.x=1===Math.abs(Math.floor(n.x)%2)?Math.ceil(n.x)-n.x:n.x-Math.floor(n.x)}if(n.y<0||n.y>1)switch(this.wrapT){case Wi:n.y=n.y-Math.floor(n.y);break;case Xr:n.y=n.y<0?0:1;break;case 1002:n.y=1===Math.abs(Math.floor(n.y)%2)?Math.ceil(n.y)-n.y:n.y-Math.floor(n.y)}return this.flipY&&(n.y=1-n.y),n}set needsUpdate(n){!0===n&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(n){!0===n&&this.pmremVersion++}}return c.DEFAULT_IMAGE=null,c.DEFAULT_MAPPING=300,c.DEFAULT_ANISOTROPY=1,c})();class fo{constructor(e=0,n=0,r=0,o=1){fo.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,o){return this.x=e,this.y=n,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=this.w,f=e.elements;return this.x=f[0]*n+f[4]*r+f[8]*o+f[12]*l,this.y=f[1]*n+f[5]*r+f[9]*o+f[13]*l,this.z=f[2]*n+f[6]*r+f[10]*o+f[14]*l,this.w=f[3]*n+f[7]*r+f[11]*o+f[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,o,l;const g=e.elements,v=g[0],w=g[4],S=g[8],A=g[1],R=g[5],B=g[9],K=g[2],H=g[6],U=g[10];if(Math.abs(w-A)<.01&&Math.abs(S-K)<.01&&Math.abs(B-H)<.01){if(Math.abs(w+A)<.1&&Math.abs(S+K)<.1&&Math.abs(B+H)<.1&&Math.abs(v+R+U-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const ie=(v+1)/2,ue=(R+1)/2,ot=(U+1)/2,ze=(w+A)/4,We=(S+K)/4,ht=(B+H)/4;return ie>ue&&ie>ot?ie<.01?(r=0,o=.707106781,l=.707106781):(r=Math.sqrt(ie),o=ze/r,l=We/r):ue>ot?ue<.01?(r=.707106781,o=0,l=.707106781):(o=Math.sqrt(ue),r=ze/o,l=ht/o):ot<.01?(r=.707106781,o=.707106781,l=0):(l=Math.sqrt(ot),r=We/l,o=ht/l),this.set(r,o,l,n),this}let ae=Math.sqrt((H-B)*(H-B)+(S-K)*(S-K)+(A-w)*(A-w));return Math.abs(ae)<.001&&(ae=1),this.x=(H-B)/ae,this.y=(S-K)/ae,this.z=(A-w)/ae,this.w=Math.acos((v+R+U-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class La extends z{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new fo(0,0,e,n),this.scissorTest=!1,this.viewport=new fo(0,0,e,n);const o={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:mt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const l=new Ea(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);l.flipY=!1,l.generateMipmaps=r.generateMipmaps,l.internalFormat=r.internalFormat,this.textures=[];const f=r.count;for(let h=0;h<f;h++)this.textures[h]=l.clone(),this.textures[h].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let o=0,l=this.textures.length;o<l;o++)this.textures[o].image.width=e,this.textures[o].image.height=n,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,o=e.textures.length;r<o;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Ga(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Qa extends La{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Ol extends Ea{constructor(e=null,n=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=ss,this.minFilter=ss,this.wrapR=Xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zl extends Ea{constructor(e=null,n=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=ss,this.minFilter=ss,this.wrapR=Xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ia{constructor(e=0,n=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=o}static slerpFlat(e,n,r,o,l,f,h){let g=r[o+0],v=r[o+1],w=r[o+2],S=r[o+3];const A=l[f+0],R=l[f+1],B=l[f+2],K=l[f+3];if(0===h)return e[n+0]=g,e[n+1]=v,e[n+2]=w,void(e[n+3]=S);if(1===h)return e[n+0]=A,e[n+1]=R,e[n+2]=B,void(e[n+3]=K);if(S!==K||g!==A||v!==R||w!==B){let H=1-h;const U=g*A+v*R+w*B+S*K,ae=U>=0?1:-1,ie=1-U*U;if(ie>Number.EPSILON){const ot=Math.sqrt(ie),ze=Math.atan2(ot,U*ae);H=Math.sin(H*ze)/ot,h=Math.sin(h*ze)/ot}const ue=h*ae;if(g=g*H+A*ue,v=v*H+R*ue,w=w*H+B*ue,S=S*H+K*ue,H===1-h){const ot=1/Math.sqrt(g*g+v*v+w*w+S*S);g*=ot,v*=ot,w*=ot,S*=ot}}e[n]=g,e[n+1]=v,e[n+2]=w,e[n+3]=S}static multiplyQuaternionsFlat(e,n,r,o,l,f){const h=r[o],g=r[o+1],v=r[o+2],w=r[o+3],S=l[f],A=l[f+1],R=l[f+2],B=l[f+3];return e[n]=h*B+w*S+g*R-v*A,e[n+1]=g*B+w*A+v*S-h*R,e[n+2]=v*B+w*R+h*A-g*S,e[n+3]=w*B-h*S-g*A-v*R,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,o){return this._x=e,this._y=n,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,o=e._y,l=e._z,f=e._order,h=Math.cos,g=Math.sin,v=h(r/2),w=h(o/2),S=h(l/2),A=g(r/2),R=g(o/2),B=g(l/2);switch(f){case"XYZ":this._x=A*w*S+v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S-A*R*B;break;case"YXZ":this._x=A*w*S+v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S+A*R*B;break;case"ZXY":this._x=A*w*S-v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S-A*R*B;break;case"ZYX":this._x=A*w*S-v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S+A*R*B;break;case"YZX":this._x=A*w*S+v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S-A*R*B;break;case"XZY":this._x=A*w*S-v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S+A*R*B;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+f)}return!0===n&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],o=n[4],l=n[8],f=n[1],h=n[5],g=n[9],v=n[2],w=n[6],S=n[10],A=r+h+S;if(A>0){const R=.5/Math.sqrt(A+1);this._w=.25/R,this._x=(w-g)*R,this._y=(l-v)*R,this._z=(f-o)*R}else if(r>h&&r>S){const R=2*Math.sqrt(1+r-h-S);this._w=(w-g)/R,this._x=.25*R,this._y=(o+f)/R,this._z=(l+v)/R}else if(h>S){const R=2*Math.sqrt(1+h-r-S);this._w=(l-v)/R,this._x=(o+f)/R,this._y=.25*R,this._z=(g+w)/R}else{const R=2*Math.sqrt(1+S-r-h);this._w=(f-o)/R,this._x=(l+v)/R,this._y=(g+w)/R,this._z=.25*R}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(St(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(0===r)return this;const o=Math.min(1,n/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,o=e._y,l=e._z,f=e._w,h=n._x,g=n._y,v=n._z,w=n._w;return this._x=r*w+f*h+o*v-l*g,this._y=o*w+f*g+l*h-r*v,this._z=l*w+f*v+r*g-o*h,this._w=f*w-r*h-o*g-l*v,this._onChangeCallback(),this}slerp(e,n){if(0===n)return this;if(1===n)return this.copy(e);const r=this._x,o=this._y,l=this._z,f=this._w;let h=f*e._w+r*e._x+o*e._y+l*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=f,this._x=r,this._y=o,this._z=l,this;const g=1-h*h;if(g<=Number.EPSILON){const R=1-n;return this._w=R*f+n*this._w,this._x=R*r+n*this._x,this._y=R*o+n*this._y,this._z=R*l+n*this._z,this.normalize(),this}const v=Math.sqrt(g),w=Math.atan2(v,h),S=Math.sin((1-n)*w)/v,A=Math.sin(n*w)/v;return this._w=f*S+this._w*A,this._x=r*S+this._x*A,this._y=o*S+this._y*A,this._z=l*S+this._z*A,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),l=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),l*Math.sin(n),l*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ye{constructor(e=0,n=0,r=0){Ye.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return void 0===r&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(J.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(J.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[3]*r+l[6]*o,this.y=l[1]*n+l[4]*r+l[7]*o,this.z=l[2]*n+l[5]*r+l[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=e.elements,f=1/(l[3]*n+l[7]*r+l[11]*o+l[15]);return this.x=(l[0]*n+l[4]*r+l[8]*o+l[12])*f,this.y=(l[1]*n+l[5]*r+l[9]*o+l[13])*f,this.z=(l[2]*n+l[6]*r+l[10]*o+l[14])*f,this}applyQuaternion(e){const n=this.x,r=this.y,o=this.z,l=e.x,f=e.y,h=e.z,g=e.w,v=2*(f*o-h*r),w=2*(h*n-l*o),S=2*(l*r-f*n);return this.x=n+g*v+f*S-h*w,this.y=r+g*w+h*v-l*S,this.z=o+g*S+l*w-f*v,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[4]*r+l[8]*o,this.y=l[1]*n+l[5]*r+l[9]*o,this.z=l[2]*n+l[6]*r+l[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,o=e.y,l=e.z,f=n.x,h=n.y,g=n.z;return this.x=o*g-l*h,this.y=l*f-r*g,this.z=r*h-o*f,this}projectOnVector(e){const n=e.lengthSq();if(0===n)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return P.copy(this).projectOnVector(e),this.sub(P)}reflect(e){return this.sub(P.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===n)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return n*n+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const o=Math.sin(n)*e;return this.x=o*Math.sin(r),this.y=Math.cos(n)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,4*n)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,3*n)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=2*Math.random()-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const P=new Ye,J=new ia;class $e{constructor(e=new Ye(1/0,1/0,1/0),n=new Ye(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ae.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ae.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ae.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const l=r.getAttribute("position");if(!0===n&&void 0!==l&&!0!==e.isInstancedMesh)for(let f=0,h=l.count;f<h;f++)!0===e.isMesh?e.getVertexPosition(f,Ae):Ae.fromBufferAttribute(l,f),Ae.applyMatrix4(e.matrixWorld),this.expandByPoint(Ae);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),tt.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),tt.copy(r.boundingBox)),tt.applyMatrix4(e.matrixWorld),this.union(tt)}const o=e.children;for(let l=0,f=o.length;l<f;l++)this.expandByObject(o[l],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ae),Ae.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ts),Ds.subVectors(this.max,Ts),mn.subVectors(e.a,Ts),Qn.subVectors(e.b,Ts),Nr.subVectors(e.c,Ts),Zr.subVectors(Qn,mn),ls.subVectors(Nr,Qn),Ar.subVectors(mn,Nr);let n=[0,-Zr.z,Zr.y,0,-ls.z,ls.y,0,-Ar.z,Ar.y,Zr.z,0,-Zr.x,ls.z,0,-ls.x,Ar.z,0,-Ar.x,-Zr.y,Zr.x,0,-ls.y,ls.x,0,-Ar.y,Ar.x,0];return!(!ei(n,mn,Qn,Nr,Ds)||(n=[1,0,0,0,1,0,0,0,1],!ei(n,mn,Qn,Nr,Ds)))&&(Co.crossVectors(Zr,ls),n=[Co.x,Co.y,Co.z],ei(n,mn,Qn,Nr,Ds))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ae).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ae).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(q[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),q[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),q[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),q[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),q[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),q[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),q[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),q[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(q)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const q=[new Ye,new Ye,new Ye,new Ye,new Ye,new Ye,new Ye,new Ye],Ae=new Ye,tt=new $e,mn=new Ye,Qn=new Ye,Nr=new Ye,Zr=new Ye,ls=new Ye,Ar=new Ye,Ts=new Ye,Ds=new Ye,Co=new Ye,ms=new Ye;function ei(c,e,n,r,o){for(let l=0,f=c.length-3;l<=f;l+=3){ms.fromArray(c,l);const h=o.x*Math.abs(ms.x)+o.y*Math.abs(ms.y)+o.z*Math.abs(ms.z),g=e.dot(ms),v=n.dot(ms),w=r.dot(ms);if(Math.max(-Math.max(g,v,w),Math.min(g,v,w))>h)return!1}return!0}const er=new $e,Ls=new Ye,To=new Ye;class gs{constructor(e=new Ye,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;void 0!==n?r.copy(n):er.setFromPoints(e).getCenter(r);let o=0;for(let l=0,f=e.length;l<f;l++)o=Math.max(o,r.distanceToSquared(e[l]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ls.subVectors(e,this.center);const n=Ls.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),o=.5*(r-this.radius);this.center.addScaledVector(Ls,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(To.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ls.copy(e.center).add(To)),this.expandByPoint(Ls.copy(e.center).sub(To))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const to=new Ye,Fa=new Ye,Ks=new Ye,Ss=new Ye,Ja=new Ye,Br=new Ye,hl=new Ye;class Ql{constructor(e=new Ye,n=new Ye(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,to)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=to.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(to.copy(this.origin).addScaledVector(this.direction,n),to.distanceToSquared(e))}distanceSqToSegment(e,n,r,o){Fa.copy(e).add(n).multiplyScalar(.5),Ks.copy(n).sub(e).normalize(),Ss.copy(this.origin).sub(Fa);const l=.5*e.distanceTo(n),f=-this.direction.dot(Ks),h=Ss.dot(this.direction),g=-Ss.dot(Ks),v=Ss.lengthSq(),w=Math.abs(1-f*f);let S,A,R,B;if(w>0)if(S=f*g-h,A=f*h-g,B=l*w,S>=0)if(A>=-B)if(A<=B){const K=1/w;S*=K,A*=K,R=S*(S+f*A+2*h)+A*(f*S+A+2*g)+v}else A=l,S=Math.max(0,-(f*A+h)),R=-S*S+A*(A+2*g)+v;else A=-l,S=Math.max(0,-(f*A+h)),R=-S*S+A*(A+2*g)+v;else A<=-B?(S=Math.max(0,-(-f*l+h)),A=S>0?-l:Math.min(Math.max(-l,-g),l),R=-S*S+A*(A+2*g)+v):A<=B?(S=0,A=Math.min(Math.max(-l,-g),l),R=A*(A+2*g)+v):(S=Math.max(0,-(f*l+h)),A=S>0?l:Math.min(Math.max(-l,-g),l),R=-S*S+A*(A+2*g)+v);else A=f>0?-l:l,S=Math.max(0,-(f*A+h)),R=-S*S+A*(A+2*g)+v;return r&&r.copy(this.origin).addScaledVector(this.direction,S),o&&o.copy(Fa).addScaledVector(Ks,A),R}intersectSphere(e,n){to.subVectors(e.center,this.origin);const r=to.dot(this.direction),o=to.dot(to)-r*r,l=e.radius*e.radius;if(o>l)return null;const f=Math.sqrt(l-o),h=r-f,g=r+f;return g<0?null:this.at(h<0?g:h,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(0===n)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return null===r?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return 0===n||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,o,l,f,h,g;const v=1/this.direction.x,w=1/this.direction.y,S=1/this.direction.z,A=this.origin;return v>=0?(r=(e.min.x-A.x)*v,o=(e.max.x-A.x)*v):(r=(e.max.x-A.x)*v,o=(e.min.x-A.x)*v),w>=0?(l=(e.min.y-A.y)*w,f=(e.max.y-A.y)*w):(l=(e.max.y-A.y)*w,f=(e.min.y-A.y)*w),r>f||l>o||((l>r||isNaN(r))&&(r=l),(f<o||isNaN(o))&&(o=f),S>=0?(h=(e.min.z-A.z)*S,g=(e.max.z-A.z)*S):(h=(e.max.z-A.z)*S,g=(e.min.z-A.z)*S),r>g||h>o)||((h>r||r!=r)&&(r=h),(g<o||o!=o)&&(o=g),o<0)?null:this.at(r>=0?r:o,n)}intersectsBox(e){return null!==this.intersectBox(e,to)}intersectTriangle(e,n,r,o,l){Ja.subVectors(n,e),Br.subVectors(r,e),hl.crossVectors(Ja,Br);let h,f=this.direction.dot(hl);if(f>0){if(o)return null;h=1}else{if(!(f<0))return null;h=-1,f=-f}Ss.subVectors(this.origin,e);const g=h*this.direction.dot(Br.crossVectors(Ss,Br));if(g<0)return null;const v=h*this.direction.dot(Ja.cross(Ss));if(v<0||g+v>f)return null;const w=-h*Ss.dot(hl);return w<0?null:this.at(w/f,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class vr{constructor(e,n,r,o,l,f,h,g,v,w,S,A,R,B,K,H){vr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,n,r,o,l,f,h,g,v,w,S,A,R,B,K,H)}set(e,n,r,o,l,f,h,g,v,w,S,A,R,B,K,H){const U=this.elements;return U[0]=e,U[4]=n,U[8]=r,U[12]=o,U[1]=l,U[5]=f,U[9]=h,U[13]=g,U[2]=v,U[6]=w,U[10]=S,U[14]=A,U[3]=R,U[7]=B,U[11]=K,U[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new vr).fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,o=1/ho.setFromMatrixColumn(e,0).length(),l=1/ho.setFromMatrixColumn(e,1).length(),f=1/ho.setFromMatrixColumn(e,2).length();return n[0]=r[0]*o,n[1]=r[1]*o,n[2]=r[2]*o,n[3]=0,n[4]=r[4]*l,n[5]=r[5]*l,n[6]=r[6]*l,n[7]=0,n[8]=r[8]*f,n[9]=r[9]*f,n[10]=r[10]*f,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,o=e.y,l=e.z,f=Math.cos(r),h=Math.sin(r),g=Math.cos(o),v=Math.sin(o),w=Math.cos(l),S=Math.sin(l);if("XYZ"===e.order){const A=f*w,R=f*S,B=h*w,K=h*S;n[0]=g*w,n[4]=-g*S,n[8]=v,n[1]=R+B*v,n[5]=A-K*v,n[9]=-h*g,n[2]=K-A*v,n[6]=B+R*v,n[10]=f*g}else if("YXZ"===e.order){const A=g*w,R=g*S,B=v*w,K=v*S;n[0]=A+K*h,n[4]=B*h-R,n[8]=f*v,n[1]=f*S,n[5]=f*w,n[9]=-h,n[2]=R*h-B,n[6]=K+A*h,n[10]=f*g}else if("ZXY"===e.order){const A=g*w,R=g*S,B=v*w,K=v*S;n[0]=A-K*h,n[4]=-f*S,n[8]=B+R*h,n[1]=R+B*h,n[5]=f*w,n[9]=K-A*h,n[2]=-f*v,n[6]=h,n[10]=f*g}else if("ZYX"===e.order){const A=f*w,R=f*S,B=h*w,K=h*S;n[0]=g*w,n[4]=B*v-R,n[8]=A*v+K,n[1]=g*S,n[5]=K*v+A,n[9]=R*v-B,n[2]=-v,n[6]=h*g,n[10]=f*g}else if("YZX"===e.order){const A=f*g,R=f*v,B=h*g,K=h*v;n[0]=g*w,n[4]=K-A*S,n[8]=B*S+R,n[1]=S,n[5]=f*w,n[9]=-h*w,n[2]=-v*w,n[6]=R*S+B,n[10]=A-K*S}else if("XZY"===e.order){const A=f*g,R=f*v,B=h*g,K=h*v;n[0]=g*w,n[4]=-S,n[8]=v*w,n[1]=A*S+K,n[5]=f*w,n[9]=R*S-B,n[2]=B*S-R,n[6]=h*w,n[10]=K*S+A}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(De,e,Cl)}lookAt(e,n,r){const o=this.elements;return ma.subVectors(e,n),0===ma.lengthSq()&&(ma.z=1),ma.normalize(),Wa.crossVectors(r,ma),0===Wa.lengthSq()&&(1===Math.abs(r.z)?ma.x+=1e-4:ma.z+=1e-4,ma.normalize(),Wa.crossVectors(r,ma)),Wa.normalize(),Ec.crossVectors(ma,Wa),o[0]=Wa.x,o[4]=Ec.x,o[8]=ma.x,o[1]=Wa.y,o[5]=Ec.y,o[9]=ma.y,o[2]=Wa.z,o[6]=Ec.z,o[10]=ma.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,f=r[0],h=r[4],g=r[8],v=r[12],w=r[1],S=r[5],A=r[9],R=r[13],B=r[2],K=r[6],H=r[10],U=r[14],ae=r[3],ie=r[7],ue=r[11],ot=r[15],ze=o[0],We=o[4],ht=o[8],Ne=o[12],xe=o[1],Kt=o[5],gn=o[9],Nt=o[13],_n=o[2],kn=o[6],Wn=o[10],Oi=o[14],Nn=o[3],mi=o[7],yi=o[11],sr=o[15];return l[0]=f*ze+h*xe+g*_n+v*Nn,l[4]=f*We+h*Kt+g*kn+v*mi,l[8]=f*ht+h*gn+g*Wn+v*yi,l[12]=f*Ne+h*Nt+g*Oi+v*sr,l[1]=w*ze+S*xe+A*_n+R*Nn,l[5]=w*We+S*Kt+A*kn+R*mi,l[9]=w*ht+S*gn+A*Wn+R*yi,l[13]=w*Ne+S*Nt+A*Oi+R*sr,l[2]=B*ze+K*xe+H*_n+U*Nn,l[6]=B*We+K*Kt+H*kn+U*mi,l[10]=B*ht+K*gn+H*Wn+U*yi,l[14]=B*Ne+K*Nt+H*Oi+U*sr,l[3]=ae*ze+ie*xe+ue*_n+ot*Nn,l[7]=ae*We+ie*Kt+ue*kn+ot*mi,l[11]=ae*ht+ie*gn+ue*Wn+ot*yi,l[15]=ae*Ne+ie*Nt+ue*Oi+ot*sr,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],o=e[8],l=e[12],f=e[1],h=e[5],g=e[9],v=e[13],w=e[2],S=e[6],A=e[10],R=e[14];return e[3]*(+l*g*S-o*v*S-l*h*A+r*v*A+o*h*R-r*g*R)+e[7]*(+n*g*R-n*v*A+l*f*A-o*f*R+o*v*w-l*g*w)+e[11]*(+n*v*S-n*h*R-l*f*S+r*f*R+l*h*w-r*v*w)+e[15]*(-o*h*w-n*g*S+n*h*A+o*f*S-r*f*A+r*g*w)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],f=e[4],h=e[5],g=e[6],v=e[7],w=e[8],S=e[9],A=e[10],R=e[11],B=e[12],K=e[13],H=e[14],U=e[15],ae=S*H*v-K*A*v+K*g*R-h*H*R-S*g*U+h*A*U,ie=B*A*v-w*H*v-B*g*R+f*H*R+w*g*U-f*A*U,ue=w*K*v-B*S*v+B*h*R-f*K*R-w*h*U+f*S*U,ot=B*S*g-w*K*g-B*h*A+f*K*A+w*h*H-f*S*H,ze=n*ae+r*ie+o*ue+l*ot;if(0===ze)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const We=1/ze;return e[0]=ae*We,e[1]=(K*A*l-S*H*l-K*o*R+r*H*R+S*o*U-r*A*U)*We,e[2]=(h*H*l-K*g*l+K*o*v-r*H*v-h*o*U+r*g*U)*We,e[3]=(S*g*l-h*A*l-S*o*v+r*A*v+h*o*R-r*g*R)*We,e[4]=ie*We,e[5]=(w*H*l-B*A*l+B*o*R-n*H*R-w*o*U+n*A*U)*We,e[6]=(B*g*l-f*H*l-B*o*v+n*H*v+f*o*U-n*g*U)*We,e[7]=(f*A*l-w*g*l+w*o*v-n*A*v-f*o*R+n*g*R)*We,e[8]=ue*We,e[9]=(B*S*l-w*K*l-B*r*R+n*K*R+w*r*U-n*S*U)*We,e[10]=(f*K*l-B*h*l+B*r*v-n*K*v-f*r*U+n*h*U)*We,e[11]=(w*h*l-f*S*l-w*r*v+n*S*v+f*r*R-n*h*R)*We,e[12]=ot*We,e[13]=(w*K*o-B*S*o+B*r*A-n*K*A-w*r*H+n*S*H)*We,e[14]=(B*h*o-f*K*o-B*r*g+n*K*g+f*r*H-n*h*H)*We,e[15]=(f*S*o-w*h*o+w*r*g-n*S*g-f*r*A+n*h*A)*We,this}scale(e){const n=this.elements,r=e.x,o=e.y,l=e.z;return n[0]*=r,n[4]*=o,n[8]*=l,n[1]*=r,n[5]*=o,n[9]*=l,n[2]*=r,n[6]*=o,n[10]*=l,n[3]*=r,n[7]*=o,n[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),o=Math.sin(n),l=1-r,f=e.x,h=e.y,g=e.z,v=l*f,w=l*h;return this.set(v*f+r,v*h-o*g,v*g+o*h,0,v*h+o*g,w*h+r,w*g-o*f,0,v*g-o*h,w*g+o*f,l*g*g+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,o,l,f){return this.set(1,r,l,0,e,1,f,0,n,o,1,0,0,0,0,1),this}compose(e,n,r){const o=this.elements,l=n._x,f=n._y,h=n._z,g=n._w,v=l+l,w=f+f,S=h+h,A=l*v,R=l*w,B=l*S,K=f*w,H=f*S,U=h*S,ae=g*v,ie=g*w,ue=g*S,ot=r.x,ze=r.y,We=r.z;return o[0]=(1-(K+U))*ot,o[1]=(R+ue)*ot,o[2]=(B-ie)*ot,o[3]=0,o[4]=(R-ue)*ze,o[5]=(1-(A+U))*ze,o[6]=(H+ae)*ze,o[7]=0,o[8]=(B+ie)*We,o[9]=(H-ae)*We,o[10]=(1-(A+K))*We,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,r){const o=this.elements;let l=ho.set(o[0],o[1],o[2]).length();const f=ho.set(o[4],o[5],o[6]).length(),h=ho.set(o[8],o[9],o[10]).length();this.determinant()<0&&(l=-l),e.x=o[12],e.y=o[13],e.z=o[14],ja.copy(this);const v=1/l,w=1/f,S=1/h;return ja.elements[0]*=v,ja.elements[1]*=v,ja.elements[2]*=v,ja.elements[4]*=w,ja.elements[5]*=w,ja.elements[6]*=w,ja.elements[8]*=S,ja.elements[9]*=S,ja.elements[10]*=S,n.setFromRotationMatrix(ja),r.x=l,r.y=f,r.z=h,this}makePerspective(e,n,r,o,l,f,h=Rn){const g=this.elements,v=2*l/(n-e),w=2*l/(r-o),S=(n+e)/(n-e),A=(r+o)/(r-o);let R,B;if(h===Rn)R=-(f+l)/(f-l),B=-2*f*l/(f-l);else{if(h!==X)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);R=-f/(f-l),B=-f*l/(f-l)}return g[0]=v,g[4]=0,g[8]=S,g[12]=0,g[1]=0,g[5]=w,g[9]=A,g[13]=0,g[2]=0,g[6]=0,g[10]=R,g[14]=B,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(e,n,r,o,l,f,h=Rn){const g=this.elements,v=1/(n-e),w=1/(r-o),S=1/(f-l),A=(n+e)*v,R=(r+o)*w;let B,K;if(h===Rn)B=(f+l)*S,K=-2*S;else{if(h!==X)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);B=l*S,K=-1*S}return g[0]=2*v,g[4]=0,g[8]=0,g[12]=-A,g[1]=0,g[5]=2*w,g[9]=0,g[13]=-R,g[2]=0,g[6]=0,g[10]=K,g[14]=-B,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<16;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ho=new Ye,ja=new vr,De=new Ye(0,0,0),Cl=new Ye(1,1,1),Wa=new Ye,Ec=new Ye,ma=new Ye,Jl=new vr,Da=new ia;let Re=(()=>{class c{constructor(n=0,r=0,o=0,l=c.DEFAULT_ORDER){this.isEuler=!0,this._x=n,this._y=r,this._z=o,this._order=l}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get order(){return this._order}set order(n){this._order=n,this._onChangeCallback()}set(n,r,o,l=this._order){return this._x=n,this._y=r,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this}setFromRotationMatrix(n,r=this._order,o=!0){const l=n.elements,f=l[0],h=l[4],g=l[8],v=l[1],w=l[5],S=l[9],A=l[2],R=l[6],B=l[10];switch(r){case"XYZ":this._y=Math.asin(St(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-S,B),this._z=Math.atan2(-h,f)):(this._x=Math.atan2(R,w),this._z=0);break;case"YXZ":this._x=Math.asin(-St(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(g,B),this._z=Math.atan2(v,w)):(this._y=Math.atan2(-A,f),this._z=0);break;case"ZXY":this._x=Math.asin(St(R,-1,1)),Math.abs(R)<.9999999?(this._y=Math.atan2(-A,B),this._z=Math.atan2(-h,w)):(this._y=0,this._z=Math.atan2(v,f));break;case"ZYX":this._y=Math.asin(-St(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(R,B),this._z=Math.atan2(v,f)):(this._x=0,this._z=Math.atan2(-h,w));break;case"YZX":this._z=Math.asin(St(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-S,w),this._y=Math.atan2(-A,f)):(this._x=0,this._y=Math.atan2(g,B));break;case"XZY":this._z=Math.asin(-St(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(R,w),this._y=Math.atan2(g,f)):(this._x=Math.atan2(-S,B),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===o&&this._onChangeCallback(),this}setFromQuaternion(n,r,o){return Jl.makeRotationFromQuaternion(n),this.setFromRotationMatrix(Jl,r,o)}setFromVector3(n,r=this._order){return this.set(n.x,n.y,n.z,r)}reorder(n){return Da.setFromEuler(this),this.setFromQuaternion(Da,n)}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order}fromArray(n){return this._x=n[0],this._y=n[1],this._z=n[2],void 0!==n[3]&&(this._order=n[3]),this._onChangeCallback(),this}toArray(n=[],r=0){return n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._order,n}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return c.DEFAULT_ORDER="XYZ",c})();class _{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let M=0;const C=new Ye,L=new ia,Q=new vr,re=new Ye,ge=new Ye,Ve=new Ye,Ge=new ia,it=new Ye(1,0,0),qt=new Ye(0,1,0),dn=new Ye(0,0,1),un={type:"added"},zn={type:"removed"},Ot={type:"childadded",child:null},jn={type:"childremoved",child:null};let Kn=(()=>{class c extends z{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:M++}),this.uuid=Ct(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=c.DEFAULT_UP.clone();const n=new Ye,r=new Re,o=new ia,l=new Ye(1,1,1);r._onChange(function f(){o.setFromEuler(r,!1)}),o._onChange(function h(){r.setFromQuaternion(o,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new vr},normalMatrix:{value:new Or}}),this.matrix=new vr,this.matrixWorld=new vr,this.matrixAutoUpdate=c.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=c.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(n){return this.quaternion.premultiply(n),this}setRotationFromAxisAngle(n,r){this.quaternion.setFromAxisAngle(n,r)}setRotationFromEuler(n){this.quaternion.setFromEuler(n,!0)}setRotationFromMatrix(n){this.quaternion.setFromRotationMatrix(n)}setRotationFromQuaternion(n){this.quaternion.copy(n)}rotateOnAxis(n,r){return L.setFromAxisAngle(n,r),this.quaternion.multiply(L),this}rotateOnWorldAxis(n,r){return L.setFromAxisAngle(n,r),this.quaternion.premultiply(L),this}rotateX(n){return this.rotateOnAxis(it,n)}rotateY(n){return this.rotateOnAxis(qt,n)}rotateZ(n){return this.rotateOnAxis(dn,n)}translateOnAxis(n,r){return C.copy(n).applyQuaternion(this.quaternion),this.position.add(C.multiplyScalar(r)),this}translateX(n){return this.translateOnAxis(it,n)}translateY(n){return this.translateOnAxis(qt,n)}translateZ(n){return this.translateOnAxis(dn,n)}localToWorld(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(this.matrixWorld)}worldToLocal(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(Q.copy(this.matrixWorld).invert())}lookAt(n,r,o){n.isVector3?re.copy(n):re.set(n,r,o);const l=this.parent;this.updateWorldMatrix(!0,!1),ge.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Q.lookAt(ge,re,this.up):Q.lookAt(re,ge,this.up),this.quaternion.setFromRotationMatrix(Q),l&&(Q.extractRotation(l.matrixWorld),L.setFromRotationMatrix(Q),this.quaternion.premultiply(L.invert()))}add(n){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(n.removeFromParent(),n.parent=this,this.children.push(n),n.dispatchEvent(un),Ot.child=n,this.dispatchEvent(Ot),Ot.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)}remove(n){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const r=this.children.indexOf(n);return-1!==r&&(n.parent=null,this.children.splice(r,1),n.dispatchEvent(zn),jn.child=n,this.dispatchEvent(jn),jn.child=null),this}removeFromParent(){const n=this.parent;return null!==n&&n.remove(this),this}clear(){return this.remove(...this.children)}attach(n){return this.updateWorldMatrix(!0,!1),Q.copy(this.matrixWorld).invert(),null!==n.parent&&(n.parent.updateWorldMatrix(!0,!1),Q.multiply(n.parent.matrixWorld)),n.applyMatrix4(Q),n.removeFromParent(),n.parent=this,this.children.push(n),n.updateWorldMatrix(!1,!0),n.dispatchEvent(un),Ot.child=n,this.dispatchEvent(Ot),Ot.child=null,this}getObjectById(n){return this.getObjectByProperty("id",n)}getObjectByName(n){return this.getObjectByProperty("name",n)}getObjectByProperty(n,r){if(this[n]===r)return this;for(let o=0,l=this.children.length;o<l;o++){const h=this.children[o].getObjectByProperty(n,r);if(void 0!==h)return h}}getObjectsByProperty(n,r,o=[]){this[n]===r&&o.push(this);const l=this.children;for(let f=0,h=l.length;f<h;f++)l[f].getObjectsByProperty(n,r,o);return o}getWorldPosition(n){return this.updateWorldMatrix(!0,!1),n.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ge,n,Ve),n}getWorldScale(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ge,Ge,n),n}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return n.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(n){n(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverse(n)}traverseVisible(n){if(!1===this.visible)return;n(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverseVisible(n)}traverseAncestors(n){const r=this.parent;null!==r&&(n(r),r.traverseAncestors(n))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);const r=this.children;for(let o=0,l=r.length;o<l;o++){const f=r[o];(!0===f.matrixWorldAutoUpdate||!0===n)&&f.updateMatrixWorld(n)}}updateWorldMatrix(n,r){const o=this.parent;if(!0===n&&null!==o&&!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const l=this.children;for(let f=0,h=l.length;f<h;f++){const g=l[f];!0===g.matrixWorldAutoUpdate&&g.updateWorldMatrix(!1,!0)}}}toJSON(n){const r=void 0===n||"string"==typeof n,o={};r&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const l={};function f(g,v){return void 0===g[v.uuid]&&(g[v.uuid]=v.toJSON(n)),v.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(g=>({boxInitialized:g.boxInitialized,boxMin:g.box.min.toArray(),boxMax:g.box.max.toArray(),sphereInitialized:g.sphereInitialized,sphereRadius:g.sphere.radius,sphereCenter:g.sphere.center.toArray()})),l.maxGeometryCount=this._maxGeometryCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(n),null!==this.boundingSphere&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),null!==this.boundingBox&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=f(n.geometries,this.geometry);const g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes){const v=g.shapes;if(Array.isArray(v))for(let w=0,S=v.length;w<S;w++)f(n.shapes,v[w]);else f(n.shapes,v)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(f(n.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const g=[];for(let v=0,w=this.material.length;v<w;v++)g.push(f(n.materials,this.material[v]));l.material=g}else l.material=f(n.materials,this.material);if(this.children.length>0){l.children=[];for(let g=0;g<this.children.length;g++)l.children.push(this.children[g].toJSON(n).object)}if(this.animations.length>0){l.animations=[];for(let g=0;g<this.animations.length;g++)l.animations.push(f(n.animations,this.animations[g]))}if(r){const g=h(n.geometries),v=h(n.materials),w=h(n.textures),S=h(n.images),A=h(n.shapes),R=h(n.skeletons),B=h(n.animations),K=h(n.nodes);g.length>0&&(o.geometries=g),v.length>0&&(o.materials=v),w.length>0&&(o.textures=w),S.length>0&&(o.images=S),A.length>0&&(o.shapes=A),R.length>0&&(o.skeletons=R),B.length>0&&(o.animations=B),K.length>0&&(o.nodes=K)}return o.object=l,o;function h(g){const v=[];for(const w in g){const S=g[w];delete S.metadata,v.push(S)}return v}}clone(n){return(new this.constructor).copy(this,n)}copy(n,r=!0){if(this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.rotation.order=n.rotation.order,this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldAutoUpdate=n.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.animations=n.animations.slice(),this.userData=JSON.parse(JSON.stringify(n.userData)),!0===r)for(let o=0;o<n.children.length;o++)this.add(n.children[o].clone());return this}}return c.DEFAULT_UP=new Ye(0,1,0),c.DEFAULT_MATRIX_AUTO_UPDATE=!0,c.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,c})();const ni=new Ye,xi=new Ye,Ai=new Ye,oi=new Ye,zi=new Ye,Hi=new Ye,ir=new Ye,Pi=new Ye,lo=new Ye,Bo=new Ye;class Ys{constructor(e=new Ye,n=new Ye,r=new Ye){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,o){o.subVectors(r,n),ni.subVectors(e,n),o.cross(ni);const l=o.lengthSq();return l>0?o.multiplyScalar(1/Math.sqrt(l)):o.set(0,0,0)}static getBarycoord(e,n,r,o,l){ni.subVectors(o,n),xi.subVectors(r,n),Ai.subVectors(e,n);const f=ni.dot(ni),h=ni.dot(xi),g=ni.dot(Ai),v=xi.dot(xi),w=xi.dot(Ai),S=f*v-h*h;if(0===S)return l.set(0,0,0),null;const A=1/S,R=(v*g-h*w)*A,B=(f*w-h*g)*A;return l.set(1-R-B,B,R)}static containsPoint(e,n,r,o){return null!==this.getBarycoord(e,n,r,o,oi)&&oi.x>=0&&oi.y>=0&&oi.x+oi.y<=1}static getInterpolation(e,n,r,o,l,f,h,g){return null===this.getBarycoord(e,n,r,o,oi)?(g.x=0,g.y=0,"z"in g&&(g.z=0),"w"in g&&(g.w=0),null):(g.setScalar(0),g.addScaledVector(l,oi.x),g.addScaledVector(f,oi.y),g.addScaledVector(h,oi.z),g)}static isFrontFacing(e,n,r,o){return ni.subVectors(r,n),xi.subVectors(e,n),ni.cross(xi).dot(o)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,o){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,r,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ni.subVectors(this.c,this.b),xi.subVectors(this.a,this.b),.5*ni.cross(xi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ys.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ys.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,o,l){return Ys.getInterpolation(e,this.a,this.b,this.c,n,r,o,l)}containsPoint(e){return Ys.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ys.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,o=this.b,l=this.c;let f,h;zi.subVectors(o,r),Hi.subVectors(l,r),Pi.subVectors(e,r);const g=zi.dot(Pi),v=Hi.dot(Pi);if(g<=0&&v<=0)return n.copy(r);lo.subVectors(e,o);const w=zi.dot(lo),S=Hi.dot(lo);if(w>=0&&S<=w)return n.copy(o);const A=g*S-w*v;if(A<=0&&g>=0&&w<=0)return f=g/(g-w),n.copy(r).addScaledVector(zi,f);Bo.subVectors(e,l);const R=zi.dot(Bo),B=Hi.dot(Bo);if(B>=0&&R<=B)return n.copy(l);const K=R*v-g*B;if(K<=0&&v>=0&&B<=0)return h=v/(v-B),n.copy(r).addScaledVector(Hi,h);const H=w*B-R*S;if(H<=0&&S-w>=0&&R-B>=0)return ir.subVectors(l,o),h=(S-w)/(S-w+(R-B)),n.copy(o).addScaledVector(ir,h);const U=1/(H+K+A);return f=K*U,h=A*U,n.copy(r).addScaledVector(zi,f).addScaledVector(Hi,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Vo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yo={h:0,s:0,l:0},ga={h:0,s:0,l:0};function da(c,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?c+6*(e-c)*n:n<.5?e:n<2/3?c+6*(e-c)*(2/3-n):c}class vi{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(void 0===n&&void 0===r){const o=e;o&&o.isColor?this.copy(o):"number"==typeof o?this.setHex(o):"string"==typeof o&&this.setStyle(o)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Mt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,eo.toWorkingColorSpace(this,n),this}setRGB(e,n,r,o=eo.workingColorSpace){return this.r=e,this.g=n,this.b=r,eo.toWorkingColorSpace(this,o),this}setHSL(e,n,r,o=eo.workingColorSpace){if(e=yn(e,1),n=St(n,0,1),r=St(r,0,1),0===n)this.r=this.g=this.b=r;else{const l=r<=.5?r*(1+n):r+n-r*n,f=2*r-l;this.r=da(f,l,e+1/3),this.g=da(f,l,e),this.b=da(f,l,e-1/3)}return eo.toWorkingColorSpace(this,o),this}setStyle(e,n=Mt){function r(l){void 0!==l&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let l;const h=o[2];switch(o[1]){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(l[4]),this.setRGB(Math.min(255,parseInt(l[1],10))/255,Math.min(255,parseInt(l[2],10))/255,Math.min(255,parseInt(l[3],10))/255,n);if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(l[4]),this.setRGB(Math.min(100,parseInt(l[1],10))/100,Math.min(100,parseInt(l[2],10))/100,Math.min(100,parseInt(l[3],10))/100,n);break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return r(l[4]),this.setHSL(parseFloat(l[1])/360,parseFloat(l[2])/100,parseFloat(l[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],f=l.length;if(3===f)return this.setRGB(parseInt(l.charAt(0),16)/15,parseInt(l.charAt(1),16)/15,parseInt(l.charAt(2),16)/15,n);if(6===f)return this.setHex(parseInt(l,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Mt){const r=Vo[e.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sl(e.r),this.g=Sl(e.g),this.b=Sl(e.b),this}copyLinearToSRGB(e){return this.r=wc(e.r),this.g=wc(e.g),this.b=wc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mt){return eo.fromWorkingColorSpace(x.copy(this),e),65536*Math.round(St(255*x.r,0,255))+256*Math.round(St(255*x.g,0,255))+Math.round(St(255*x.b,0,255))}getHexString(e=Mt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=eo.workingColorSpace){eo.fromWorkingColorSpace(x.copy(this),n);const r=x.r,o=x.g,l=x.b,f=Math.max(r,o,l),h=Math.min(r,o,l);let g,v;const w=(h+f)/2;if(h===f)g=0,v=0;else{const S=f-h;switch(v=w<=.5?S/(f+h):S/(2-f-h),f){case r:g=(o-l)/S+(o<l?6:0);break;case o:g=(l-r)/S+2;break;case l:g=(r-o)/S+4}g/=6}return e.h=g,e.s=v,e.l=w,e}getRGB(e,n=eo.workingColorSpace){return eo.fromWorkingColorSpace(x.copy(this),n),e.r=x.r,e.g=x.g,e.b=x.b,e}getStyle(e=Mt){eo.fromWorkingColorSpace(x.copy(this),e);const n=x.r,r=x.g,o=x.b;return e!==Mt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(255*n)},${Math.round(255*r)},${Math.round(255*o)})`}offsetHSL(e,n,r){return this.getHSL(Yo),this.setHSL(Yo.h+e,Yo.s+n,Yo.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Yo),e.getHSL(ga);const r=Cn(Yo.h,ga.h,n),o=Cn(Yo.s,ga.s,n),l=Cn(Yo.l,ga.l,n);return this.setHSL(r,o,l),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,o=this.b,l=e.elements;return this.r=l[0]*n+l[3]*r+l[6]*o,this.g=l[1]*n+l[4]*r+l[7]*o,this.b=l[2]*n+l[5]*r+l[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const x=new vi;vi.NAMES=Vo;let O=0;class $ extends z{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O++}),this.uuid=Ct(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new vi(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qi,this.stencilZFail=Qi,this.stencilZPass=Qi,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const n in e){const r=e[n];if(void 0===r){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];void 0!==o?o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[n]=r:console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`)}}toJSON(e){const n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function o(l){const f=[];for(const h in l){const g=l[h];delete g.metadata,f.push(g)}return f}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qi&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Qi&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Qi&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),n){const l=o(e.textures),f=o(e.images);l.length>0&&(r.textures=l),f.length>0&&(r.images=f)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(null!==n){const o=n.length;r=new Array(o);for(let l=0;l!==o;++l)r[l]=n[l].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class T extends ${constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Re,this.combine=nn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zt=new Ye,Li=new Vn;class Bi{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=r,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=so,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ll("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[e+o]=n.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let n=0,r=this.count;n<r;n++)Li.fromBufferAttribute(this,n),Li.applyMatrix3(e),this.setXY(n,Li.x,Li.y);else if(3===this.itemSize)for(let n=0,r=this.count;n<r;n++)zt.fromBufferAttribute(this,n),zt.applyMatrix3(e),this.setXYZ(n,zt.x,zt.y,zt.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)zt.fromBufferAttribute(this,n),zt.applyMatrix4(e),this.setXYZ(n,zt.x,zt.y,zt.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)zt.fromBufferAttribute(this,n),zt.applyNormalMatrix(e),this.setXYZ(n,zt.x,zt.y,zt.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)zt.fromBufferAttribute(this,n),zt.transformDirection(e),this.setXYZ(n,zt.x,zt.y,zt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ao(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Sr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ao(n,this.array)),n}setX(e,n){return this.normalized&&(n=Sr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ao(n,this.array)),n}setY(e,n){return this.normalized&&(n=Sr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ao(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Sr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ao(n,this.array)),n}setW(e,n){return this.normalized&&(n=Sr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,o){return e*=this.itemSize,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array),o=Sr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e*=this.itemSize,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array),o=Sr(o,this.array),l=Sr(l,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class el extends Bi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Sc extends Bi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class yr extends Bi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let id=0;const Zs=new vr,Gd=new Kn,cc=new Ye,Xo=new $e,jd=new $e,Sa=new Ye;class vs extends z{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:id++}),this.uuid=Ct(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(fl(e)?Sc:el)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;void 0!==n&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const l=(new Or).getNormalMatrix(e);r.applyNormalMatrix(l),r.needsUpdate=!0}const o=this.attributes.tangent;return void 0!==o&&(o.transformDirection(e),o.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zs.makeRotationFromQuaternion(e),this.applyMatrix4(Zs),this}rotateX(e){return Zs.makeRotationX(e),this.applyMatrix4(Zs),this}rotateY(e){return Zs.makeRotationY(e),this.applyMatrix4(Zs),this}rotateZ(e){return Zs.makeRotationZ(e),this.applyMatrix4(Zs),this}translate(e,n,r){return Zs.makeTranslation(e,n,r),this.applyMatrix4(Zs),this}scale(e,n,r){return Zs.makeScale(e,n,r),this.applyMatrix4(Zs),this}lookAt(e){return Gd.lookAt(e),Gd.updateMatrix(),this.applyMatrix4(Gd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cc).negate(),this.translate(cc.x,cc.y,cc.z),this}setFromPoints(e){const n=[];for(let r=0,o=e.length;r<o;r++){const l=e[r];n.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new yr(n,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new $e);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Ye(-1/0,-1/0,-1/0),new Ye(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++)Xo.setFromBufferAttribute(n[r]),this.morphTargetsRelative?(Sa.addVectors(this.boundingBox.min,Xo.min),this.boundingBox.expandByPoint(Sa),Sa.addVectors(this.boundingBox.max,Xo.max),this.boundingBox.expandByPoint(Sa)):(this.boundingBox.expandByPoint(Xo.min),this.boundingBox.expandByPoint(Xo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new gs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Ye,1/0);if(e){const r=this.boundingSphere.center;if(Xo.setFromBufferAttribute(e),n)for(let l=0,f=n.length;l<f;l++)jd.setFromBufferAttribute(n[l]),this.morphTargetsRelative?(Sa.addVectors(Xo.min,jd.min),Xo.expandByPoint(Sa),Sa.addVectors(Xo.max,jd.max),Xo.expandByPoint(Sa)):(Xo.expandByPoint(jd.min),Xo.expandByPoint(jd.max));Xo.getCenter(r);let o=0;for(let l=0,f=e.count;l<f;l++)Sa.fromBufferAttribute(e,l),o=Math.max(o,r.distanceToSquared(Sa));if(n)for(let l=0,f=n.length;l<f;l++){const h=n[l],g=this.morphTargetsRelative;for(let v=0,w=h.count;v<w;v++)Sa.fromBufferAttribute(h,v),g&&(cc.fromBufferAttribute(e,v),Sa.add(cc)),o=Math.max(o,r.distanceToSquared(Sa))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(null===e||void 0===n.position||void 0===n.normal||void 0===n.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=n.position,o=n.normal,l=n.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Bi(new Float32Array(4*r.count),4));const f=this.getAttribute("tangent"),h=[],g=[];for(let ht=0;ht<r.count;ht++)h[ht]=new Ye,g[ht]=new Ye;const v=new Ye,w=new Ye,S=new Ye,A=new Vn,R=new Vn,B=new Vn,K=new Ye,H=new Ye;function U(ht,Ne,xe){v.fromBufferAttribute(r,ht),w.fromBufferAttribute(r,Ne),S.fromBufferAttribute(r,xe),A.fromBufferAttribute(l,ht),R.fromBufferAttribute(l,Ne),B.fromBufferAttribute(l,xe),w.sub(v),S.sub(v),R.sub(A),B.sub(A);const Kt=1/(R.x*B.y-B.x*R.y);isFinite(Kt)&&(K.copy(w).multiplyScalar(B.y).addScaledVector(S,-R.y).multiplyScalar(Kt),H.copy(S).multiplyScalar(R.x).addScaledVector(w,-B.x).multiplyScalar(Kt),h[ht].add(K),h[Ne].add(K),h[xe].add(K),g[ht].add(H),g[Ne].add(H),g[xe].add(H))}let ae=this.groups;0===ae.length&&(ae=[{start:0,count:e.count}]);for(let ht=0,Ne=ae.length;ht<Ne;++ht){const xe=ae[ht],Kt=xe.start;for(let Nt=Kt,_n=Kt+xe.count;Nt<_n;Nt+=3)U(e.getX(Nt+0),e.getX(Nt+1),e.getX(Nt+2))}const ie=new Ye,ue=new Ye,ot=new Ye,ze=new Ye;function We(ht){ot.fromBufferAttribute(o,ht),ze.copy(ot);const Ne=h[ht];ie.copy(Ne),ie.sub(ot.multiplyScalar(ot.dot(Ne))).normalize(),ue.crossVectors(ze,Ne);const Kt=ue.dot(g[ht])<0?-1:1;f.setXYZW(ht,ie.x,ie.y,ie.z,Kt)}for(let ht=0,Ne=ae.length;ht<Ne;++ht){const xe=ae[ht],Kt=xe.start;for(let Nt=Kt,_n=Kt+xe.count;Nt<_n;Nt+=3)We(e.getX(Nt+0)),We(e.getX(Nt+1)),We(e.getX(Nt+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(void 0!==n){let r=this.getAttribute("normal");if(void 0===r)r=new Bi(new Float32Array(3*n.count),3),this.setAttribute("normal",r);else for(let A=0,R=r.count;A<R;A++)r.setXYZ(A,0,0,0);const o=new Ye,l=new Ye,f=new Ye,h=new Ye,g=new Ye,v=new Ye,w=new Ye,S=new Ye;if(e)for(let A=0,R=e.count;A<R;A+=3){const B=e.getX(A+0),K=e.getX(A+1),H=e.getX(A+2);o.fromBufferAttribute(n,B),l.fromBufferAttribute(n,K),f.fromBufferAttribute(n,H),w.subVectors(f,l),S.subVectors(o,l),w.cross(S),h.fromBufferAttribute(r,B),g.fromBufferAttribute(r,K),v.fromBufferAttribute(r,H),h.add(w),g.add(w),v.add(w),r.setXYZ(B,h.x,h.y,h.z),r.setXYZ(K,g.x,g.y,g.z),r.setXYZ(H,v.x,v.y,v.z)}else for(let A=0,R=n.count;A<R;A+=3)o.fromBufferAttribute(n,A+0),l.fromBufferAttribute(n,A+1),f.fromBufferAttribute(n,A+2),w.subVectors(f,l),S.subVectors(o,l),w.cross(S),r.setXYZ(A+0,w.x,w.y,w.z),r.setXYZ(A+1,w.x,w.y,w.z),r.setXYZ(A+2,w.x,w.y,w.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Sa.fromBufferAttribute(e,n),Sa.normalize(),e.setXYZ(n,Sa.x,Sa.y,Sa.z)}toNonIndexed(){function e(h,g){const v=h.array,w=h.itemSize,S=h.normalized,A=new v.constructor(g.length*w);let R=0,B=0;for(let K=0,H=g.length;K<H;K++){R=h.isInterleavedBufferAttribute?g[K]*h.data.stride+h.offset:g[K]*w;for(let U=0;U<w;U++)A[B++]=v[R++]}return new Bi(A,w,S)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new vs,r=this.index.array,o=this.attributes;for(const h in o){const v=e(o[h],r);n.setAttribute(h,v)}const l=this.morphAttributes;for(const h in l){const g=[],v=l[h];for(let w=0,S=v.length;w<S;w++){const R=e(v[w],r);g.push(R)}n.morphAttributes[h]=g}n.morphTargetsRelative=this.morphTargetsRelative;const f=this.groups;for(let h=0,g=f.length;h<g;h++){const v=f[h];n.addGroup(v.start,v.count,v.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const g=this.parameters;for(const v in g)void 0!==g[v]&&(e[v]=g[v]);return e}e.data={attributes:{}};const n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const g in r)e.data.attributes[g]=r[g].toJSON(e.data);const o={};let l=!1;for(const g in this.morphAttributes){const v=this.morphAttributes[g],w=[];for(let S=0,A=v.length;S<A;S++)w.push(v[S].toJSON(e.data));w.length>0&&(o[g]=w,l=!0)}l&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));const h=this.boundingSphere;return null!==h&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(n));const o=e.attributes;for(const v in o)this.setAttribute(v,o[v].clone(n));const l=e.morphAttributes;for(const v in l){const w=[],S=l[v];for(let A=0,R=S.length;A<R;A++)w.push(S[A].clone(n));this.morphAttributes[v]=w}this.morphTargetsRelative=e.morphTargetsRelative;const f=e.groups;for(let v=0,w=f.length;v<w;v++){const S=f[v];this.addGroup(S.start,S.count,S.materialIndex)}const h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());const g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Al=new vr,_u=new Ql,rd=new gs,jg=new Ye,pl=new Ye,bu=new Ye,sd=new Ye,ih=new Ye,od=new Ye,ad=new Vn,qc=new Vn,wu=new Vn,rh=new Ye,Kc=new Ye,ns=new Ye,Wd=new Ye,Np=new Ye;class ka extends Kn{constructor(e=new vs,n=new T){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,f=o.length;l<f;l++){const h=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=l}}}}getVertexPosition(e,n){const r=this.geometry,l=r.morphAttributes.position,f=r.morphTargetsRelative;n.fromBufferAttribute(r.attributes.position,e);const h=this.morphTargetInfluences;if(l&&h){od.set(0,0,0);for(let g=0,v=l.length;g<v;g++){const w=h[g];0!==w&&(ih.fromBufferAttribute(l[g],e),od.addScaledVector(f?ih:ih.sub(n),w))}n.add(od)}return n}raycast(e,n){const r=this.geometry,l=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),rd.copy(r.boundingSphere),rd.applyMatrix4(l),_u.copy(e.ray).recast(e.near),(!1!==rd.containsPoint(_u.origin)||!(null===_u.intersectSphere(rd,jg)||_u.origin.distanceToSquared(jg)>(e.far-e.near)**2))&&(Al.copy(l).invert(),_u.copy(e.ray).applyMatrix4(Al),(null===r.boundingBox||!1!==_u.intersectsBox(r.boundingBox))&&this._computeIntersections(e,n,_u)))}_computeIntersections(e,n,r){let o;const l=this.geometry,f=this.material,h=l.index,g=l.attributes.position,v=l.attributes.uv,w=l.attributes.uv1,S=l.attributes.normal,A=l.groups,R=l.drawRange;if(null!==h)if(Array.isArray(f))for(let B=0,K=A.length;B<K;B++){const H=A[B],U=f[H.materialIndex];for(let ue=Math.max(H.start,R.start),ot=Math.min(h.count,Math.min(H.start+H.count,R.start+R.count));ue<ot;ue+=3)o=sh(this,U,e,r,v,w,S,h.getX(ue),h.getX(ue+1),h.getX(ue+2)),o&&(o.faceIndex=Math.floor(ue/3),o.face.materialIndex=H.materialIndex,n.push(o))}else for(let H=Math.max(0,R.start),U=Math.min(h.count,R.start+R.count);H<U;H+=3)o=sh(this,f,e,r,v,w,S,h.getX(H),h.getX(H+1),h.getX(H+2)),o&&(o.faceIndex=Math.floor(H/3),n.push(o));else if(void 0!==g)if(Array.isArray(f))for(let B=0,K=A.length;B<K;B++){const H=A[B],U=f[H.materialIndex];for(let ue=Math.max(H.start,R.start),ot=Math.min(g.count,Math.min(H.start+H.count,R.start+R.count));ue<ot;ue+=3)o=sh(this,U,e,r,v,w,S,ue,ue+1,ue+2),o&&(o.faceIndex=Math.floor(ue/3),o.face.materialIndex=H.materialIndex,n.push(o))}else for(let H=Math.max(0,R.start),U=Math.min(g.count,R.start+R.count);H<U;H+=3)o=sh(this,f,e,r,v,w,S,H,H+1,H+2),o&&(o.faceIndex=Math.floor(H/3),n.push(o))}}function sh(c,e,n,r,o,l,f,h,g,v){c.getVertexPosition(h,pl),c.getVertexPosition(g,bu),c.getVertexPosition(v,sd);const w=function Ky(c,e,n,r,o,l,f,h){let g;if(g=1===e.side?r.intersectTriangle(f,l,o,!0,h):r.intersectTriangle(o,l,f,0===e.side,h),null===g)return null;Np.copy(h),Np.applyMatrix4(c.matrixWorld);const v=n.ray.origin.distanceTo(Np);return v<n.near||v>n.far?null:{distance:v,point:Np.clone(),object:c}}(c,e,n,r,pl,bu,sd,Wd);if(w){o&&(ad.fromBufferAttribute(o,h),qc.fromBufferAttribute(o,g),wu.fromBufferAttribute(o,v),w.uv=Ys.getInterpolation(Wd,pl,bu,sd,ad,qc,wu,new Vn)),l&&(ad.fromBufferAttribute(l,h),qc.fromBufferAttribute(l,g),wu.fromBufferAttribute(l,v),w.uv1=Ys.getInterpolation(Wd,pl,bu,sd,ad,qc,wu,new Vn)),f&&(rh.fromBufferAttribute(f,h),Kc.fromBufferAttribute(f,g),ns.fromBufferAttribute(f,v),w.normal=Ys.getInterpolation(Wd,pl,bu,sd,rh,Kc,ns,new Ye),w.normal.dot(r.direction)>0&&w.normal.multiplyScalar(-1));const S={a:h,b:g,c:v,normal:new Ye,materialIndex:0};Ys.getNormal(pl,bu,sd,S.normal),w.face=S}return w}class xu extends vs{constructor(e=1,n=1,r=1,o=1,l=1,f=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:l,depthSegments:f};const h=this;o=Math.floor(o),l=Math.floor(l),f=Math.floor(f);const g=[],v=[],w=[],S=[];let A=0,R=0;function B(K,H,U,ae,ie,ue,ot,ze,We,ht,Ne){const xe=ue/We,Kt=ot/ht,gn=ue/2,Nt=ot/2,_n=ze/2,kn=We+1,Wn=ht+1;let Oi=0,Nn=0;const mi=new Ye;for(let yi=0;yi<Wn;yi++){const sr=yi*Kt-Nt;for(let bs=0;bs<kn;bs++)mi[K]=(bs*xe-gn)*ae,mi[H]=sr*ie,mi[U]=_n,v.push(mi.x,mi.y,mi.z),mi[K]=0,mi[H]=0,mi[U]=ze>0?1:-1,w.push(mi.x,mi.y,mi.z),S.push(bs/We),S.push(1-yi/ht),Oi+=1}for(let yi=0;yi<ht;yi++)for(let sr=0;sr<We;sr++){const ws=A+sr+kn*(yi+1),Bn=A+(sr+1)+kn*(yi+1),Mi=A+(sr+1)+kn*yi;g.push(A+sr+kn*yi,ws,Mi),g.push(ws,Bn,Mi),Nn+=6}h.addGroup(R,Nn,Ne),R+=Nn,A+=Oi}B("z","y","x",-1,-1,r,n,e,f,l,0),B("z","y","x",1,-1,r,n,-e,f,l,1),B("x","z","y",1,1,e,r,n,o,f,2),B("x","z","y",1,-1,e,r,-n,o,f,3),B("x","y","z",1,-1,e,n,r,o,l,4),B("x","y","z",-1,-1,e,n,-r,o,l,5),this.setIndex(g),this.setAttribute("position",new yr(v,3)),this.setAttribute("normal",new yr(w,3)),this.setAttribute("uv",new yr(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ec(c){const e={};for(const n in c){e[n]={};for(const r in c[n]){const o=c[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=o.clone():e[n][r]=Array.isArray(o)?o.slice():o}}return e}function ml(c){const e={};for(let n=0;n<c.length;n++){const r=ec(c[n]);for(const o in r)e[o]=r[o]}return e}function Wg(c){const e=c.getRenderTarget();return null===e?c.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:eo.workingColorSpace}const Zy={clone:ec,merge:ml};class fs extends ${constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ec(e.uniforms),this.uniformsGroups=function Yy(c){const e=[];for(let n=0;n<c.length;n++)e.push(c[n].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const f=this.uniforms[o].value;n.uniforms[o]=f&&f.isTexture?{type:"t",value:f.toJSON(e).uuid}:f&&f.isColor?{type:"c",value:f.getHex()}:f&&f.isVector2?{type:"v2",value:f.toArray()}:f&&f.isVector3?{type:"v3",value:f.toArray()}:f&&f.isVector4?{type:"v4",value:f.toArray()}:f&&f.isMatrix3?{type:"m3",value:f.toArray()}:f&&f.isMatrix4?{type:"m4",value:f.toArray()}:{value:f}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const o in this.extensions)!0===this.extensions[o]&&(r[o]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class oh extends Kn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vr,this.projectionMatrix=new vr,this.projectionMatrixInverse=new vr,this.coordinateSystem=Rn}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Mc=new Ye,No=new Vn,Lp=new Vn;class Ma extends oh{constructor(e=50,n=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=2*Dt*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*ce*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Dt*Math.atan(Math.tan(.5*ce*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Mc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Mc.x,Mc.y).multiplyScalar(-e/Mc.z),Mc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Mc.x,Mc.y).multiplyScalar(-e/Mc.z)}getViewSize(e,n){return this.getViewBounds(e,No,Lp),n.subVectors(Lp,No)}setViewOffset(e,n,r,o,l,f){this.aspect=e/n,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(.5*ce*this.fov)/this.zoom,r=2*n,o=this.aspect*r,l=-.5*o;const f=this.view;if(null!==this.view&&this.view.enabled){const g=f.fullWidth,v=f.fullHeight;l+=f.offsetX*o/g,n-=f.offsetY*r/v,o*=f.width/g,r*=f.height/v}const h=this.filmOffset;0!==h&&(l+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}class Fp extends Kn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new Ma(-90,1,e,n);o.layers=this.layers,this.add(o);const l=new Ma(-90,1,e,n);l.layers=this.layers,this.add(l);const f=new Ma(-90,1,e,n);f.layers=this.layers,this.add(f);const h=new Ma(-90,1,e,n);h.layers=this.layers,this.add(h);const g=new Ma(-90,1,e,n);g.layers=this.layers,this.add(g);const v=new Ma(-90,1,e,n);v.layers=this.layers,this.add(v)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,o,l,f,h,g]=n;for(const v of n)this.remove(v);if(e===Rn)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),l.up.set(0,0,-1),l.lookAt(0,1,0),f.up.set(0,0,1),f.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),g.up.set(0,1,0),g.lookAt(0,0,-1);else{if(e!==X)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),l.up.set(0,0,1),l.lookAt(0,1,0),f.up.set(0,0,-1),f.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),g.up.set(0,-1,0),g.lookAt(0,0,-1)}for(const v of n)this.add(v),v.updateMatrixWorld()}update(e,n){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[l,f,h,g,v,w]=this.children,S=e.getRenderTarget(),A=e.getActiveCubeFace(),R=e.getActiveMipmapLevel(),B=e.xr.enabled;e.xr.enabled=!1;const K=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(n,l),e.setRenderTarget(r,1,o),e.render(n,f),e.setRenderTarget(r,2,o),e.render(n,h),e.setRenderTarget(r,3,o),e.render(n,g),e.setRenderTarget(r,4,o),e.render(n,v),r.texture.generateMipmaps=K,e.setRenderTarget(r,5,o),e.render(n,w),e.setRenderTarget(S,A,R),e.xr.enabled=B,r.texture.needsPMREMUpdate=!0}}class ah extends Ea{constructor(e,n,r,o,l,f,h,g,v,w){super(e=void 0!==e?e:[],n=void 0!==n?n:$i,r,o,l,f,h,g,v,w),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Fx extends Qa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new ah([r,r,r,r,r,r],n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:mt}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new xu(5,5,5),l=new fs({name:"CubemapFromEquirect",uniforms:ec(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});l.uniforms.tEquirect.value=n;const f=new ka(o,l),h=n.minFilter;return n.minFilter===si&&(n.minFilter=mt),new Fp(1,10,this).update(e,f),n.minFilter=h,f.geometry.dispose(),f.material.dispose(),this}clear(e,n,r,o){const l=e.getRenderTarget();for(let f=0;f<6;f++)e.setRenderTarget(this,f),e.clear(n,r,o);e.setRenderTarget(l)}}const lh=new Ye,vl=new Ye,Cc=new Or;class Ac{constructor(e=new Ye(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,o){return this.normal.set(e,n,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const o=lh.subVectors(r,n).cross(vl.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(lh),o=this.normal.dot(r);if(0===o)return 0===this.distanceToPoint(e.start)?n.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/o;return l<0||l>1?null:n.copy(e.start).addScaledVector(r,l)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Cc.getNormalMatrix(e),o=this.coplanarPoint(lh).applyMatrix4(e),l=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const tl=new gs,$l=new Ye;class ch{constructor(e=new Ac,n=new Ac,r=new Ac,o=new Ac,l=new Ac,f=new Ac){this.planes=[e,n,r,o,l,f]}set(e,n,r,o,l,f){const h=this.planes;return h[0].copy(e),h[1].copy(n),h[2].copy(r),h[3].copy(o),h[4].copy(l),h[5].copy(f),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Rn){const r=this.planes,o=e.elements,l=o[0],f=o[1],h=o[2],g=o[3],v=o[4],w=o[5],S=o[6],A=o[7],R=o[8],B=o[9],K=o[10],H=o[11],U=o[12],ae=o[13],ie=o[14],ue=o[15];if(r[0].setComponents(g-l,A-v,H-R,ue-U).normalize(),r[1].setComponents(g+l,A+v,H+R,ue+U).normalize(),r[2].setComponents(g+f,A+w,H+B,ue+ae).normalize(),r[3].setComponents(g-f,A-w,H-B,ue-ae).normalize(),r[4].setComponents(g-h,A-S,H-K,ue-ie).normalize(),n===Rn)r[5].setComponents(g+h,A+S,H+K,ue+ie).normalize();else{if(n!==X)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);r[5].setComponents(h,S,K,ie).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),tl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;null===n.boundingSphere&&n.computeBoundingSphere(),tl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tl)}intersectsSprite(e){return tl.center.set(0,0,0),tl.radius=.7071067811865476,tl.applyMatrix4(e.matrixWorld),this.intersectsSphere(tl)}intersectsSphere(e){const n=this.planes,r=e.center,o=-e.radius;for(let l=0;l<6;l++)if(n[l].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const o=n[r];if($l.x=o.normal.x>0?e.max.x:e.min.x,$l.y=o.normal.y>0?e.max.y:e.min.y,$l.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint($l)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function kp(){let c=null,e=!1,n=null,r=null;function o(l,f){n(l,f),r=c.requestAnimationFrame(o)}return{start:function(){!0!==e&&null!==n&&(r=c.requestAnimationFrame(o),e=!0)},stop:function(){c.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(l){n=l},setContext:function(l){c=l}}}function Jy(c){const e=new WeakMap;return{get:function o(h){return h.isInterleavedBufferAttribute&&(h=h.data),e.get(h)},remove:function l(h){h.isInterleavedBufferAttribute&&(h=h.data);const g=e.get(h);g&&(c.deleteBuffer(g.buffer),e.delete(h))},update:function f(h,g){if(h.isGLBufferAttribute){const w=e.get(h);return void((!w||w.version<h.version)&&e.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version}))}h.isInterleavedBufferAttribute&&(h=h.data);const v=e.get(h);if(void 0===v)e.set(h,function n(h,g){const v=h.array,w=h.usage,S=v.byteLength,A=c.createBuffer();let R;if(c.bindBuffer(g,A),c.bufferData(g,v,w),h.onUploadCallback(),v instanceof Float32Array)R=c.FLOAT;else if(v instanceof Uint16Array)R=h.isFloat16BufferAttribute?c.HALF_FLOAT:c.UNSIGNED_SHORT;else if(v instanceof Int16Array)R=c.SHORT;else if(v instanceof Uint32Array)R=c.UNSIGNED_INT;else if(v instanceof Int32Array)R=c.INT;else if(v instanceof Int8Array)R=c.BYTE;else if(v instanceof Uint8Array)R=c.UNSIGNED_BYTE;else{if(!(v instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);R=c.UNSIGNED_BYTE}return{buffer:A,type:R,bytesPerElement:v.BYTES_PER_ELEMENT,version:h.version,size:S}}(h,g));else if(v.version<h.version){if(v.size!==h.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(h,g,v){const w=g.array,S=g._updateRange,A=g.updateRanges;if(c.bindBuffer(v,h),-1===S.count&&0===A.length&&c.bufferSubData(v,0,w),0!==A.length){for(let R=0,B=A.length;R<B;R++){const K=A[R];c.bufferSubData(v,K.start*w.BYTES_PER_ELEMENT,w,K.start,K.count)}g.clearUpdateRanges()}-1!==S.count&&(c.bufferSubData(v,S.offset*w.BYTES_PER_ELEMENT,w,S.offset,S.count),S.count=-1),g.onUploadCallback()})(v.buffer,h,g),v.version=h.version}}}}class Xd extends vs{constructor(e=1,n=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:o};const l=e/2,f=n/2,h=Math.floor(r),g=Math.floor(o),v=h+1,w=g+1,S=e/h,A=n/g,R=[],B=[],K=[],H=[];for(let U=0;U<w;U++){const ae=U*A-f;for(let ie=0;ie<v;ie++)B.push(ie*S-l,-ae,0),K.push(0,0,1),H.push(ie/h),H.push(1-U/g)}for(let U=0;U<g;U++)for(let ae=0;ae<h;ae++){const ue=ae+v*(U+1),ot=ae+1+v*(U+1),ze=ae+1+v*U;R.push(ae+v*U,ue,ze),R.push(ue,ot,ze)}this.setIndex(R),this.setAttribute("position",new yr(B,3)),this.setAttribute("normal",new yr(K,3)),this.setAttribute("uv",new yr(H,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xd(e.width,e.height,e.widthSegments,e.heightSegments)}}const Fs={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[MORPHTARGETS_COUNT];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t#endif\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\t#ifndef USE_INSTANCING_MORPH\n\t\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\t#endif\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Yi={common:{diffuse:{value:new vi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Or},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Or}},envmap:{envMap:{value:null},envMapRotation:{value:new Or},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Or}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Or}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Or},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Or},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Or},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Or}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Or}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Or}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0},uvTransform:{value:new Or}},sprite:{diffuse:{value:new vi(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Or},alphaMap:{value:null},alphaMapTransform:{value:new Or},alphaTest:{value:0}}},tc={basic:{uniforms:ml([Yi.common,Yi.specularmap,Yi.envmap,Yi.aomap,Yi.lightmap,Yi.fog]),vertexShader:Fs.meshbasic_vert,fragmentShader:Fs.meshbasic_frag},lambert:{uniforms:ml([Yi.common,Yi.specularmap,Yi.envmap,Yi.aomap,Yi.lightmap,Yi.emissivemap,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,Yi.fog,Yi.lights,{emissive:{value:new vi(0)}}]),vertexShader:Fs.meshlambert_vert,fragmentShader:Fs.meshlambert_frag},phong:{uniforms:ml([Yi.common,Yi.specularmap,Yi.envmap,Yi.aomap,Yi.lightmap,Yi.emissivemap,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,Yi.fog,Yi.lights,{emissive:{value:new vi(0)},specular:{value:new vi(1118481)},shininess:{value:30}}]),vertexShader:Fs.meshphong_vert,fragmentShader:Fs.meshphong_frag},standard:{uniforms:ml([Yi.common,Yi.envmap,Yi.aomap,Yi.lightmap,Yi.emissivemap,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,Yi.roughnessmap,Yi.metalnessmap,Yi.fog,Yi.lights,{emissive:{value:new vi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fs.meshphysical_vert,fragmentShader:Fs.meshphysical_frag},toon:{uniforms:ml([Yi.common,Yi.aomap,Yi.lightmap,Yi.emissivemap,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,Yi.gradientmap,Yi.fog,Yi.lights,{emissive:{value:new vi(0)}}]),vertexShader:Fs.meshtoon_vert,fragmentShader:Fs.meshtoon_frag},matcap:{uniforms:ml([Yi.common,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,Yi.fog,{matcap:{value:null}}]),vertexShader:Fs.meshmatcap_vert,fragmentShader:Fs.meshmatcap_frag},points:{uniforms:ml([Yi.points,Yi.fog]),vertexShader:Fs.points_vert,fragmentShader:Fs.points_frag},dashed:{uniforms:ml([Yi.common,Yi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fs.linedashed_vert,fragmentShader:Fs.linedashed_frag},depth:{uniforms:ml([Yi.common,Yi.displacementmap]),vertexShader:Fs.depth_vert,fragmentShader:Fs.depth_frag},normal:{uniforms:ml([Yi.common,Yi.bumpmap,Yi.normalmap,Yi.displacementmap,{opacity:{value:1}}]),vertexShader:Fs.meshnormal_vert,fragmentShader:Fs.meshnormal_frag},sprite:{uniforms:ml([Yi.sprite,Yi.fog]),vertexShader:Fs.sprite_vert,fragmentShader:Fs.sprite_frag},background:{uniforms:{uvTransform:{value:new Or},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fs.background_vert,fragmentShader:Fs.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Or}},vertexShader:Fs.backgroundCube_vert,fragmentShader:Fs.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fs.cube_vert,fragmentShader:Fs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fs.equirect_vert,fragmentShader:Fs.equirect_frag},distanceRGBA:{uniforms:ml([Yi.common,Yi.displacementmap,{referencePosition:{value:new Ye},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fs.distanceRGBA_vert,fragmentShader:Fs.distanceRGBA_frag},shadow:{uniforms:ml([Yi.lights,Yi.fog,{color:{value:new vi(0)},opacity:{value:1}}]),vertexShader:Fs.shadow_vert,fragmentShader:Fs.shadow_frag}};tc.physical={uniforms:ml([tc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Or},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Or},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Or},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Or},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Or},sheen:{value:0},sheenColor:{value:new vi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Or},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Or},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Or},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Or},attenuationDistance:{value:0},attenuationColor:{value:new vi(0)},specularColor:{value:new vi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Or},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Or},anisotropyVector:{value:new Vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Or}}]),vertexShader:Fs.meshphysical_vert,fragmentShader:Fs.meshphysical_frag};const Eh={r:0,b:0,g:0},Zc=new Re,F_=new vr;function k_(c,e,n,r,o,l,f){const h=new vi(0);let v,w,g=!0===l?0:1,S=null,A=0,R=null;function B(ae){let ie=!0===ae.isScene?ae.background:null;return ie&&ie.isTexture&&(ie=(ae.backgroundBlurriness>0?n:e).get(ie)),ie}function U(ae,ie){ae.getRGB(Eh,Wg(c)),r.buffers.color.setClear(Eh.r,Eh.g,Eh.b,ie,f)}return{getClearColor:function(){return h},setClearColor:function(ae,ie=1){h.set(ae),g=ie,U(h,g)},getClearAlpha:function(){return g},setClearAlpha:function(ae){g=ae,U(h,g)},render:function K(ae){let ie=!1;const ue=B(ae);null===ue?U(h,g):ue&&ue.isColor&&(U(ue,1),ie=!0);const ot=c.xr.getEnvironmentBlendMode();"additive"===ot?r.buffers.color.setClear(0,0,0,1,f):"alpha-blend"===ot&&r.buffers.color.setClear(0,0,0,0,f),(c.autoClear||ie)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil)},addToRenderList:function H(ae,ie){const ue=B(ie);ue&&(ue.isCubeTexture||ue.mapping===ds)?(void 0===w&&(w=new ka(new xu(1,1,1),new fs({name:"BackgroundCubeMaterial",uniforms:ec(tc.backgroundCube.uniforms),vertexShader:tc.backgroundCube.vertexShader,fragmentShader:tc.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),w.geometry.deleteAttribute("uv"),w.onBeforeRender=function(ot,ze,We){this.matrixWorld.copyPosition(We.matrixWorld)},Object.defineProperty(w.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(w)),Zc.copy(ie.backgroundRotation),Zc.x*=-1,Zc.y*=-1,Zc.z*=-1,ue.isCubeTexture&&!1===ue.isRenderTargetTexture&&(Zc.y*=-1,Zc.z*=-1),w.material.uniforms.envMap.value=ue,w.material.uniforms.flipEnvMap.value=ue.isCubeTexture&&!1===ue.isRenderTargetTexture?-1:1,w.material.uniforms.backgroundBlurriness.value=ie.backgroundBlurriness,w.material.uniforms.backgroundIntensity.value=ie.backgroundIntensity,w.material.uniforms.backgroundRotation.value.setFromMatrix4(F_.makeRotationFromEuler(Zc)),w.material.toneMapped=eo.getTransfer(ue.colorSpace)!==Mn,(S!==ue||A!==ue.version||R!==c.toneMapping)&&(w.material.needsUpdate=!0,S=ue,A=ue.version,R=c.toneMapping),w.layers.enableAll(),ae.unshift(w,w.geometry,w.material,0,0,null)):ue&&ue.isTexture&&(void 0===v&&(v=new ka(new Xd(2,2),new fs({name:"BackgroundMaterial",uniforms:ec(tc.background.uniforms),vertexShader:tc.background.vertexShader,fragmentShader:tc.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(v)),v.material.uniforms.t2D.value=ue,v.material.uniforms.backgroundIntensity.value=ie.backgroundIntensity,v.material.toneMapped=eo.getTransfer(ue.colorSpace)!==Mn,!0===ue.matrixAutoUpdate&&ue.updateMatrix(),v.material.uniforms.uvTransform.value.copy(ue.matrix),(S!==ue||A!==ue.version||R!==c.toneMapping)&&(v.material.needsUpdate=!0,S=ue,A=ue.version,R=c.toneMapping),v.layers.enableAll(),ae.unshift(v,v.geometry,v.material,0,0,null))}}}function U_(c,e){const n=c.getParameter(c.MAX_VERTEX_ATTRIBS),r={},o=A(null);let l=o,f=!1;function v(xe){return c.bindVertexArray(xe)}function w(xe){return c.deleteVertexArray(xe)}function A(xe){const Kt=[],gn=[],Nt=[];for(let _n=0;_n<n;_n++)Kt[_n]=0,gn[_n]=0,Nt[_n]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Kt,enabledAttributes:gn,attributeDivisors:Nt,object:xe,attributes:{},index:null}}function K(){const xe=l.newAttributes;for(let Kt=0,gn=xe.length;Kt<gn;Kt++)xe[Kt]=0}function H(xe){U(xe,0)}function U(xe,Kt){const Nt=l.enabledAttributes,_n=l.attributeDivisors;l.newAttributes[xe]=1,0===Nt[xe]&&(c.enableVertexAttribArray(xe),Nt[xe]=1),_n[xe]!==Kt&&(c.vertexAttribDivisor(xe,Kt),_n[xe]=Kt)}function ae(){const xe=l.newAttributes,Kt=l.enabledAttributes;for(let gn=0,Nt=Kt.length;gn<Nt;gn++)Kt[gn]!==xe[gn]&&(c.disableVertexAttribArray(gn),Kt[gn]=0)}function ie(xe,Kt,gn,Nt,_n,kn,Wn){!0===Wn?c.vertexAttribIPointer(xe,Kt,gn,_n,kn):c.vertexAttribPointer(xe,Kt,gn,Nt,_n,kn)}function ht(){Ne(),f=!0,l!==o&&(l=o,v(l.object))}function Ne(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:function h(xe,Kt,gn,Nt,_n){let kn=!1;const Wn=function S(xe,Kt,gn){const Nt=!0===gn.wireframe;let _n=r[xe.id];void 0===_n&&(_n={},r[xe.id]=_n);let kn=_n[Kt.id];void 0===kn&&(kn={},_n[Kt.id]=kn);let Wn=kn[Nt];return void 0===Wn&&(Wn=A(function g(){return c.createVertexArray()}()),kn[Nt]=Wn),Wn}(Nt,gn,Kt);l!==Wn&&(l=Wn,v(l.object)),kn=function R(xe,Kt,gn,Nt){const _n=l.attributes,kn=Kt.attributes;let Wn=0;const Oi=gn.getAttributes();for(const Nn in Oi)if(Oi[Nn].location>=0){const yi=_n[Nn];let sr=kn[Nn];if(void 0===sr&&("instanceMatrix"===Nn&&xe.instanceMatrix&&(sr=xe.instanceMatrix),"instanceColor"===Nn&&xe.instanceColor&&(sr=xe.instanceColor)),void 0===yi||yi.attribute!==sr||sr&&yi.data!==sr.data)return!0;Wn++}return l.attributesNum!==Wn||l.index!==Nt}(xe,Nt,gn,_n),kn&&function B(xe,Kt,gn,Nt){const _n={},kn=Kt.attributes;let Wn=0;const Oi=gn.getAttributes();for(const Nn in Oi)if(Oi[Nn].location>=0){let yi=kn[Nn];void 0===yi&&("instanceMatrix"===Nn&&xe.instanceMatrix&&(yi=xe.instanceMatrix),"instanceColor"===Nn&&xe.instanceColor&&(yi=xe.instanceColor));const sr={};sr.attribute=yi,yi&&yi.data&&(sr.data=yi.data),_n[Nn]=sr,Wn++}l.attributes=_n,l.attributesNum=Wn,l.index=Nt}(xe,Nt,gn,_n),null!==_n&&e.update(_n,c.ELEMENT_ARRAY_BUFFER),(kn||f)&&(f=!1,function ue(xe,Kt,gn,Nt){K();const _n=Nt.attributes,kn=gn.getAttributes(),Wn=Kt.defaultAttributeValues;for(const Oi in kn){const Nn=kn[Oi];if(Nn.location>=0){let mi=_n[Oi];if(void 0===mi&&("instanceMatrix"===Oi&&xe.instanceMatrix&&(mi=xe.instanceMatrix),"instanceColor"===Oi&&xe.instanceColor&&(mi=xe.instanceColor)),void 0!==mi){const yi=mi.normalized,sr=mi.itemSize,bs=e.get(mi);if(void 0===bs)continue;const ws=bs.buffer,Bn=bs.type,Mi=bs.bytesPerElement,qi=Bn===c.INT||Bn===c.UNSIGNED_INT||1013===mi.gpuType;if(mi.isInterleavedBufferAttribute){const Ti=mi.data,is=Ti.stride,ys=mi.offset;if(Ti.isInstancedInterleavedBuffer){for(let tn=0;tn<Nn.locationSize;tn++)U(Nn.location+tn,Ti.meshPerAttribute);!0!==xe.isInstancedMesh&&void 0===Nt._maxInstanceCount&&(Nt._maxInstanceCount=Ti.meshPerAttribute*Ti.count)}else for(let tn=0;tn<Nn.locationSize;tn++)H(Nn.location+tn);c.bindBuffer(c.ARRAY_BUFFER,ws);for(let tn=0;tn<Nn.locationSize;tn++)ie(Nn.location+tn,sr/Nn.locationSize,Bn,yi,is*Mi,(ys+sr/Nn.locationSize*tn)*Mi,qi)}else{if(mi.isInstancedBufferAttribute){for(let Ti=0;Ti<Nn.locationSize;Ti++)U(Nn.location+Ti,mi.meshPerAttribute);!0!==xe.isInstancedMesh&&void 0===Nt._maxInstanceCount&&(Nt._maxInstanceCount=mi.meshPerAttribute*mi.count)}else for(let Ti=0;Ti<Nn.locationSize;Ti++)H(Nn.location+Ti);c.bindBuffer(c.ARRAY_BUFFER,ws);for(let Ti=0;Ti<Nn.locationSize;Ti++)ie(Nn.location+Ti,sr/Nn.locationSize,Bn,yi,sr*Mi,sr/Nn.locationSize*Ti*Mi,qi)}}else if(void 0!==Wn){const yi=Wn[Oi];if(void 0!==yi)switch(yi.length){case 2:c.vertexAttrib2fv(Nn.location,yi);break;case 3:c.vertexAttrib3fv(Nn.location,yi);break;case 4:c.vertexAttrib4fv(Nn.location,yi);break;default:c.vertexAttrib1fv(Nn.location,yi)}}}}ae()}(xe,Kt,gn,Nt),null!==_n&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e.get(_n).buffer))},reset:ht,resetDefaultState:Ne,dispose:function ot(){ht();for(const xe in r){const Kt=r[xe];for(const gn in Kt){const Nt=Kt[gn];for(const _n in Nt)w(Nt[_n].object),delete Nt[_n];delete Kt[gn]}delete r[xe]}},releaseStatesOfGeometry:function ze(xe){if(void 0===r[xe.id])return;const Kt=r[xe.id];for(const gn in Kt){const Nt=Kt[gn];for(const _n in Nt)w(Nt[_n].object),delete Nt[_n];delete Kt[gn]}delete r[xe.id]},releaseStatesOfProgram:function We(xe){for(const Kt in r){const gn=r[Kt];if(void 0===gn[xe.id])continue;const Nt=gn[xe.id];for(const _n in Nt)w(Nt[_n].object),delete Nt[_n];delete gn[xe.id]}},initAttributes:K,enableAttribute:H,disableUnusedAttributes:ae}}function B_(c,e,n){let r;function f(v,w,S){0!==S&&(c.drawArraysInstanced(r,v,w,S),n.update(w,r,S))}this.setMode=function o(v){r=v},this.render=function l(v,w){c.drawArrays(r,v,w),n.update(w,r,1)},this.renderInstances=f,this.renderMultiDraw=function h(v,w,S){if(0===S)return;const A=e.get("WEBGL_multi_draw");if(null===A)for(let R=0;R<S;R++)this.render(v[R],w[R]);else{A.multiDrawArraysWEBGL(r,v,0,w,0,S);let R=0;for(let B=0;B<S;B++)R+=w[B];n.update(R,r,1)}},this.renderMultiDrawInstances=function g(v,w,S,A){if(0===S)return;const R=e.get("WEBGL_multi_draw");if(null===R)for(let B=0;B<v.length;B++)f(v[B],w[B],A[B]);else{R.multiDrawArraysInstancedWEBGL(r,v,0,w,0,A,0,S);let B=0;for(let K=0;K<S;K++)B+=w[K];for(let K=0;K<A.length;K++)n.update(B,r,A[K])}}}function Av(c,e,n,r){let o;function g(ze){if("highp"===ze){if(c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision>0)return"highp";ze="mediump"}return"mediump"===ze&&c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let v=void 0!==n.precision?n.precision:"highp";const w=g(v);w!==v&&(console.warn("THREE.WebGLRenderer:",v,"not supported, using",w,"instead."),v=w);const S=!0===n.logarithmicDepthBuffer,A=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),R=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function l(){if(void 0!==o)return o;if(!0===e.has("EXT_texture_filter_anisotropic")){const ze=e.get("EXT_texture_filter_anisotropic");o=c.getParameter(ze.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o},getMaxPrecision:g,textureFormatReadable:function f(ze){return!(ze!==br&&r.convert(ze)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function h(ze){const We=1016===ze&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(ze!==Mr&&r.convert(ze)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_TYPE)&&ze!==so&&!We)},precision:v,logarithmicDepthBuffer:S,maxTextures:A,maxVertexTextures:R,maxTextureSize:c.getParameter(c.MAX_TEXTURE_SIZE),maxCubemapSize:c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:c.getParameter(c.MAX_VERTEX_ATTRIBS),maxVertexUniforms:c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:c.getParameter(c.MAX_VARYING_VECTORS),maxFragmentUniforms:c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:R>0,maxSamples:c.getParameter(c.MAX_SAMPLES)}}function Tv(c){const e=this;let n=null,r=0,o=!1,l=!1;const f=new Ac,h=new Or,g={value:null,needsUpdate:!1};function w(S,A,R,B){const K=null!==S?S.length:0;let H=null;if(0!==K){if(H=g.value,!0!==B||null===H){const U=R+4*K,ae=A.matrixWorldInverse;h.getNormalMatrix(ae),(null===H||H.length<U)&&(H=new Float32Array(U));for(let ie=0,ue=R;ie!==K;++ie,ue+=4)f.copy(S[ie]).applyMatrix4(ae,h),f.normal.toArray(H,ue),H[ue+3]=f.constant}g.value=H,g.needsUpdate=!0}return e.numPlanes=K,e.numIntersection=0,H}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(S,A){const R=0!==S.length||A||0!==r||o;return o=A,r=S.length,R},this.beginShadows=function(){l=!0,w(null)},this.endShadows=function(){l=!1},this.setGlobalState=function(S,A){n=w(S,A,0)},this.setState=function(S,A,R){const B=S.clippingPlanes,K=S.clipIntersection,H=S.clipShadows,U=c.get(S);if(!o||null===B||0===B.length||l&&!H)l?w(null):function v(){g.value!==n&&(g.value=n,g.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const ae=l?0:r,ie=4*ae;let ue=U.clippingState||null;g.value=ue,ue=w(B,A,ie,R);for(let ot=0;ot!==ie;++ot)ue[ot]=n[ot];U.clippingState=ue,this.numIntersection=K?this.numPlanes:0,this.numPlanes+=ae}}}function Dv(c){let e=new WeakMap;function n(f,h){return 303===h?f.mapping=$i:304===h&&(f.mapping=_o),f}function o(f){const h=f.target;h.removeEventListener("dispose",o);const g=e.get(h);void 0!==g&&(e.delete(h),g.dispose())}return{get:function r(f){if(f&&f.isTexture){const h=f.mapping;if(303===h||304===h){if(e.has(f))return n(e.get(f).texture,f.mapping);{const g=f.image;if(g&&g.height>0){const v=new Fx(g.height);return v.fromEquirectangularTexture(c,f),e.set(f,v),f.addEventListener("dispose",o),n(v.texture,f.mapping)}return null}}}return f},dispose:function l(){e=new WeakMap}}}class Mu extends oh{constructor(e=-1,n=1,r=1,o=-1,l=.1,f=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=o,this.near=l,this.far=f,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,n,r,o,l,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=r-e,f=r+e,h=o+n,g=o-n;if(null!==this.view&&this.view.enabled){const v=(this.right-this.left)/this.view.fullWidth/this.zoom,w=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=v*this.view.offsetX,f=l+v*this.view.width,h-=w*this.view.offsetY,g=h-w*this.view.height}this.projectionMatrix.makeOrthographic(l,f,h,g,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}const em=[.125,.215,.35,.446,.526,.582],Sh=new Mu,Iv=new vi;let tm=null,nm=0,im=0,Mh=!1;const fd=(1+Math.sqrt(5))/2,Au=1/fd,Rv=[new Ye(-fd,Au,0),new Ye(fd,Au,0),new Ye(-Au,0,fd),new Ye(Au,0,fd),new Ye(0,fd,-Au),new Ye(0,fd,Au),new Ye(-1,1,-1),new Ye(1,1,-1),new Ye(-1,1,1),new Ye(1,1,1)];class Pv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,o=100){tm=this._renderer.getRenderTarget(),nm=this._renderer.getActiveCubeFace(),im=this._renderer.getActiveMipmapLevel(),Mh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,o,l),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ic(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Nv(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tm,nm,im),this._renderer.xr.enabled=Mh,e.scissorTest=!1,Jd(e,0,0,e.width,e.height)}_fromTexture(e,n){this._setSize(e.mapping===$i||e.mapping===_o?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),tm=this._renderer.getRenderTarget(),nm=this._renderer.getActiveCubeFace(),im=this._renderer.getActiveMipmapLevel(),Mh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:mt,minFilter:mt,generateMipmaps:!1,type:1016,format:br,colorSpace:_t,depthBuffer:!1},o=Ov(e,n,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ov(e,n,r);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function tE(c){const e=[],n=[],r=[];let o=c;const l=c-4+1+em.length;for(let f=0;f<l;f++){const h=Math.pow(2,o);n.push(h);let g=1/h;f>c-4?g=em[f-c+4-1]:0===f&&(g=0),r.push(g);const v=1/(h-2),w=-v,S=1+v,A=[w,w,S,w,S,S,w,w,S,S,w,S],R=6,B=6,K=3,H=2,U=1,ae=new Float32Array(K*B*R),ie=new Float32Array(H*B*R),ue=new Float32Array(U*B*R);for(let ze=0;ze<R;ze++){const We=ze%3*2/3-1,ht=ze>2?0:-1;ae.set([We,ht,0,We+2/3,ht,0,We+2/3,ht+1,0,We,ht,0,We+2/3,ht+1,0,We,ht+1,0],K*B*ze),ie.set(A,H*B*ze),ue.set([ze,ze,ze,ze,ze,ze],U*B*ze)}const ot=new vs;ot.setAttribute("position",new Bi(ae,K)),ot.setAttribute("uv",new Bi(ie,H)),ot.setAttribute("faceIndex",new Bi(ue,U)),e.push(ot),o>4&&o--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(l)),this._blurMaterial=function rm(c,e,n){const r=new Float32Array(20),o=new Ye(0,1,0);return new fs({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(l,e,n)}return o}_compileMaterial(e){const n=new ka(this._lodPlanes[0],e);this._renderer.compile(n,Sh)}_sceneToCubeUV(e,n,r,o){const h=new Ma(90,1,n,r),g=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],w=this._renderer,S=w.autoClear,A=w.toneMapping;w.getClearColor(Iv),w.toneMapping=hr,w.autoClear=!1;const R=new T({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),B=new ka(new xu,R);let K=!1;const H=e.background;H?H.isColor&&(R.color.copy(H),e.background=null,K=!0):(R.color.copy(Iv),K=!0);for(let U=0;U<6;U++){const ae=U%3;0===ae?(h.up.set(0,g[U],0),h.lookAt(v[U],0,0)):1===ae?(h.up.set(0,0,g[U]),h.lookAt(0,v[U],0)):(h.up.set(0,g[U],0),h.lookAt(0,0,v[U]));const ie=this._cubeSize;Jd(o,ae*ie,U>2?ie:0,ie,ie),w.setRenderTarget(o),K&&w.render(B,h),w.render(e,h)}B.geometry.dispose(),B.material.dispose(),w.toneMapping=A,w.autoClear=S,e.background=H}_textureToCubeUV(e,n){const r=this._renderer,o=e.mapping===$i||e.mapping===_o;o?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ic()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Nv());const l=o?this._cubemapMaterial:this._equirectMaterial,f=new ka(this._lodPlanes[0],l);l.uniforms.envMap.value=e;const g=this._cubeSize;Jd(n,0,0,3*g,2*g),r.setRenderTarget(n),r.render(f,Sh)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const o=this._lodPlanes.length;for(let l=1;l<o;l++){const f=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]);this._blur(e,l-1,l,f,Rv[(o-l-1)%Rv.length])}n.autoClear=r}_blur(e,n,r,o,l){const f=this._pingPongRenderTarget;this._halfBlur(e,f,n,r,o,"latitudinal",l),this._halfBlur(f,e,r,r,o,"longitudinal",l)}_halfBlur(e,n,r,o,l,f,h){const g=this._renderer,v=this._blurMaterial;"latitudinal"!==f&&"longitudinal"!==f&&console.error("blur direction must be either latitudinal or longitudinal!");const S=new ka(this._lodPlanes[o],v),A=v.uniforms,R=this._sizeLods[r]-1,B=isFinite(l)?Math.PI/(2*R):2*Math.PI/39,K=l/B,H=isFinite(l)?1+Math.floor(3*K):20;H>20&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${H} samples when the maximum is set to 20`);const U=[];let ae=0;for(let We=0;We<20;++We){const ht=We/K,Ne=Math.exp(-ht*ht/2);U.push(Ne),0===We?ae+=Ne:We<H&&(ae+=2*Ne)}for(let We=0;We<U.length;We++)U[We]=U[We]/ae;A.envMap.value=e.texture,A.samples.value=H,A.weights.value=U,A.latitudinal.value="latitudinal"===f,h&&(A.poleAxis.value=h);const{_lodMax:ie}=this;A.dTheta.value=B,A.mipInt.value=ie-r;const ue=this._sizeLods[o];Jd(n,3*ue*(o>ie-4?o-ie+4:0),4*(this._cubeSize-ue),3*ue,2*ue),g.setRenderTarget(n),g.render(S,Sh)}}function Ov(c,e,n){const r=new Qa(c,e,n);return r.texture.mapping=ds,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Jd(c,e,n,r,o){c.viewport.set(e,n,r,o),c.scissor.set(e,n,r,o)}function Nv(){return new fs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Ic(){return new fs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function V_(c){let e=new WeakMap,n=null;function l(h){const g=h.target;g.removeEventListener("dispose",l);const v=e.get(g);void 0!==v&&(e.delete(g),v.dispose())}return{get:function r(h){if(h&&h.isTexture){const g=h.mapping,v=303===g||304===g,w=g===$i||g===_o;if(v||w){let S=e.get(h);if(h.isRenderTargetTexture&&h.pmremVersion!==(void 0!==S?S.texture.pmremVersion:0))return null===n&&(n=new Pv(c)),S=v?n.fromEquirectangular(h,S):n.fromCubemap(h,S),S.texture.pmremVersion=h.pmremVersion,e.set(h,S),S.texture;if(void 0!==S)return S.texture;{const R=h.image;return v&&R&&R.height>0||w&&R&&function o(h){let g=0;for(let w=0;w<6;w++)void 0!==h[w]&&g++;return 6===g}(R)?(null===n&&(n=new Pv(c)),S=v?n.fromEquirectangular(h):n.fromCubemap(h),S.texture.pmremVersion=h.pmremVersion,e.set(h,S),h.addEventListener("dispose",l),S.texture):null}}}return h},dispose:function f(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lv(c){const e={};function n(r){if(void 0!==e[r])return e[r];let o;switch(r){case"WEBGL_depth_texture":o=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=c.getExtension(r)}return e[r]=o,o}return{has:function(r){return null!==n(r)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const o=n(r);return null===o&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function sm(c,e,n,r){const o={},l=new WeakMap;function f(S){const A=S.target;null!==A.index&&e.remove(A.index);for(const B in A.attributes)e.remove(A.attributes[B]);for(const B in A.morphAttributes){const K=A.morphAttributes[B];for(let H=0,U=K.length;H<U;H++)e.remove(K[H])}A.removeEventListener("dispose",f),delete o[A.id];const R=l.get(A);R&&(e.remove(R),l.delete(A)),r.releaseStatesOfGeometry(A),!0===A.isInstancedBufferGeometry&&delete A._maxInstanceCount,n.memory.geometries--}function v(S){const A=[],R=S.index,B=S.attributes.position;let K=0;if(null!==R){const ae=R.array;K=R.version;for(let ie=0,ue=ae.length;ie<ue;ie+=3){const ot=ae[ie+0],ze=ae[ie+1],We=ae[ie+2];A.push(ot,ze,ze,We,We,ot)}}else{if(void 0===B)return;K=B.version;for(let ie=0,ue=B.array.length/3-1;ie<ue;ie+=3){const ot=ie+0,ze=ie+1,We=ie+2;A.push(ot,ze,ze,We,We,ot)}}const H=new(fl(A)?Sc:el)(A,1);H.version=K;const U=l.get(S);U&&e.remove(U),l.set(S,H)}return{get:function h(S,A){return!0===o[A.id]||(A.addEventListener("dispose",f),o[A.id]=!0,n.memory.geometries++),A},update:function g(S){const A=S.attributes;for(const B in A)e.update(A[B],c.ARRAY_BUFFER);const R=S.morphAttributes;for(const B in R){const K=R[B];for(let H=0,U=K.length;H<U;H++)e.update(K[H],c.ARRAY_BUFFER)}},getWireframeAttribute:function w(S){const A=l.get(S);if(A){const R=S.index;null!==R&&A.version<R.version&&v(S)}else v(S);return l.get(S)}}}function nE(c,e,n){let r,l,f;function v(A,R,B){0!==B&&(c.drawElementsInstanced(r,R,l,A*f,B),n.update(R,r,B))}this.setMode=function o(A){r=A},this.setIndex=function h(A){l=A.type,f=A.bytesPerElement},this.render=function g(A,R){c.drawElements(r,R,l,A*f),n.update(R,r,1)},this.renderInstances=v,this.renderMultiDraw=function w(A,R,B){if(0===B)return;const K=e.get("WEBGL_multi_draw");if(null===K)for(let H=0;H<B;H++)this.render(A[H]/f,R[H]);else{K.multiDrawElementsWEBGL(r,R,0,l,A,0,B);let H=0;for(let U=0;U<B;U++)H+=R[U];n.update(H,r,1)}},this.renderMultiDrawInstances=function S(A,R,B,K){if(0===B)return;const H=e.get("WEBGL_multi_draw");if(null===H)for(let U=0;U<A.length;U++)v(A[U]/f,R[U],K[U]);else{H.multiDrawElementsInstancedWEBGL(r,R,0,l,A,0,K,0,B);let U=0;for(let ae=0;ae<B;ae++)U+=R[ae];for(let ae=0;ae<K.length;ae++)n.update(U,r,K[ae])}}}function iE(c){const n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function o(){n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function r(l,f,h){switch(n.calls++,f){case c.TRIANGLES:n.triangles+=h*(l/3);break;case c.LINES:n.lines+=h*(l/2);break;case c.LINE_STRIP:n.lines+=h*(l-1);break;case c.LINE_LOOP:n.lines+=h*l;break;case c.POINTS:n.points+=h*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",f)}}}}function z_(c,e,n){const r=new WeakMap,o=new fo;return{update:function l(f,h,g){const v=f.morphTargetInfluences,w=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=void 0!==w?w.length:0;let A=r.get(h);if(void 0===A||A.count!==S){let Ne=function(){We.dispose(),r.delete(h),h.removeEventListener("dispose",Ne)};void 0!==A&&A.texture.dispose();const R=void 0!==h.morphAttributes.position,B=void 0!==h.morphAttributes.normal,K=void 0!==h.morphAttributes.color,H=h.morphAttributes.position||[],U=h.morphAttributes.normal||[],ae=h.morphAttributes.color||[];let ie=0;!0===R&&(ie=1),!0===B&&(ie=2),!0===K&&(ie=3);let ue=h.attributes.position.count*ie,ot=1;ue>e.maxTextureSize&&(ot=Math.ceil(ue/e.maxTextureSize),ue=e.maxTextureSize);const ze=new Float32Array(ue*ot*4*S),We=new Ol(ze,ue,ot,S);We.type=so,We.needsUpdate=!0;const ht=4*ie;for(let xe=0;xe<S;xe++){const Kt=H[xe],gn=U[xe],Nt=ae[xe],_n=ue*ot*4*xe;for(let kn=0;kn<Kt.count;kn++){const Wn=kn*ht;!0===R&&(o.fromBufferAttribute(Kt,kn),ze[_n+Wn+0]=o.x,ze[_n+Wn+1]=o.y,ze[_n+Wn+2]=o.z,ze[_n+Wn+3]=0),!0===B&&(o.fromBufferAttribute(gn,kn),ze[_n+Wn+4]=o.x,ze[_n+Wn+5]=o.y,ze[_n+Wn+6]=o.z,ze[_n+Wn+7]=0),!0===K&&(o.fromBufferAttribute(Nt,kn),ze[_n+Wn+8]=o.x,ze[_n+Wn+9]=o.y,ze[_n+Wn+10]=o.z,ze[_n+Wn+11]=4===Nt.itemSize?o.w:1)}}A={count:S,texture:We,size:new Vn(ue,ot)},r.set(h,A),h.addEventListener("dispose",Ne)}if(!0===f.isInstancedMesh&&null!==f.morphTexture)g.getUniforms().setValue(c,"morphTexture",f.morphTexture,n);else{let R=0;for(let K=0;K<v.length;K++)R+=v[K];const B=h.morphTargetsRelative?1:1-R;g.getUniforms().setValue(c,"morphTargetBaseInfluence",B),g.getUniforms().setValue(c,"morphTargetInfluences",v)}g.getUniforms().setValue(c,"morphTargetsTexture",A.texture,n),g.getUniforms().setValue(c,"morphTargetsTextureSize",A.size)}}}function H_(c,e,n,r){let o=new WeakMap;function h(g){const v=g.target;v.removeEventListener("dispose",h),n.remove(v.instanceMatrix),null!==v.instanceColor&&n.remove(v.instanceColor)}return{update:function l(g){const v=r.render.frame,S=e.get(g,g.geometry);if(o.get(S)!==v&&(e.update(S),o.set(S,v)),g.isInstancedMesh&&(!1===g.hasEventListener("dispose",h)&&g.addEventListener("dispose",h),o.get(g)!==v&&(n.update(g.instanceMatrix,c.ARRAY_BUFFER),null!==g.instanceColor&&n.update(g.instanceColor,c.ARRAY_BUFFER),o.set(g,v))),g.isSkinnedMesh){const A=g.skeleton;o.get(A)!==v&&(A.update(),o.set(A,v))}return S},dispose:function f(){o=new WeakMap}}}class Fv extends Ea{constructor(e,n,r,o,l,f,h,g,v,w){if((w=void 0!==w?w:Ps)!==Ps&&w!==Os)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&w===Ps&&(r=aa),void 0===r&&w===Os&&(r=So),super(null,o,l,f,h,g,w,r,v),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=void 0!==h?h:ss,this.minFilter=void 0!==g?g:ss,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return null!==this.compareFunction&&(n.compareFunction=this.compareFunction),n}}const $_=new Ea,G_=new Fv(1,1);G_.compareFunction=515;const ef=new Ol,kv=new Zl,Ah=new ah,Th=[],Tu=[],tf=new Float32Array(16),nf=new Float32Array(9),Du=new Float32Array(4);function fc(c,e,n){const r=c[0];if(r<=0||r>0)return c;const o=e*n;let l=Th[o];if(void 0===l&&(l=new Float32Array(o),Th[o]=l),0!==e){r.toArray(l,0);for(let f=1,h=0;f!==e;++f)h+=n,c[f].toArray(l,h)}return l}function fa(c,e){if(c.length!==e.length)return!1;for(let n=0,r=c.length;n<r;n++)if(c[n]!==e[n])return!1;return!0}function Ia(c,e){for(let n=0,r=e.length;n<r;n++)c[n]=e[n]}function Iu(c,e){let n=Tu[e];void 0===n&&(n=new Int32Array(e),Tu[e]=n);for(let r=0;r!==e;++r)n[r]=c.allocateTextureUnit();return n}function rf(c,e){const n=this.cache;n[0]!==e&&(c.uniform1f(this.addr,e),n[0]=e)}function rE(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fa(n,e))return;c.uniform2fv(this.addr,e),Ia(n,e)}}function om(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(fa(n,e))return;c.uniform3fv(this.addr,e),Ia(n,e)}}function sf(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fa(n,e))return;c.uniform4fv(this.addr,e),Ia(n,e)}}function j_(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(fa(n,e))return;c.uniformMatrix2fv(this.addr,!1,e),Ia(n,e)}else{if(fa(n,r))return;Du.set(r),c.uniformMatrix2fv(this.addr,!1,Du),Ia(n,r)}}function Uv(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(fa(n,e))return;c.uniformMatrix3fv(this.addr,!1,e),Ia(n,e)}else{if(fa(n,r))return;nf.set(r),c.uniformMatrix3fv(this.addr,!1,nf),Ia(n,r)}}function W_(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(fa(n,e))return;c.uniformMatrix4fv(this.addr,!1,e),Ia(n,e)}else{if(fa(n,r))return;tf.set(r),c.uniformMatrix4fv(this.addr,!1,tf),Ia(n,r)}}function X_(c,e){const n=this.cache;n[0]!==e&&(c.uniform1i(this.addr,e),n[0]=e)}function am(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fa(n,e))return;c.uniform2iv(this.addr,e),Ia(n,e)}}function Bv(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fa(n,e))return;c.uniform3iv(this.addr,e),Ia(n,e)}}function q_(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fa(n,e))return;c.uniform4iv(this.addr,e),Ia(n,e)}}function K_(c,e){const n=this.cache;n[0]!==e&&(c.uniform1ui(this.addr,e),n[0]=e)}function af(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fa(n,e))return;c.uniform2uiv(this.addr,e),Ia(n,e)}}function Vv(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fa(n,e))return;c.uniform3uiv(this.addr,e),Ia(n,e)}}function lm(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fa(n,e))return;c.uniform4uiv(this.addr,e),Ia(n,e)}}function Y_(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture2D(e||(this.type===c.SAMPLER_2D_SHADOW?G_:$_),o)}function sE(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||kv,o)}function oE(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(e||Ah,o)}function lf(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||ef,o)}function Dh(c,e){c.uniform1fv(this.addr,e)}function cm(c,e){const n=fc(e,this.size,2);c.uniform2fv(this.addr,n)}function Q_(c,e){const n=fc(e,this.size,3);c.uniform3fv(this.addr,n)}function zv(c,e){const n=fc(e,this.size,4);c.uniform4fv(this.addr,n)}function um(c,e){const n=fc(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,n)}function Ih(c,e){const n=fc(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,n)}function Rh(c,e){const n=fc(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,n)}function Hv(c,e){c.uniform1iv(this.addr,e)}function $v(c,e){c.uniform2iv(this.addr,e)}function Gv(c,e){c.uniform3iv(this.addr,e)}function Ph(c,e){c.uniform4iv(this.addr,e)}function dm(c,e){c.uniform1uiv(this.addr,e)}function hd(c,e){c.uniform2uiv(this.addr,e)}function J_(c,e){c.uniform3uiv(this.addr,e)}function eb(c,e){c.uniform4uiv(this.addr,e)}function aE(c,e,n){const r=this.cache,o=e.length,l=Iu(n,o);fa(r,l)||(c.uniform1iv(this.addr,l),Ia(r,l));for(let f=0;f!==o;++f)n.setTexture2D(e[f]||$_,l[f])}function Oh(c,e,n){const r=this.cache,o=e.length,l=Iu(n,o);fa(r,l)||(c.uniform1iv(this.addr,l),Ia(r,l));for(let f=0;f!==o;++f)n.setTexture3D(e[f]||kv,l[f])}function fm(c,e,n){const r=this.cache,o=e.length,l=Iu(n,o);fa(r,l)||(c.uniform1iv(this.addr,l),Ia(r,l));for(let f=0;f!==o;++f)n.setTextureCube(e[f]||Ah,l[f])}function jv(c,e,n){const r=this.cache,o=e.length,l=Iu(n,o);fa(r,l)||(c.uniform1iv(this.addr,l),Ia(r,l));for(let f=0;f!==o;++f)n.setTexture2DArray(e[f]||ef,l[f])}class Xv{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function Z_(c){switch(c){case 5126:return rf;case 35664:return rE;case 35665:return om;case 35666:return sf;case 35674:return j_;case 35675:return Uv;case 35676:return W_;case 5124:case 35670:return X_;case 35667:case 35671:return am;case 35668:case 35672:return Bv;case 35669:case 35673:return q_;case 5125:return K_;case 36294:return af;case 36295:return Vv;case 36296:return lm;case 35678:case 36198:case 36298:case 36306:case 35682:return Y_;case 35679:case 36299:case 36307:return sE;case 35680:case 36300:case 36308:case 36293:return oE;case 36289:case 36303:case 36311:case 36292:return lf}}(n.type)}}class qv{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function Wv(c){switch(c){case 5126:return Dh;case 35664:return cm;case 35665:return Q_;case 35666:return zv;case 35674:return um;case 35675:return Ih;case 35676:return Rh;case 5124:case 35670:return Hv;case 35667:case 35671:return $v;case 35668:case 35672:return Gv;case 35669:case 35673:return Ph;case 5125:return dm;case 36294:return hd;case 36295:return J_;case 36296:return eb;case 35678:case 36198:case 36298:case 36306:case 35682:return aE;case 35679:case 36299:case 36307:return Oh;case 35680:case 36300:case 36308:case 36293:return fm;case 36289:case 36303:case 36311:case 36292:return jv}}(n.type)}}class tb{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const o=this.seq;for(let l=0,f=o.length;l!==f;++l){const h=o[l];h.setValue(e,n[h.id],r)}}}const hm=/(\w+)(\])?(\[|\.)?/g;function Kv(c,e){c.seq.push(e),c.map[e.id]=e}function nb(c,e,n){const r=c.name,o=r.length;for(hm.lastIndex=0;;){const l=hm.exec(r);let h=l[1];const v=l[3];if("]"===l[2]&&(h|=0),void 0===v||"["===v&&hm.lastIndex+2===o){Kv(n,void 0===v?new Xv(h,c,e):new qv(h,c,e));break}{let S=n.map[h];void 0===S&&(S=new tb(h),Kv(n,S)),n=S}}}class Nh{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const l=e.getActiveUniform(n,o);nb(l,e.getUniformLocation(n,l.name),this)}}setValue(e,n,r,o){const l=this.map[n];void 0!==l&&l.setValue(e,r,o)}setOptional(e,n,r){const o=n[r];void 0!==o&&this.setValue(e,r,o)}static upload(e,n,r,o){for(let l=0,f=n.length;l!==f;++l){const h=n[l],g=r[h.id];!1!==g.needsUpdate&&h.setValue(e,g.value,o)}}static seqWithValue(e,n){const r=[];for(let o=0,l=e.length;o!==l;++o){const f=e[o];f.id in n&&r.push(f)}return r}}function Rc(c,e,n){const r=c.createShader(e);return c.shaderSource(r,n),c.compileShader(r),r}const cf=37297;let ib=0;function rb(c,e,n){const r=c.getShaderParameter(e,c.COMPILE_STATUS),o=c.getShaderInfoLog(e).trim();if(r&&""===o)return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const f=parseInt(l[1]);return n.toUpperCase()+"\n\n"+o+"\n\n"+function lE(c,e){const n=c.split("\n"),r=[],o=Math.max(e-6,0),l=Math.min(e+6,n.length);for(let f=o;f<l;f++){const h=f+1;r.push(`${h===e?">":" "} ${h}: ${n[f]}`)}return r.join("\n")}(c.getShaderSource(e),f)}return o}function uE(c,e){const n=function cE(c){const e=eo.getPrimaries(eo.workingColorSpace),n=eo.getPrimaries(c);let r;switch(e===n?r="":e===Ri&&n===di?r="LinearDisplayP3ToLinearSRGB":e===di&&n===Ri&&(r="LinearSRGBToLinearDisplayP3"),c){case _t:case On:return[r,"LinearTransferOETF"];case Mt:case En:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",c),[r,"LinearTransferOETF"]}}(e);return`vec4 ${c}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function dE(c,e){let n;switch(e){case zr:n="Linear";break;case kr:n="Reinhard";break;case Di:n="OptimizedCineon";break;case wi:n="ACESFilmic";break;case Hr:n="AgX";break;case wr:n="Neutral";break;case Ur:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+c+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uf(c){return""!==c}function Zv(c,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Lh(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Pc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ru(c){return c.replace(Pc,Jv)}const Qv=new Map;function Jv(c,e){let n=Fs[e];if(void 0===n){const r=Qv.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");n=Fs[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return Ru(n)}const e0=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ab(c){return c.replace(e0,fE)}function fE(c,e,n,r){let o="";for(let l=parseInt(e);l<parseInt(n);l++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return o}function lb(c){let e=`precision ${c.precision} float;\n\tprecision ${c.precision} int;\n\tprecision ${c.precision} sampler2D;\n\tprecision ${c.precision} samplerCube;\n\tprecision ${c.precision} sampler3D;\n\tprecision ${c.precision} sampler2DArray;\n\tprecision ${c.precision} sampler2DShadow;\n\tprecision ${c.precision} samplerCubeShadow;\n\tprecision ${c.precision} sampler2DArrayShadow;\n\tprecision ${c.precision} isampler2D;\n\tprecision ${c.precision} isampler3D;\n\tprecision ${c.precision} isamplerCube;\n\tprecision ${c.precision} isampler2DArray;\n\tprecision ${c.precision} usampler2D;\n\tprecision ${c.precision} usampler3D;\n\tprecision ${c.precision} usamplerCube;\n\tprecision ${c.precision} usampler2DArray;\n\t`;return"highp"===c.precision?e+="\n#define HIGH_PRECISION":"mediump"===c.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===c.precision&&(e+="\n#define LOW_PRECISION"),e}function cb(c,e,n,r){const o=c.getContext(),l=n.defines;let f=n.vertexShader,h=n.fragmentShader;const g=function pm(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===It?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===rn?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===Ut&&(e="SHADOWMAP_TYPE_VSM"),e}(n),v=function mm(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case $i:case _o:e="ENVMAP_TYPE_CUBE";break;case ds:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),w=function hE(c){let e="ENVMAP_MODE_REFLECTION";return c.envMap&&c.envMapMode===_o&&(e="ENVMAP_MODE_REFRACTION"),e}(n),S=function pE(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case nn:e="ENVMAP_BLENDING_MULTIPLY";break;case cn:e="ENVMAP_BLENDING_MIX";break;case gi:e="ENVMAP_BLENDING_ADD"}return e}(n),A=function t0(c){const e=c.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),R=function Yv(c){return[c.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",c.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uf).join("\n")}(n),B=function sb(c){const e=[];for(const n in c){const r=c[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(l),K=o.createProgram();let H,U,ae=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(H=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B].filter(uf).join("\n"),H.length>0&&(H+="\n"),U=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B].filter(uf).join("\n"),U.length>0&&(U+="\n")):(H=[lb(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+w:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(uf).join("\n"),U=[lb(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+v:"",n.envMap?"#define "+w:"",n.envMap?"#define "+S:"",A?"#define CUBEUV_TEXEL_WIDTH "+A.texelWidth:"",A?"#define CUBEUV_TEXEL_HEIGHT "+A.texelHeight:"",A?"#define CUBEUV_MAX_MIP "+A.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==hr?"#define TONE_MAPPING":"",n.toneMapping!==hr?Fs.tonemapping_pars_fragment:"",n.toneMapping!==hr?dE("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Fs.colorspace_pars_fragment,uE("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(uf).join("\n")),f=Ru(f),f=Zv(f,n),f=Lh(f,n),h=Ru(h),h=Zv(h,n),h=Lh(h,n),f=ab(f),h=ab(h),!0!==n.isRawShaderMaterial&&(ae="#version 300 es\n",H=[R,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+H,U=["#define varying in",n.glslVersion===Ht?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ht?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+U);const ue=ae+U+h,ot=Rc(o,o.VERTEX_SHADER,ae+H+f),ze=Rc(o,o.FRAGMENT_SHADER,ue);function We(Kt){if(c.debug.checkShaderErrors){const gn=o.getProgramInfoLog(K).trim(),Nt=o.getShaderInfoLog(ot).trim(),_n=o.getShaderInfoLog(ze).trim();let kn=!0,Wn=!0;if(!1===o.getProgramParameter(K,o.LINK_STATUS))if(kn=!1,"function"==typeof c.debug.onShaderError)c.debug.onShaderError(o,K,ot,ze);else{const Oi=rb(o,ot,"vertex"),Nn=rb(o,ze,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(K,o.VALIDATE_STATUS)+"\n\nMaterial Name: "+Kt.name+"\nMaterial Type: "+Kt.type+"\n\nProgram Info Log: "+gn+"\n"+Oi+"\n"+Nn)}else""!==gn?console.warn("THREE.WebGLProgram: Program Info Log:",gn):(""===Nt||""===_n)&&(Wn=!1);Wn&&(Kt.diagnostics={runnable:kn,programLog:gn,vertexShader:{log:Nt,prefix:H},fragmentShader:{log:_n,prefix:U}})}o.deleteShader(ot),o.deleteShader(ze),ht=new Nh(o,K),Ne=function ob(c,e){const n={},r=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const l=c.getActiveAttrib(e,o),f=l.name;let h=1;l.type===c.FLOAT_MAT2&&(h=2),l.type===c.FLOAT_MAT3&&(h=3),l.type===c.FLOAT_MAT4&&(h=4),n[f]={type:l.type,location:c.getAttribLocation(e,f),locationSize:h}}return n}(o,K)}let ht,Ne;o.attachShader(K,ot),o.attachShader(K,ze),void 0!==n.index0AttributeName?o.bindAttribLocation(K,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(K,0,"position"),o.linkProgram(K),this.getUniforms=function(){return void 0===ht&&We(this),ht},this.getAttributes=function(){return void 0===Ne&&We(this),Ne};let xe=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===xe&&(xe=o.getProgramParameter(K,cf)),xe},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(K),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ib++,this.cacheKey=e,this.usedTimes=1,this.program=K,this.vertexShader=ot,this.fragmentShader=ze,this}let ub=0;class db{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,o=this._getShaderStage(e.vertexShader),l=this._getShaderStage(r),f=this._getShaderCacheForMaterial(e);return!1===f.has(o)&&(f.add(o),o.usedTimes++),!1===f.has(l)&&(f.add(l),l.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return void 0===r&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return void 0===r&&(r=new fb(e),n.set(e,r)),r}}class fb{constructor(e){this.id=ub++,this.code=e,this.usedTimes=0}}function hb(c,e,n,r,o,l,f){const h=new _,g=new db,v=new Set,w=[],S=o.logarithmicDepthBuffer,A=o.vertexTextures;let R=o.precision;const B={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function K(Ne){return v.add(Ne),0===Ne?"uv":`uv${Ne}`}return{getParameters:function H(Ne,xe,Kt,gn,Nt){const _n=gn.fog,kn=Nt.geometry,Oi=(Ne.isMeshStandardMaterial?n:e).get(Ne.envMap||(Ne.isMeshStandardMaterial?gn.environment:null)),Nn=Oi&&Oi.mapping===ds?Oi.image.height:null,mi=B[Ne.type];null!==Ne.precision&&(R=o.getMaxPrecision(Ne.precision),R!==Ne.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ne.precision,"not supported, using",R,"instead."));const yi=kn.morphAttributes.position||kn.morphAttributes.normal||kn.morphAttributes.color,sr=void 0!==yi?yi.length:0;let ws,Bn,Mi,qi,bs=0;if(void 0!==kn.morphAttributes.position&&(bs=1),void 0!==kn.morphAttributes.normal&&(bs=2),void 0!==kn.morphAttributes.color&&(bs=3),mi){const uo=tc[mi];ws=uo.vertexShader,Bn=uo.fragmentShader}else ws=Ne.vertexShader,Bn=Ne.fragmentShader,g.update(Ne),Mi=g.getVertexShaderID(Ne),qi=g.getFragmentShaderID(Ne);const Ti=c.getRenderTarget(),is=!0===Nt.isInstancedMesh,tn=!!Ne.map,qn=!!Oi,_i=!!Ne.aoMap,Yn=!!Ne.lightMap,Vi=!!Ne.bumpMap,hi=!!Ne.normalMap,cr=!!Ne.displacementMap,$r=!!Ne.emissiveMap,ft=!!Ne.metalnessMap,Be=!!Ne.roughnessMap,bn=Ne.anisotropy>0,Zn=Ne.clearcoat>0,ii=Ne.iridescence>0,Lr=Ne.sheen>0,Ki=Ne.transmission>0,ji=bn&&!!Ne.anisotropyMap,_s=Zn&&!!Ne.clearcoatMap,Fi=Zn&&!!Ne.clearcoatNormalMap,Pr=Zn&&!!Ne.clearcoatRoughnessMap,Hs=ii&&!!Ne.iridescenceMap,Qr=ii&&!!Ne.iridescenceThicknessMap,tr=Lr&&!!Ne.sheenColorMap,Us=Lr&&!!Ne.sheenRoughnessMap,no=!!Ne.specularMap,zo=!!Ne.specularColorMap,$s=!!Ne.specularIntensityMap,Ce=Ki&&!!Ne.transmissionMap,an=Ki&&!!Ne.thicknessMap,ci=!!Ne.alphaMap,Ms=!!Ne.extensions;let ra=hr;Ne.toneMapped&&(null===Ti||!0===Ti.isXRRenderTarget)&&(ra=c.toneMapping);const _a={shaderID:mi,shaderType:Ne.type,shaderName:Ne.name,vertexShader:ws,fragmentShader:Bn,defines:Ne.defines,customVertexShaderID:Mi,customFragmentShaderID:qi,isRawShaderMaterial:!0===Ne.isRawShaderMaterial,glslVersion:Ne.glslVersion,precision:R,batching:!0===Nt.isBatchedMesh,instancing:is,instancingColor:is&&null!==Nt.instanceColor,instancingMorph:is&&null!==Nt.morphTexture,supportsVertexTextures:A,outputColorSpace:null===Ti?c.outputColorSpace:!0===Ti.isXRRenderTarget?Ti.texture.colorSpace:_t,alphaToCoverage:!!Ne.alphaToCoverage,map:tn,matcap:!!Ne.matcap,envMap:qn,envMapMode:qn&&Oi.mapping,envMapCubeUVHeight:Nn,aoMap:_i,lightMap:Yn,bumpMap:Vi,normalMap:hi,displacementMap:A&&cr,emissiveMap:$r,normalMapObjectSpace:hi&&1===Ne.normalMapType,normalMapTangentSpace:hi&&0===Ne.normalMapType,metalnessMap:ft,roughnessMap:Be,anisotropy:bn,anisotropyMap:ji,clearcoat:Zn,clearcoatMap:_s,clearcoatNormalMap:Fi,clearcoatRoughnessMap:Pr,dispersion:Ne.dispersion>0,iridescence:ii,iridescenceMap:Hs,iridescenceThicknessMap:Qr,sheen:Lr,sheenColorMap:tr,sheenRoughnessMap:Us,specularMap:no,specularColorMap:zo,specularIntensityMap:$s,transmission:Ki,transmissionMap:Ce,thicknessMap:an,gradientMap:!!Ne.gradientMap,opaque:!1===Ne.transparent&&1===Ne.blending&&!1===Ne.alphaToCoverage,alphaMap:ci,alphaTest:Ne.alphaTest>0,alphaHash:!!Ne.alphaHash,combine:Ne.combine,mapUv:tn&&K(Ne.map.channel),aoMapUv:_i&&K(Ne.aoMap.channel),lightMapUv:Yn&&K(Ne.lightMap.channel),bumpMapUv:Vi&&K(Ne.bumpMap.channel),normalMapUv:hi&&K(Ne.normalMap.channel),displacementMapUv:cr&&K(Ne.displacementMap.channel),emissiveMapUv:$r&&K(Ne.emissiveMap.channel),metalnessMapUv:ft&&K(Ne.metalnessMap.channel),roughnessMapUv:Be&&K(Ne.roughnessMap.channel),anisotropyMapUv:ji&&K(Ne.anisotropyMap.channel),clearcoatMapUv:_s&&K(Ne.clearcoatMap.channel),clearcoatNormalMapUv:Fi&&K(Ne.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pr&&K(Ne.clearcoatRoughnessMap.channel),iridescenceMapUv:Hs&&K(Ne.iridescenceMap.channel),iridescenceThicknessMapUv:Qr&&K(Ne.iridescenceThicknessMap.channel),sheenColorMapUv:tr&&K(Ne.sheenColorMap.channel),sheenRoughnessMapUv:Us&&K(Ne.sheenRoughnessMap.channel),specularMapUv:no&&K(Ne.specularMap.channel),specularColorMapUv:zo&&K(Ne.specularColorMap.channel),specularIntensityMapUv:$s&&K(Ne.specularIntensityMap.channel),transmissionMapUv:Ce&&K(Ne.transmissionMap.channel),thicknessMapUv:an&&K(Ne.thicknessMap.channel),alphaMapUv:ci&&K(Ne.alphaMap.channel),vertexTangents:!!kn.attributes.tangent&&(hi||bn),vertexColors:Ne.vertexColors,vertexAlphas:!0===Ne.vertexColors&&!!kn.attributes.color&&4===kn.attributes.color.itemSize,pointsUvs:!0===Nt.isPoints&&!!kn.attributes.uv&&(tn||ci),fog:!!_n,useFog:!0===Ne.fog,fogExp2:!!_n&&_n.isFogExp2,flatShading:!0===Ne.flatShading,sizeAttenuation:!0===Ne.sizeAttenuation,logarithmicDepthBuffer:S,skinning:!0===Nt.isSkinnedMesh,morphTargets:void 0!==kn.morphAttributes.position,morphNormals:void 0!==kn.morphAttributes.normal,morphColors:void 0!==kn.morphAttributes.color,morphTargetsCount:sr,morphTextureStride:bs,numDirLights:xe.directional.length,numPointLights:xe.point.length,numSpotLights:xe.spot.length,numSpotLightMaps:xe.spotLightMap.length,numRectAreaLights:xe.rectArea.length,numHemiLights:xe.hemi.length,numDirLightShadows:xe.directionalShadowMap.length,numPointLightShadows:xe.pointShadowMap.length,numSpotLightShadows:xe.spotShadowMap.length,numSpotLightShadowsWithMaps:xe.numSpotLightShadowsWithMaps,numLightProbes:xe.numLightProbes,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:Ne.dithering,shadowMapEnabled:c.shadowMap.enabled&&Kt.length>0,shadowMapType:c.shadowMap.type,toneMapping:ra,useLegacyLights:c._useLegacyLights,decodeVideoTexture:tn&&!0===Ne.map.isVideoTexture&&eo.getTransfer(Ne.map.colorSpace)===Mn,premultipliedAlpha:Ne.premultipliedAlpha,doubleSided:2===Ne.side,flipSided:1===Ne.side,useDepthPacking:Ne.depthPacking>=0,depthPacking:Ne.depthPacking||0,index0AttributeName:Ne.index0AttributeName,extensionClipCullDistance:Ms&&!0===Ne.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Ms&&!0===Ne.extensions.multiDraw&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ne.customProgramCacheKey()};return _a.vertexUv1s=v.has(1),_a.vertexUv2s=v.has(2),_a.vertexUv3s=v.has(3),v.clear(),_a},getProgramCacheKey:function U(Ne){const xe=[];if(Ne.shaderID?xe.push(Ne.shaderID):(xe.push(Ne.customVertexShaderID),xe.push(Ne.customFragmentShaderID)),void 0!==Ne.defines)for(const Kt in Ne.defines)xe.push(Kt),xe.push(Ne.defines[Kt]);return!1===Ne.isRawShaderMaterial&&(function ae(Ne,xe){Ne.push(xe.precision),Ne.push(xe.outputColorSpace),Ne.push(xe.envMapMode),Ne.push(xe.envMapCubeUVHeight),Ne.push(xe.mapUv),Ne.push(xe.alphaMapUv),Ne.push(xe.lightMapUv),Ne.push(xe.aoMapUv),Ne.push(xe.bumpMapUv),Ne.push(xe.normalMapUv),Ne.push(xe.displacementMapUv),Ne.push(xe.emissiveMapUv),Ne.push(xe.metalnessMapUv),Ne.push(xe.roughnessMapUv),Ne.push(xe.anisotropyMapUv),Ne.push(xe.clearcoatMapUv),Ne.push(xe.clearcoatNormalMapUv),Ne.push(xe.clearcoatRoughnessMapUv),Ne.push(xe.iridescenceMapUv),Ne.push(xe.iridescenceThicknessMapUv),Ne.push(xe.sheenColorMapUv),Ne.push(xe.sheenRoughnessMapUv),Ne.push(xe.specularMapUv),Ne.push(xe.specularColorMapUv),Ne.push(xe.specularIntensityMapUv),Ne.push(xe.transmissionMapUv),Ne.push(xe.thicknessMapUv),Ne.push(xe.combine),Ne.push(xe.fogExp2),Ne.push(xe.sizeAttenuation),Ne.push(xe.morphTargetsCount),Ne.push(xe.morphAttributeCount),Ne.push(xe.numDirLights),Ne.push(xe.numPointLights),Ne.push(xe.numSpotLights),Ne.push(xe.numSpotLightMaps),Ne.push(xe.numHemiLights),Ne.push(xe.numRectAreaLights),Ne.push(xe.numDirLightShadows),Ne.push(xe.numPointLightShadows),Ne.push(xe.numSpotLightShadows),Ne.push(xe.numSpotLightShadowsWithMaps),Ne.push(xe.numLightProbes),Ne.push(xe.shadowMapType),Ne.push(xe.toneMapping),Ne.push(xe.numClippingPlanes),Ne.push(xe.numClipIntersection),Ne.push(xe.depthPacking)}(xe,Ne),function ie(Ne,xe){h.disableAll(),xe.supportsVertexTextures&&h.enable(0),xe.instancing&&h.enable(1),xe.instancingColor&&h.enable(2),xe.instancingMorph&&h.enable(3),xe.matcap&&h.enable(4),xe.envMap&&h.enable(5),xe.normalMapObjectSpace&&h.enable(6),xe.normalMapTangentSpace&&h.enable(7),xe.clearcoat&&h.enable(8),xe.iridescence&&h.enable(9),xe.alphaTest&&h.enable(10),xe.vertexColors&&h.enable(11),xe.vertexAlphas&&h.enable(12),xe.vertexUv1s&&h.enable(13),xe.vertexUv2s&&h.enable(14),xe.vertexUv3s&&h.enable(15),xe.vertexTangents&&h.enable(16),xe.anisotropy&&h.enable(17),xe.alphaHash&&h.enable(18),xe.batching&&h.enable(19),xe.dispersion&&h.enable(20),Ne.push(h.mask),h.disableAll(),xe.fog&&h.enable(0),xe.useFog&&h.enable(1),xe.flatShading&&h.enable(2),xe.logarithmicDepthBuffer&&h.enable(3),xe.skinning&&h.enable(4),xe.morphTargets&&h.enable(5),xe.morphNormals&&h.enable(6),xe.morphColors&&h.enable(7),xe.premultipliedAlpha&&h.enable(8),xe.shadowMapEnabled&&h.enable(9),xe.useLegacyLights&&h.enable(10),xe.doubleSided&&h.enable(11),xe.flipSided&&h.enable(12),xe.useDepthPacking&&h.enable(13),xe.dithering&&h.enable(14),xe.transmission&&h.enable(15),xe.sheen&&h.enable(16),xe.opaque&&h.enable(17),xe.pointsUvs&&h.enable(18),xe.decodeVideoTexture&&h.enable(19),xe.alphaToCoverage&&h.enable(20),Ne.push(h.mask)}(xe,Ne),xe.push(c.outputColorSpace)),xe.push(Ne.customProgramCacheKey),xe.join()},getUniforms:function ue(Ne){const xe=B[Ne.type];let Kt;return Kt=xe?Zy.clone(tc[xe].uniforms):Ne.uniforms,Kt},acquireProgram:function ot(Ne,xe){let Kt;for(let gn=0,Nt=w.length;gn<Nt;gn++){const _n=w[gn];if(_n.cacheKey===xe){Kt=_n,++Kt.usedTimes;break}}return void 0===Kt&&(Kt=new cb(c,xe,Ne,l),w.push(Kt)),Kt},releaseProgram:function ze(Ne){if(0==--Ne.usedTimes){const xe=w.indexOf(Ne);w[xe]=w[w.length-1],w.pop(),Ne.destroy()}},releaseShaderCache:function We(Ne){g.remove(Ne)},programs:w,dispose:function ht(){g.dispose()}}}function n0(){let c=new WeakMap;return{get:function e(l){let f=c.get(l);return void 0===f&&(f={},c.set(l,f)),f},remove:function n(l){c.delete(l)},update:function r(l,f,h){c.get(l)[f]=h},dispose:function o(){c=new WeakMap}}}function r0(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function s0(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function o0(){const c=[];let e=0;const n=[],r=[],o=[];function f(S,A,R,B,K,H){let U=c[e];return void 0===U?(U={id:S.id,object:S,geometry:A,material:R,groupOrder:B,renderOrder:S.renderOrder,z:K,group:H},c[e]=U):(U.id=S.id,U.object=S,U.geometry=A,U.material=R,U.groupOrder=B,U.renderOrder=S.renderOrder,U.z=K,U.group=H),e++,U}return{opaque:n,transmissive:r,transparent:o,init:function l(){e=0,n.length=0,r.length=0,o.length=0},push:function h(S,A,R,B,K,H){const U=f(S,A,R,B,K,H);R.transmission>0?r.push(U):!0===R.transparent?o.push(U):n.push(U)},unshift:function g(S,A,R,B,K,H){const U=f(S,A,R,B,K,H);R.transmission>0?r.unshift(U):!0===R.transparent?o.unshift(U):n.unshift(U)},finish:function w(){for(let S=e,A=c.length;S<A;S++){const R=c[S];if(null===R.id)break;R.id=null,R.object=null,R.geometry=null,R.material=null,R.group=null}},sort:function v(S,A){n.length>1&&n.sort(S||r0),r.length>1&&r.sort(A||s0),o.length>1&&o.sort(A||s0)}}}function a0(){let c=new WeakMap;return{get:function e(r,o){const l=c.get(r);let f;return void 0===l?(f=new o0,c.set(r,[f])):o>=l.length?(f=new o0,l.push(f)):f=l[o],f},dispose:function n(){c=new WeakMap}}}function Fh(){const c={};return{get:function(e){if(void 0!==c[e.id])return c[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Ye,color:new vi};break;case"SpotLight":n={position:new Ye,direction:new Ye,color:new vi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ye,color:new vi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ye,skyColor:new vi,groundColor:new vi};break;case"RectAreaLight":n={color:new vi,position:new Ye,halfWidth:new Ye,halfHeight:new Ye}}return c[e.id]=n,n}}}let gm=0;function mb(c,e){return(e.castShadow?2:0)-(c.castShadow?2:0)+(e.map?1:0)-(c.map?1:0)}function pd(c){const e=new Fh,n=function pb(){const c={};return{get:function(e){if(void 0!==c[e.id])return c[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3}}return c[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let v=0;v<9;v++)r.probe.push(new Ye);const o=new Ye,l=new vr,f=new vr;return{setup:function h(v,w){let S=0,A=0,R=0;for(let Kt=0;Kt<9;Kt++)r.probe[Kt].set(0,0,0);let B=0,K=0,H=0,U=0,ae=0,ie=0,ue=0,ot=0,ze=0,We=0,ht=0;v.sort(mb);const Ne=!0===w?Math.PI:1;for(let Kt=0,gn=v.length;Kt<gn;Kt++){const Nt=v[Kt],_n=Nt.color,kn=Nt.intensity,Wn=Nt.distance,Oi=Nt.shadow&&Nt.shadow.map?Nt.shadow.map.texture:null;if(Nt.isAmbientLight)S+=_n.r*kn*Ne,A+=_n.g*kn*Ne,R+=_n.b*kn*Ne;else if(Nt.isLightProbe){for(let Nn=0;Nn<9;Nn++)r.probe[Nn].addScaledVector(Nt.sh.coefficients[Nn],kn);ht++}else if(Nt.isDirectionalLight){const Nn=e.get(Nt);if(Nn.color.copy(Nt.color).multiplyScalar(Nt.intensity*Ne),Nt.castShadow){const mi=Nt.shadow,yi=n.get(Nt);yi.shadowBias=mi.bias,yi.shadowNormalBias=mi.normalBias,yi.shadowRadius=mi.radius,yi.shadowMapSize=mi.mapSize,r.directionalShadow[B]=yi,r.directionalShadowMap[B]=Oi,r.directionalShadowMatrix[B]=Nt.shadow.matrix,ie++}r.directional[B]=Nn,B++}else if(Nt.isSpotLight){const Nn=e.get(Nt);Nn.position.setFromMatrixPosition(Nt.matrixWorld),Nn.color.copy(_n).multiplyScalar(kn*Ne),Nn.distance=Wn,Nn.coneCos=Math.cos(Nt.angle),Nn.penumbraCos=Math.cos(Nt.angle*(1-Nt.penumbra)),Nn.decay=Nt.decay,r.spot[H]=Nn;const mi=Nt.shadow;if(Nt.map&&(r.spotLightMap[ze]=Nt.map,ze++,mi.updateMatrices(Nt),Nt.castShadow&&We++),r.spotLightMatrix[H]=mi.matrix,Nt.castShadow){const yi=n.get(Nt);yi.shadowBias=mi.bias,yi.shadowNormalBias=mi.normalBias,yi.shadowRadius=mi.radius,yi.shadowMapSize=mi.mapSize,r.spotShadow[H]=yi,r.spotShadowMap[H]=Oi,ot++}H++}else if(Nt.isRectAreaLight){const Nn=e.get(Nt);Nn.color.copy(_n).multiplyScalar(kn),Nn.halfWidth.set(.5*Nt.width,0,0),Nn.halfHeight.set(0,.5*Nt.height,0),r.rectArea[U]=Nn,U++}else if(Nt.isPointLight){const Nn=e.get(Nt);if(Nn.color.copy(Nt.color).multiplyScalar(Nt.intensity*Ne),Nn.distance=Nt.distance,Nn.decay=Nt.decay,Nt.castShadow){const mi=Nt.shadow,yi=n.get(Nt);yi.shadowBias=mi.bias,yi.shadowNormalBias=mi.normalBias,yi.shadowRadius=mi.radius,yi.shadowMapSize=mi.mapSize,yi.shadowCameraNear=mi.camera.near,yi.shadowCameraFar=mi.camera.far,r.pointShadow[K]=yi,r.pointShadowMap[K]=Oi,r.pointShadowMatrix[K]=Nt.shadow.matrix,ue++}r.point[K]=Nn,K++}else if(Nt.isHemisphereLight){const Nn=e.get(Nt);Nn.skyColor.copy(Nt.color).multiplyScalar(kn*Ne),Nn.groundColor.copy(Nt.groundColor).multiplyScalar(kn*Ne),r.hemi[ae]=Nn,ae++}}U>0&&(!0===c.has("OES_texture_float_linear")?(r.rectAreaLTC1=Yi.LTC_FLOAT_1,r.rectAreaLTC2=Yi.LTC_FLOAT_2):(r.rectAreaLTC1=Yi.LTC_HALF_1,r.rectAreaLTC2=Yi.LTC_HALF_2)),r.ambient[0]=S,r.ambient[1]=A,r.ambient[2]=R;const xe=r.hash;(xe.directionalLength!==B||xe.pointLength!==K||xe.spotLength!==H||xe.rectAreaLength!==U||xe.hemiLength!==ae||xe.numDirectionalShadows!==ie||xe.numPointShadows!==ue||xe.numSpotShadows!==ot||xe.numSpotMaps!==ze||xe.numLightProbes!==ht)&&(r.directional.length=B,r.spot.length=H,r.rectArea.length=U,r.point.length=K,r.hemi.length=ae,r.directionalShadow.length=ie,r.directionalShadowMap.length=ie,r.pointShadow.length=ue,r.pointShadowMap.length=ue,r.spotShadow.length=ot,r.spotShadowMap.length=ot,r.directionalShadowMatrix.length=ie,r.pointShadowMatrix.length=ue,r.spotLightMatrix.length=ot+ze-We,r.spotLightMap.length=ze,r.numSpotLightShadowsWithMaps=We,r.numLightProbes=ht,xe.directionalLength=B,xe.pointLength=K,xe.spotLength=H,xe.rectAreaLength=U,xe.hemiLength=ae,xe.numDirectionalShadows=ie,xe.numPointShadows=ue,xe.numSpotShadows=ot,xe.numSpotMaps=ze,xe.numLightProbes=ht,r.version=gm++)},setupView:function g(v,w){let S=0,A=0,R=0,B=0,K=0;const H=w.matrixWorldInverse;for(let U=0,ae=v.length;U<ae;U++){const ie=v[U];if(ie.isDirectionalLight){const ue=r.directional[S];ue.direction.setFromMatrixPosition(ie.matrixWorld),o.setFromMatrixPosition(ie.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(H),S++}else if(ie.isSpotLight){const ue=r.spot[R];ue.position.setFromMatrixPosition(ie.matrixWorld),ue.position.applyMatrix4(H),ue.direction.setFromMatrixPosition(ie.matrixWorld),o.setFromMatrixPosition(ie.target.matrixWorld),ue.direction.sub(o),ue.direction.transformDirection(H),R++}else if(ie.isRectAreaLight){const ue=r.rectArea[B];ue.position.setFromMatrixPosition(ie.matrixWorld),ue.position.applyMatrix4(H),f.identity(),l.copy(ie.matrixWorld),l.premultiply(H),f.extractRotation(l),ue.halfWidth.set(.5*ie.width,0,0),ue.halfHeight.set(0,.5*ie.height,0),ue.halfWidth.applyMatrix4(f),ue.halfHeight.applyMatrix4(f),B++}else if(ie.isPointLight){const ue=r.point[A];ue.position.setFromMatrixPosition(ie.matrixWorld),ue.position.applyMatrix4(H),A++}else if(ie.isHemisphereLight){const ue=r.hemi[K];ue.direction.setFromMatrixPosition(ie.matrixWorld),ue.direction.transformDirection(H),K++}}},state:r}}function l0(c){const e=new pd(c),n=[],r=[],v={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function o(w){v.camera=w,n.length=0,r.length=0},state:v,setupLights:function h(w){e.setup(n,w)},setupLightsView:function g(w){e.setupView(n,w)},pushLight:function l(w){n.push(w)},pushShadow:function f(w){r.push(w)}}}function gb(c){let e=new WeakMap;return{get:function n(o,l=0){const f=e.get(o);let h;return void 0===f?(h=new l0(c),e.set(o,[h])):l>=f.length?(h=new l0(c),f.push(h)):h=f[l],h},dispose:function r(){e=new WeakMap}}}class vm extends ${constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ym extends ${constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function _b(c,e,n){let r=new ch;const o=new Vn,l=new Vn,f=new fo,h=new vm({depthPacking:3201}),g=new ym,v={},w=n.maxTextureSize,S={0:1,1:0,2:2},A=new fs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),R=A.clone();R.defines.HORIZONTAL_PASS=1;const B=new vs;B.setAttribute("position",new Bi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const K=new ka(B,A),H=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=It;let U=this.type;function ae(ze,We){const ht=e.update(K);A.defines.VSM_SAMPLES!==ze.blurSamples&&(A.defines.VSM_SAMPLES=ze.blurSamples,R.defines.VSM_SAMPLES=ze.blurSamples,A.needsUpdate=!0,R.needsUpdate=!0),null===ze.mapPass&&(ze.mapPass=new Qa(o.x,o.y)),A.uniforms.shadow_pass.value=ze.map.texture,A.uniforms.resolution.value=ze.mapSize,A.uniforms.radius.value=ze.radius,c.setRenderTarget(ze.mapPass),c.clear(),c.renderBufferDirect(We,null,ht,A,K,null),R.uniforms.shadow_pass.value=ze.mapPass.texture,R.uniforms.resolution.value=ze.mapSize,R.uniforms.radius.value=ze.radius,c.setRenderTarget(ze.map),c.clear(),c.renderBufferDirect(We,null,ht,R,K,null)}function ie(ze,We,ht,Ne){let xe=null;const Kt=!0===ht.isPointLight?ze.customDistanceMaterial:ze.customDepthMaterial;if(void 0!==Kt)xe=Kt;else if(xe=!0===ht.isPointLight?g:h,c.localClippingEnabled&&!0===We.clipShadows&&Array.isArray(We.clippingPlanes)&&0!==We.clippingPlanes.length||We.displacementMap&&0!==We.displacementScale||We.alphaMap&&We.alphaTest>0||We.map&&We.alphaTest>0){const gn=xe.uuid,Nt=We.uuid;let _n=v[gn];void 0===_n&&(_n={},v[gn]=_n);let kn=_n[Nt];void 0===kn&&(kn=xe.clone(),_n[Nt]=kn,We.addEventListener("dispose",ot)),xe=kn}return xe.visible=We.visible,xe.wireframe=We.wireframe,xe.side=Ne===Ut?null!==We.shadowSide?We.shadowSide:We.side:null!==We.shadowSide?We.shadowSide:S[We.side],xe.alphaMap=We.alphaMap,xe.alphaTest=We.alphaTest,xe.map=We.map,xe.clipShadows=We.clipShadows,xe.clippingPlanes=We.clippingPlanes,xe.clipIntersection=We.clipIntersection,xe.displacementMap=We.displacementMap,xe.displacementScale=We.displacementScale,xe.displacementBias=We.displacementBias,xe.wireframeLinewidth=We.wireframeLinewidth,xe.linewidth=We.linewidth,!0===ht.isPointLight&&!0===xe.isMeshDistanceMaterial&&(c.properties.get(xe).light=ht),xe}function ue(ze,We,ht,Ne,xe){if(!1===ze.visible)return;if(ze.layers.test(We.layers)&&(ze.isMesh||ze.isLine||ze.isPoints)&&(ze.castShadow||ze.receiveShadow&&xe===Ut)&&(!ze.frustumCulled||r.intersectsObject(ze))){ze.modelViewMatrix.multiplyMatrices(ht.matrixWorldInverse,ze.matrixWorld);const Nt=e.update(ze),_n=ze.material;if(Array.isArray(_n)){const kn=Nt.groups;for(let Wn=0,Oi=kn.length;Wn<Oi;Wn++){const Nn=kn[Wn],mi=_n[Nn.materialIndex];if(mi&&mi.visible){const yi=ie(ze,mi,Ne,xe);ze.onBeforeShadow(c,ze,We,ht,Nt,yi,Nn),c.renderBufferDirect(ht,null,Nt,yi,ze,Nn),ze.onAfterShadow(c,ze,We,ht,Nt,yi,Nn)}}}else if(_n.visible){const kn=ie(ze,_n,Ne,xe);ze.onBeforeShadow(c,ze,We,ht,Nt,kn,null),c.renderBufferDirect(ht,null,Nt,kn,ze,null),ze.onAfterShadow(c,ze,We,ht,Nt,kn,null)}}const gn=ze.children;for(let Nt=0,_n=gn.length;Nt<_n;Nt++)ue(gn[Nt],We,ht,Ne,xe)}function ot(ze){ze.target.removeEventListener("dispose",ot);for(const ht in v){const Ne=v[ht],xe=ze.target.uuid;xe in Ne&&(Ne[xe].dispose(),delete Ne[xe])}}this.render=function(ze,We,ht){if(!1===H.enabled||!1===H.autoUpdate&&!1===H.needsUpdate||0===ze.length)return;const Ne=c.getRenderTarget(),xe=c.getActiveCubeFace(),Kt=c.getActiveMipmapLevel(),gn=c.state;gn.setBlending(0),gn.buffers.color.setClear(1,1,1,1),gn.buffers.depth.setTest(!0),gn.setScissorTest(!1);const Nt=U!==Ut&&this.type===Ut,_n=U===Ut&&this.type!==Ut;for(let kn=0,Wn=ze.length;kn<Wn;kn++){const Oi=ze[kn],Nn=Oi.shadow;if(void 0===Nn){console.warn("THREE.WebGLShadowMap:",Oi,"has no shadow.");continue}if(!1===Nn.autoUpdate&&!1===Nn.needsUpdate)continue;o.copy(Nn.mapSize);const mi=Nn.getFrameExtents();if(o.multiply(mi),l.copy(Nn.mapSize),(o.x>w||o.y>w)&&(o.x>w&&(l.x=Math.floor(w/mi.x),o.x=l.x*mi.x,Nn.mapSize.x=l.x),o.y>w&&(l.y=Math.floor(w/mi.y),o.y=l.y*mi.y,Nn.mapSize.y=l.y)),null===Nn.map||!0===Nt||!0===_n){const sr=this.type!==Ut?{minFilter:ss,magFilter:ss}:{};null!==Nn.map&&Nn.map.dispose(),Nn.map=new Qa(o.x,o.y,sr),Nn.map.texture.name=Oi.name+".shadowMap",Nn.camera.updateProjectionMatrix()}c.setRenderTarget(Nn.map),c.clear();const yi=Nn.getViewportCount();for(let sr=0;sr<yi;sr++){const bs=Nn.getViewport(sr);f.set(l.x*bs.x,l.y*bs.y,l.x*bs.z,l.y*bs.w),gn.viewport(f),Nn.updateMatrices(Oi,sr),r=Nn.getFrustum(),ue(We,ht,Nn.camera,Oi,this.type)}!0!==Nn.isPointLightShadow&&this.type===Ut&&ae(Nn,ht),Nn.needsUpdate=!1}U=this.type,H.needsUpdate=!1,c.setRenderTarget(Ne,xe,Kt)}}function bb(c){const o=new function e(){let Ce=!1;const an=new fo;let vn=null;const ci=new fo(0,0,0,0);return{setMask:function(Ii){vn!==Ii&&!Ce&&(c.colorMask(Ii,Ii,Ii,Ii),vn=Ii)},setLocked:function(Ii){Ce=Ii},setClear:function(Ii,Is,Ms,ra,_a){!0===_a&&(Ii*=ra,Is*=ra,Ms*=ra),an.set(Ii,Is,Ms,ra),!1===ci.equals(an)&&(c.clearColor(Ii,Is,Ms,ra),ci.copy(an))},reset:function(){Ce=!1,vn=null,ci.set(-1,0,0,0)}}},l=new function n(){let Ce=!1,an=null,vn=null,ci=null;return{setTest:function(Ii){Ii?qi(c.DEPTH_TEST):Ti(c.DEPTH_TEST)},setMask:function(Ii){an!==Ii&&!Ce&&(c.depthMask(Ii),an=Ii)},setFunc:function(Ii){if(vn!==Ii){switch(Ii){case 0:c.depthFunc(c.NEVER);break;case 1:c.depthFunc(c.ALWAYS);break;case 2:c.depthFunc(c.LESS);break;case 3:default:c.depthFunc(c.LEQUAL);break;case 4:c.depthFunc(c.EQUAL);break;case 5:c.depthFunc(c.GEQUAL);break;case 6:c.depthFunc(c.GREATER);break;case 7:c.depthFunc(c.NOTEQUAL)}vn=Ii}},setLocked:function(Ii){Ce=Ii},setClear:function(Ii){ci!==Ii&&(c.clearDepth(Ii),ci=Ii)},reset:function(){Ce=!1,an=null,vn=null,ci=null}}},f=new function r(){let Ce=!1,an=null,vn=null,ci=null,Ii=null,Is=null,Ms=null,ra=null,_a=null;return{setTest:function(uo){Ce||(uo?qi(c.STENCIL_TEST):Ti(c.STENCIL_TEST))},setMask:function(uo){an!==uo&&!Ce&&(c.stencilMask(uo),an=uo)},setFunc:function(uo,sa,Lo){(vn!==uo||ci!==sa||Ii!==Lo)&&(c.stencilFunc(uo,sa,Lo),vn=uo,ci=sa,Ii=Lo)},setOp:function(uo,sa,Lo){(Is!==uo||Ms!==sa||ra!==Lo)&&(c.stencilOp(uo,sa,Lo),Is=uo,Ms=sa,ra=Lo)},setLocked:function(uo){Ce=uo},setClear:function(uo){_a!==uo&&(c.clearStencil(uo),_a=uo)},reset:function(){Ce=!1,an=null,vn=null,ci=null,Ii=null,Is=null,Ms=null,ra=null,_a=null}}},h=new WeakMap,g=new WeakMap;let v={},w={},S=new WeakMap,A=[],R=null,B=!1,K=null,H=null,U=null,ae=null,ie=null,ue=null,ot=null,ze=new vi(0,0,0),We=0,ht=!1,Ne=null,xe=null,Kt=null,gn=null,Nt=null;const _n=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let kn=!1,Wn=0;const Oi=c.getParameter(c.VERSION);-1!==Oi.indexOf("WebGL")?(Wn=parseFloat(/^WebGL (\d)/.exec(Oi)[1]),kn=Wn>=1):-1!==Oi.indexOf("OpenGL ES")&&(Wn=parseFloat(/^OpenGL ES (\d)/.exec(Oi)[1]),kn=Wn>=2);let Nn=null,mi={};const yi=c.getParameter(c.SCISSOR_BOX),sr=c.getParameter(c.VIEWPORT),bs=(new fo).fromArray(yi),ws=(new fo).fromArray(sr);function Bn(Ce,an,vn,ci){const Ii=new Uint8Array(4),Is=c.createTexture();c.bindTexture(Ce,Is),c.texParameteri(Ce,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(Ce,c.TEXTURE_MAG_FILTER,c.NEAREST);for(let Ms=0;Ms<vn;Ms++)Ce===c.TEXTURE_3D||Ce===c.TEXTURE_2D_ARRAY?c.texImage3D(an,0,c.RGBA,1,1,ci,0,c.RGBA,c.UNSIGNED_BYTE,Ii):c.texImage2D(an+Ms,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,Ii);return Is}const Mi={};function qi(Ce){!0!==v[Ce]&&(c.enable(Ce),v[Ce]=!0)}function Ti(Ce){!1!==v[Ce]&&(c.disable(Ce),v[Ce]=!1)}Mi[c.TEXTURE_2D]=Bn(c.TEXTURE_2D,c.TEXTURE_2D,1),Mi[c.TEXTURE_CUBE_MAP]=Bn(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),Mi[c.TEXTURE_2D_ARRAY]=Bn(c.TEXTURE_2D_ARRAY,c.TEXTURE_2D_ARRAY,1,1),Mi[c.TEXTURE_3D]=Bn(c.TEXTURE_3D,c.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),f.setClear(0),qi(c.DEPTH_TEST),l.setFunc(3),Vi(!1),hi(1),qi(c.CULL_FACE),_i(0);const ks={100:c.FUNC_ADD,101:c.FUNC_SUBTRACT,102:c.FUNC_REVERSE_SUBTRACT};ks[103]=c.MIN,ks[104]=c.MAX;const qn={200:c.ZERO,201:c.ONE,202:c.SRC_COLOR,204:c.SRC_ALPHA,210:c.SRC_ALPHA_SATURATE,208:c.DST_COLOR,206:c.DST_ALPHA,203:c.ONE_MINUS_SRC_COLOR,205:c.ONE_MINUS_SRC_ALPHA,209:c.ONE_MINUS_DST_COLOR,207:c.ONE_MINUS_DST_ALPHA,211:c.CONSTANT_COLOR,212:c.ONE_MINUS_CONSTANT_COLOR,213:c.CONSTANT_ALPHA,214:c.ONE_MINUS_CONSTANT_ALPHA};function _i(Ce,an,vn,ci,Ii,Is,Ms,ra,_a,uo){if(0!==Ce){if(!1===B&&(qi(c.BLEND),B=!0),5===Ce)Ii=Ii||an,Is=Is||vn,Ms=Ms||ci,(an!==H||Ii!==ie)&&(c.blendEquationSeparate(ks[an],ks[Ii]),H=an,ie=Ii),(vn!==U||ci!==ae||Is!==ue||Ms!==ot)&&(c.blendFuncSeparate(qn[vn],qn[ci],qn[Is],qn[Ms]),U=vn,ae=ci,ue=Is,ot=Ms),(!1===ra.equals(ze)||_a!==We)&&(c.blendColor(ra.r,ra.g,ra.b,_a),ze.copy(ra),We=_a),K=Ce,ht=!1;else if(Ce!==K||uo!==ht){if((100!==H||100!==ie)&&(c.blendEquation(c.FUNC_ADD),H=100,ie=100),uo)switch(Ce){case 1:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.ONE,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce)}else switch(Ce){case 1:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ce)}U=null,ae=null,ue=null,ot=null,ze.set(0,0,0),We=0,K=Ce,ht=uo}}else!0===B&&(Ti(c.BLEND),B=!1)}function Vi(Ce){Ne!==Ce&&(c.frontFace(Ce?c.CW:c.CCW),Ne=Ce)}function hi(Ce){0!==Ce?(qi(c.CULL_FACE),Ce!==xe&&c.cullFace(1===Ce?c.BACK:2===Ce?c.FRONT:c.FRONT_AND_BACK)):Ti(c.CULL_FACE),xe=Ce}function $r(Ce,an,vn){Ce?(qi(c.POLYGON_OFFSET_FILL),(gn!==an||Nt!==vn)&&(c.polygonOffset(an,vn),gn=an,Nt=vn)):Ti(c.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:l,stencil:f},enable:qi,disable:Ti,bindFramebuffer:function is(Ce,an){return w[Ce]!==an&&(c.bindFramebuffer(Ce,an),w[Ce]=an,Ce===c.DRAW_FRAMEBUFFER&&(w[c.FRAMEBUFFER]=an),Ce===c.FRAMEBUFFER&&(w[c.DRAW_FRAMEBUFFER]=an),!0)},drawBuffers:function ys(Ce,an){let vn=A,ci=!1;if(Ce){vn=S.get(an),void 0===vn&&(vn=[],S.set(an,vn));const Ii=Ce.textures;if(vn.length!==Ii.length||vn[0]!==c.COLOR_ATTACHMENT0){for(let Is=0,Ms=Ii.length;Is<Ms;Is++)vn[Is]=c.COLOR_ATTACHMENT0+Is;vn.length=Ii.length,ci=!0}}else vn[0]!==c.BACK&&(vn[0]=c.BACK,ci=!0);ci&&c.drawBuffers(vn)},useProgram:function tn(Ce){return R!==Ce&&(c.useProgram(Ce),R=Ce,!0)},setBlending:_i,setMaterial:function Yn(Ce,an){2===Ce.side?Ti(c.CULL_FACE):qi(c.CULL_FACE);let vn=1===Ce.side;an&&(vn=!vn),Vi(vn),1===Ce.blending&&!1===Ce.transparent?_i(0):_i(Ce.blending,Ce.blendEquation,Ce.blendSrc,Ce.blendDst,Ce.blendEquationAlpha,Ce.blendSrcAlpha,Ce.blendDstAlpha,Ce.blendColor,Ce.blendAlpha,Ce.premultipliedAlpha),l.setFunc(Ce.depthFunc),l.setTest(Ce.depthTest),l.setMask(Ce.depthWrite),o.setMask(Ce.colorWrite);const ci=Ce.stencilWrite;f.setTest(ci),ci&&(f.setMask(Ce.stencilWriteMask),f.setFunc(Ce.stencilFunc,Ce.stencilRef,Ce.stencilFuncMask),f.setOp(Ce.stencilFail,Ce.stencilZFail,Ce.stencilZPass)),$r(Ce.polygonOffset,Ce.polygonOffsetFactor,Ce.polygonOffsetUnits),!0===Ce.alphaToCoverage?qi(c.SAMPLE_ALPHA_TO_COVERAGE):Ti(c.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Vi,setCullFace:hi,setLineWidth:function cr(Ce){Ce!==Kt&&(kn&&c.lineWidth(Ce),Kt=Ce)},setPolygonOffset:$r,setScissorTest:function ft(Ce){Ce?qi(c.SCISSOR_TEST):Ti(c.SCISSOR_TEST)},activeTexture:function Be(Ce){void 0===Ce&&(Ce=c.TEXTURE0+_n-1),Nn!==Ce&&(c.activeTexture(Ce),Nn=Ce)},bindTexture:function bn(Ce,an,vn){void 0===vn&&(vn=null===Nn?c.TEXTURE0+_n-1:Nn);let ci=mi[vn];void 0===ci&&(ci={type:void 0,texture:void 0},mi[vn]=ci),(ci.type!==Ce||ci.texture!==an)&&(Nn!==vn&&(c.activeTexture(vn),Nn=vn),c.bindTexture(Ce,an||Mi[Ce]),ci.type=Ce,ci.texture=an)},unbindTexture:function Zn(){const Ce=mi[Nn];void 0!==Ce&&void 0!==Ce.type&&(c.bindTexture(Ce.type,null),Ce.type=void 0,Ce.texture=void 0)},compressedTexImage2D:function ui(){try{c.compressedTexImage2D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},compressedTexImage3D:function ii(){try{c.compressedTexImage3D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},texImage2D:function Hs(){try{c.texImage2D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},texImage3D:function Qr(){try{c.texImage3D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},updateUBOMapping:function no(Ce,an){let vn=g.get(an);void 0===vn&&(vn=new WeakMap,g.set(an,vn));let ci=vn.get(Ce);void 0===ci&&(ci=c.getUniformBlockIndex(an,Ce.name),vn.set(Ce,ci))},uniformBlockBinding:function zo(Ce,an){const ci=g.get(an).get(Ce);h.get(an)!==ci&&(c.uniformBlockBinding(an,ci,Ce.__bindingPointIndex),h.set(an,ci))},texStorage2D:function Fi(){try{c.texStorage2D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},texStorage3D:function Pr(){try{c.texStorage3D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},texSubImage2D:function Lr(){try{c.texSubImage2D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},texSubImage3D:function Ki(){try{c.texSubImage3D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},compressedTexSubImage2D:function ji(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},compressedTexSubImage3D:function _s(){try{c.compressedTexSubImage3D.apply(c,arguments)}catch(Ce){console.error("THREE.WebGLState:",Ce)}},scissor:function tr(Ce){!1===bs.equals(Ce)&&(c.scissor(Ce.x,Ce.y,Ce.z,Ce.w),bs.copy(Ce))},viewport:function Us(Ce){!1===ws.equals(Ce)&&(c.viewport(Ce.x,Ce.y,Ce.z,Ce.w),ws.copy(Ce))},reset:function $s(){c.disable(c.BLEND),c.disable(c.CULL_FACE),c.disable(c.DEPTH_TEST),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SCISSOR_TEST),c.disable(c.STENCIL_TEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO),c.blendFuncSeparate(c.ONE,c.ZERO,c.ONE,c.ZERO),c.blendColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(c.LESS),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(c.ALWAYS,0,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.clearStencil(0),c.cullFace(c.BACK),c.frontFace(c.CCW),c.polygonOffset(0,0),c.activeTexture(c.TEXTURE0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),v={},Nn=null,mi={},w={},S=new WeakMap,A=[],R=null,B=!1,K=null,H=null,U=null,ae=null,ie=null,ue=null,ot=null,ze=new vi(0,0,0),We=0,ht=!1,Ne=null,xe=null,Kt=null,gn=null,Nt=null,bs.set(0,0,c.canvas.width,c.canvas.height),ws.set(0,0,c.canvas.width,c.canvas.height),o.reset(),l.reset(),f.reset()}}}function c0(c,e,n,r,o,l,f){const h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),v=new Vn,w=new WeakMap;let S;const A=new WeakMap;let R=!1;try{R=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function B(ft,Be){return R?new OffscreenCanvas(ft,Be):xl("canvas")}function K(ft,Be,bn){let Zn=1;const ui=$r(ft);if((ui.width>bn||ui.height>bn)&&(Zn=bn/Math.max(ui.width,ui.height)),Zn<1){if(typeof HTMLImageElement<"u"&&ft instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ft instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ft instanceof ImageBitmap||typeof VideoFrame<"u"&&ft instanceof VideoFrame){const ii=Math.floor(Zn*ui.width),Lr=Math.floor(Zn*ui.height);void 0===S&&(S=B(ii,Lr));const Ki=Be?B(ii,Lr):S;return Ki.width=ii,Ki.height=Lr,Ki.getContext("2d").drawImage(ft,0,0,ii,Lr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ui.width+"x"+ui.height+") to ("+ii+"x"+Lr+")."),Ki}return"data"in ft&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ui.width+"x"+ui.height+")."),ft}return ft}function H(ft){return ft.generateMipmaps&&ft.minFilter!==ss&&ft.minFilter!==mt}function U(ft){c.generateMipmap(ft)}function ae(ft,Be,bn,Zn,ui=!1){if(null!==ft){if(void 0!==c[ft])return c[ft];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ft+"'")}let ii=Be;if(Be===c.RED&&(bn===c.FLOAT&&(ii=c.R32F),bn===c.HALF_FLOAT&&(ii=c.R16F),bn===c.UNSIGNED_BYTE&&(ii=c.R8)),Be===c.RED_INTEGER&&(bn===c.UNSIGNED_BYTE&&(ii=c.R8UI),bn===c.UNSIGNED_SHORT&&(ii=c.R16UI),bn===c.UNSIGNED_INT&&(ii=c.R32UI),bn===c.BYTE&&(ii=c.R8I),bn===c.SHORT&&(ii=c.R16I),bn===c.INT&&(ii=c.R32I)),Be===c.RG&&(bn===c.FLOAT&&(ii=c.RG32F),bn===c.HALF_FLOAT&&(ii=c.RG16F),bn===c.UNSIGNED_BYTE&&(ii=c.RG8)),Be===c.RG_INTEGER&&(bn===c.UNSIGNED_BYTE&&(ii=c.RG8UI),bn===c.UNSIGNED_SHORT&&(ii=c.RG16UI),bn===c.UNSIGNED_INT&&(ii=c.RG32UI),bn===c.BYTE&&(ii=c.RG8I),bn===c.SHORT&&(ii=c.RG16I),bn===c.INT&&(ii=c.RG32I)),Be===c.RGB&&bn===c.UNSIGNED_INT_5_9_9_9_REV&&(ii=c.RGB9_E5),Be===c.RGBA){const Lr=ui?In:eo.getTransfer(Zn);bn===c.FLOAT&&(ii=c.RGBA32F),bn===c.HALF_FLOAT&&(ii=c.RGBA16F),bn===c.UNSIGNED_BYTE&&(ii=Lr===Mn?c.SRGB8_ALPHA8:c.RGBA8),bn===c.UNSIGNED_SHORT_4_4_4_4&&(ii=c.RGBA4),bn===c.UNSIGNED_SHORT_5_5_5_1&&(ii=c.RGB5_A1)}return(ii===c.R16F||ii===c.R32F||ii===c.RG16F||ii===c.RG32F||ii===c.RGBA16F||ii===c.RGBA32F)&&e.get("EXT_color_buffer_float"),ii}function ie(ft,Be){return!0===H(ft)||ft.isFramebufferTexture&&ft.minFilter!==ss&&ft.minFilter!==mt?Math.log2(Math.max(Be.width,Be.height))+1:void 0!==ft.mipmaps&&ft.mipmaps.length>0?ft.mipmaps.length:ft.isCompressedTexture&&Array.isArray(ft.image)?Be.mipmaps.length:1}function ue(ft){const Be=ft.target;Be.removeEventListener("dispose",ue),function ze(ft){const Be=r.get(ft);if(void 0===Be.__webglInit)return;const bn=ft.source,Zn=A.get(bn);if(Zn){const ui=Zn[Be.__cacheKey];ui.usedTimes--,0===ui.usedTimes&&We(ft),0===Object.keys(Zn).length&&A.delete(bn)}r.remove(ft)}(Be),Be.isVideoTexture&&w.delete(Be)}function ot(ft){const Be=ft.target;Be.removeEventListener("dispose",ot),function ht(ft){const Be=r.get(ft);if(ft.depthTexture&&ft.depthTexture.dispose(),ft.isWebGLCubeRenderTarget)for(let Zn=0;Zn<6;Zn++){if(Array.isArray(Be.__webglFramebuffer[Zn]))for(let ui=0;ui<Be.__webglFramebuffer[Zn].length;ui++)c.deleteFramebuffer(Be.__webglFramebuffer[Zn][ui]);else c.deleteFramebuffer(Be.__webglFramebuffer[Zn]);Be.__webglDepthbuffer&&c.deleteRenderbuffer(Be.__webglDepthbuffer[Zn])}else{if(Array.isArray(Be.__webglFramebuffer))for(let Zn=0;Zn<Be.__webglFramebuffer.length;Zn++)c.deleteFramebuffer(Be.__webglFramebuffer[Zn]);else c.deleteFramebuffer(Be.__webglFramebuffer);if(Be.__webglDepthbuffer&&c.deleteRenderbuffer(Be.__webglDepthbuffer),Be.__webglMultisampledFramebuffer&&c.deleteFramebuffer(Be.__webglMultisampledFramebuffer),Be.__webglColorRenderbuffer)for(let Zn=0;Zn<Be.__webglColorRenderbuffer.length;Zn++)Be.__webglColorRenderbuffer[Zn]&&c.deleteRenderbuffer(Be.__webglColorRenderbuffer[Zn]);Be.__webglDepthRenderbuffer&&c.deleteRenderbuffer(Be.__webglDepthRenderbuffer)}const bn=ft.textures;for(let Zn=0,ui=bn.length;Zn<ui;Zn++){const ii=r.get(bn[Zn]);ii.__webglTexture&&(c.deleteTexture(ii.__webglTexture),f.memory.textures--),r.remove(bn[Zn])}r.remove(ft)}(Be)}function We(ft){const Be=r.get(ft);c.deleteTexture(Be.__webglTexture),delete A.get(ft.source)[Be.__cacheKey],f.memory.textures--}let Ne=0;function Nt(ft,Be){const bn=r.get(ft);if(ft.isVideoTexture&&function hi(ft){const Be=f.render.frame;w.get(ft)!==Be&&(w.set(ft,Be),ft.update())}(ft),!1===ft.isRenderTargetTexture&&ft.version>0&&bn.__version!==ft.version){const Zn=ft.image;if(null===Zn)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Zn.complete)return void bs(bn,ft,Be);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(c.TEXTURE_2D,bn.__webglTexture,c.TEXTURE0+Be)}const Oi={[Wi]:c.REPEAT,[Xr]:c.CLAMP_TO_EDGE,1002:c.MIRRORED_REPEAT},Nn={[ss]:c.NEAREST,1004:c.NEAREST_MIPMAP_NEAREST,[vt]:c.NEAREST_MIPMAP_LINEAR,[mt]:c.LINEAR,1007:c.LINEAR_MIPMAP_NEAREST,[si]:c.LINEAR_MIPMAP_LINEAR},mi={512:c.NEVER,519:c.ALWAYS,513:c.LESS,515:c.LEQUAL,514:c.EQUAL,518:c.GEQUAL,516:c.GREATER,517:c.NOTEQUAL};function yi(ft,Be){if(Be.type===so&&!1===e.has("OES_texture_float_linear")&&(Be.magFilter===mt||1007===Be.magFilter||Be.magFilter===vt||Be.magFilter===si||Be.minFilter===mt||1007===Be.minFilter||Be.minFilter===vt||Be.minFilter===si)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),c.texParameteri(ft,c.TEXTURE_WRAP_S,Oi[Be.wrapS]),c.texParameteri(ft,c.TEXTURE_WRAP_T,Oi[Be.wrapT]),(ft===c.TEXTURE_3D||ft===c.TEXTURE_2D_ARRAY)&&c.texParameteri(ft,c.TEXTURE_WRAP_R,Oi[Be.wrapR]),c.texParameteri(ft,c.TEXTURE_MAG_FILTER,Nn[Be.magFilter]),c.texParameteri(ft,c.TEXTURE_MIN_FILTER,Nn[Be.minFilter]),Be.compareFunction&&(c.texParameteri(ft,c.TEXTURE_COMPARE_MODE,c.COMPARE_REF_TO_TEXTURE),c.texParameteri(ft,c.TEXTURE_COMPARE_FUNC,mi[Be.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(Be.magFilter===ss||Be.minFilter!==vt&&Be.minFilter!==si||Be.type===so&&!1===e.has("OES_texture_float_linear"))return;if(Be.anisotropy>1||r.get(Be).__currentAnisotropy){const bn=e.get("EXT_texture_filter_anisotropic");c.texParameterf(ft,bn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Be.anisotropy,o.getMaxAnisotropy())),r.get(Be).__currentAnisotropy=Be.anisotropy}}}function sr(ft,Be){let bn=!1;void 0===ft.__webglInit&&(ft.__webglInit=!0,Be.addEventListener("dispose",ue));const Zn=Be.source;let ui=A.get(Zn);void 0===ui&&(ui={},A.set(Zn,ui));const ii=function gn(ft){const Be=[];return Be.push(ft.wrapS),Be.push(ft.wrapT),Be.push(ft.wrapR||0),Be.push(ft.magFilter),Be.push(ft.minFilter),Be.push(ft.anisotropy),Be.push(ft.internalFormat),Be.push(ft.format),Be.push(ft.type),Be.push(ft.generateMipmaps),Be.push(ft.premultiplyAlpha),Be.push(ft.flipY),Be.push(ft.unpackAlignment),Be.push(ft.colorSpace),Be.join()}(Be);if(ii!==ft.__cacheKey){void 0===ui[ii]&&(ui[ii]={texture:c.createTexture(),usedTimes:0},f.memory.textures++,bn=!0),ui[ii].usedTimes++;const Lr=ui[ft.__cacheKey];void 0!==Lr&&(ui[ft.__cacheKey].usedTimes--,0===Lr.usedTimes&&We(Be)),ft.__cacheKey=ii,ft.__webglTexture=ui[ii].texture}return bn}function bs(ft,Be,bn){let Zn=c.TEXTURE_2D;(Be.isDataArrayTexture||Be.isCompressedArrayTexture)&&(Zn=c.TEXTURE_2D_ARRAY),Be.isData3DTexture&&(Zn=c.TEXTURE_3D);const ui=sr(ft,Be),ii=Be.source;n.bindTexture(Zn,ft.__webglTexture,c.TEXTURE0+bn);const Lr=r.get(ii);if(ii.version!==Lr.__version||!0===ui){n.activeTexture(c.TEXTURE0+bn);const Ki=eo.getPrimaries(eo.workingColorSpace),ji=""===Be.colorSpace?null:eo.getPrimaries(Be.colorSpace),_s=""===Be.colorSpace||Ki===ji?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Be.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Be.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,_s);let Fi=K(Be.image,!1,o.maxTextureSize);Fi=cr(Be,Fi);const Pr=l.convert(Be.format,Be.colorSpace),Hs=l.convert(Be.type);let tr,Qr=ae(Be.internalFormat,Pr,Hs,Be.colorSpace,Be.isVideoTexture);yi(Zn,Be);const Us=Be.mipmaps,no=!0!==Be.isVideoTexture,zo=void 0===Lr.__version||!0===ui,$s=ii.dataReady,Ce=ie(Be,Fi);if(Be.isDepthTexture)Qr=c.DEPTH_COMPONENT16,Be.type===so?Qr=c.DEPTH_COMPONENT32F:Be.type===aa?Qr=c.DEPTH_COMPONENT24:Be.type===So&&(Qr=c.DEPTH24_STENCIL8),zo&&(no?n.texStorage2D(c.TEXTURE_2D,1,Qr,Fi.width,Fi.height):n.texImage2D(c.TEXTURE_2D,0,Qr,Fi.width,Fi.height,0,Pr,Hs,null));else if(Be.isDataTexture)if(Us.length>0){no&&zo&&n.texStorage2D(c.TEXTURE_2D,Ce,Qr,Us[0].width,Us[0].height);for(let an=0,vn=Us.length;an<vn;an++)tr=Us[an],no?$s&&n.texSubImage2D(c.TEXTURE_2D,an,0,0,tr.width,tr.height,Pr,Hs,tr.data):n.texImage2D(c.TEXTURE_2D,an,Qr,tr.width,tr.height,0,Pr,Hs,tr.data);Be.generateMipmaps=!1}else no?(zo&&n.texStorage2D(c.TEXTURE_2D,Ce,Qr,Fi.width,Fi.height),$s&&n.texSubImage2D(c.TEXTURE_2D,0,0,0,Fi.width,Fi.height,Pr,Hs,Fi.data)):n.texImage2D(c.TEXTURE_2D,0,Qr,Fi.width,Fi.height,0,Pr,Hs,Fi.data);else if(Be.isCompressedTexture)if(Be.isCompressedArrayTexture){no&&zo&&n.texStorage3D(c.TEXTURE_2D_ARRAY,Ce,Qr,Us[0].width,Us[0].height,Fi.depth);for(let an=0,vn=Us.length;an<vn;an++)tr=Us[an],Be.format!==br?null!==Pr?no?$s&&n.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,an,0,0,0,tr.width,tr.height,Fi.depth,Pr,tr.data,0,0):n.compressedTexImage3D(c.TEXTURE_2D_ARRAY,an,Qr,tr.width,tr.height,Fi.depth,0,tr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):no?$s&&n.texSubImage3D(c.TEXTURE_2D_ARRAY,an,0,0,0,tr.width,tr.height,Fi.depth,Pr,Hs,tr.data):n.texImage3D(c.TEXTURE_2D_ARRAY,an,Qr,tr.width,tr.height,Fi.depth,0,Pr,Hs,tr.data)}else{no&&zo&&n.texStorage2D(c.TEXTURE_2D,Ce,Qr,Us[0].width,Us[0].height);for(let an=0,vn=Us.length;an<vn;an++)tr=Us[an],Be.format!==br?null!==Pr?no?$s&&n.compressedTexSubImage2D(c.TEXTURE_2D,an,0,0,tr.width,tr.height,Pr,tr.data):n.compressedTexImage2D(c.TEXTURE_2D,an,Qr,tr.width,tr.height,0,tr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):no?$s&&n.texSubImage2D(c.TEXTURE_2D,an,0,0,tr.width,tr.height,Pr,Hs,tr.data):n.texImage2D(c.TEXTURE_2D,an,Qr,tr.width,tr.height,0,Pr,Hs,tr.data)}else if(Be.isDataArrayTexture)no?(zo&&n.texStorage3D(c.TEXTURE_2D_ARRAY,Ce,Qr,Fi.width,Fi.height,Fi.depth),$s&&n.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,0,Fi.width,Fi.height,Fi.depth,Pr,Hs,Fi.data)):n.texImage3D(c.TEXTURE_2D_ARRAY,0,Qr,Fi.width,Fi.height,Fi.depth,0,Pr,Hs,Fi.data);else if(Be.isData3DTexture)no?(zo&&n.texStorage3D(c.TEXTURE_3D,Ce,Qr,Fi.width,Fi.height,Fi.depth),$s&&n.texSubImage3D(c.TEXTURE_3D,0,0,0,0,Fi.width,Fi.height,Fi.depth,Pr,Hs,Fi.data)):n.texImage3D(c.TEXTURE_3D,0,Qr,Fi.width,Fi.height,Fi.depth,0,Pr,Hs,Fi.data);else if(Be.isFramebufferTexture){if(zo)if(no)n.texStorage2D(c.TEXTURE_2D,Ce,Qr,Fi.width,Fi.height);else{let an=Fi.width,vn=Fi.height;for(let ci=0;ci<Ce;ci++)n.texImage2D(c.TEXTURE_2D,ci,Qr,an,vn,0,Pr,Hs,null),an>>=1,vn>>=1}}else if(Us.length>0){if(no&&zo){const an=$r(Us[0]);n.texStorage2D(c.TEXTURE_2D,Ce,Qr,an.width,an.height)}for(let an=0,vn=Us.length;an<vn;an++)tr=Us[an],no?$s&&n.texSubImage2D(c.TEXTURE_2D,an,0,0,Pr,Hs,tr):n.texImage2D(c.TEXTURE_2D,an,Qr,Pr,Hs,tr);Be.generateMipmaps=!1}else if(no){if(zo){const an=$r(Fi);n.texStorage2D(c.TEXTURE_2D,Ce,Qr,an.width,an.height)}$s&&n.texSubImage2D(c.TEXTURE_2D,0,0,0,Pr,Hs,Fi)}else n.texImage2D(c.TEXTURE_2D,0,Qr,Pr,Hs,Fi);H(Be)&&U(Zn),Lr.__version=ii.version,Be.onUpdate&&Be.onUpdate(Be)}ft.__version=Be.version}function Bn(ft,Be,bn,Zn,ui,ii){const Lr=l.convert(bn.format,bn.colorSpace),Ki=l.convert(bn.type),ji=ae(bn.internalFormat,Lr,Ki,bn.colorSpace);if(!r.get(Be).__hasExternalTextures){const Fi=Math.max(1,Be.width>>ii),Pr=Math.max(1,Be.height>>ii);ui===c.TEXTURE_3D||ui===c.TEXTURE_2D_ARRAY?n.texImage3D(ui,ii,ji,Fi,Pr,Be.depth,0,Lr,Ki,null):n.texImage2D(ui,ii,ji,Fi,Pr,0,Lr,Ki,null)}n.bindFramebuffer(c.FRAMEBUFFER,ft),Vi(Be)?h.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,Zn,ui,r.get(bn).__webglTexture,0,Yn(Be)):(ui===c.TEXTURE_2D||ui>=c.TEXTURE_CUBE_MAP_POSITIVE_X&&ui<=c.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&c.framebufferTexture2D(c.FRAMEBUFFER,Zn,ui,r.get(bn).__webglTexture,ii),n.bindFramebuffer(c.FRAMEBUFFER,null)}function Mi(ft,Be,bn){if(c.bindRenderbuffer(c.RENDERBUFFER,ft),Be.depthBuffer&&!Be.stencilBuffer){let Zn=c.DEPTH_COMPONENT24;if(bn||Vi(Be)){const ui=Be.depthTexture;ui&&ui.isDepthTexture&&(ui.type===so?Zn=c.DEPTH_COMPONENT32F:ui.type===aa&&(Zn=c.DEPTH_COMPONENT24));const ii=Yn(Be);Vi(Be)?h.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,ii,Zn,Be.width,Be.height):c.renderbufferStorageMultisample(c.RENDERBUFFER,ii,Zn,Be.width,Be.height)}else c.renderbufferStorage(c.RENDERBUFFER,Zn,Be.width,Be.height);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,ft)}else if(Be.depthBuffer&&Be.stencilBuffer){const Zn=Yn(Be);bn&&!1===Vi(Be)?c.renderbufferStorageMultisample(c.RENDERBUFFER,Zn,c.DEPTH24_STENCIL8,Be.width,Be.height):Vi(Be)?h.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,Zn,c.DEPTH24_STENCIL8,Be.width,Be.height):c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,Be.width,Be.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,ft)}else{const Zn=Be.textures;for(let ui=0;ui<Zn.length;ui++){const ii=Zn[ui],Lr=l.convert(ii.format,ii.colorSpace),Ki=l.convert(ii.type),ji=ae(ii.internalFormat,Lr,Ki,ii.colorSpace),_s=Yn(Be);bn&&!1===Vi(Be)?c.renderbufferStorageMultisample(c.RENDERBUFFER,_s,ji,Be.width,Be.height):Vi(Be)?h.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,_s,ji,Be.width,Be.height):c.renderbufferStorage(c.RENDERBUFFER,ji,Be.width,Be.height)}}c.bindRenderbuffer(c.RENDERBUFFER,null)}function Ti(ft){const Be=r.get(ft),bn=!0===ft.isWebGLCubeRenderTarget;if(ft.depthTexture&&!Be.__autoAllocateDepthBuffer){if(bn)throw new Error("target.depthTexture not supported in Cube render targets");!function qi(ft,Be){if(Be&&Be.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(c.FRAMEBUFFER,ft),!Be.depthTexture||!Be.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Be.depthTexture).__webglTexture||Be.depthTexture.image.width!==Be.width||Be.depthTexture.image.height!==Be.height)&&(Be.depthTexture.image.width=Be.width,Be.depthTexture.image.height=Be.height,Be.depthTexture.needsUpdate=!0),Nt(Be.depthTexture,0);const Zn=r.get(Be.depthTexture).__webglTexture,ui=Yn(Be);if(Be.depthTexture.format===Ps)Vi(Be)?h.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Zn,0,ui):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,Zn,0);else{if(Be.depthTexture.format!==Os)throw new Error("Unknown depthTexture format");Vi(Be)?h.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Zn,0,ui):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,Zn,0)}}(Be.__webglFramebuffer,ft)}else if(bn){Be.__webglDepthbuffer=[];for(let Zn=0;Zn<6;Zn++)n.bindFramebuffer(c.FRAMEBUFFER,Be.__webglFramebuffer[Zn]),Be.__webglDepthbuffer[Zn]=c.createRenderbuffer(),Mi(Be.__webglDepthbuffer[Zn],ft,!1)}else n.bindFramebuffer(c.FRAMEBUFFER,Be.__webglFramebuffer),Be.__webglDepthbuffer=c.createRenderbuffer(),Mi(Be.__webglDepthbuffer,ft,!1);n.bindFramebuffer(c.FRAMEBUFFER,null)}const ks=[],qn=[];function Yn(ft){return Math.min(o.maxSamples,ft.samples)}function Vi(ft){const Be=r.get(ft);return ft.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==Be.__useRenderToTexture}function cr(ft,Be){const bn=ft.colorSpace,Zn=ft.format,ui=ft.type;return!0===ft.isCompressedTexture||!0===ft.isVideoTexture||bn!==_t&&""!==bn&&(eo.getTransfer(bn)===Mn?(Zn!==br||ui!==Mr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",bn)),Be}function $r(ft){return typeof HTMLImageElement<"u"&&ft instanceof HTMLImageElement?(v.width=ft.naturalWidth||ft.width,v.height=ft.naturalHeight||ft.height):typeof VideoFrame<"u"&&ft instanceof VideoFrame?(v.width=ft.displayWidth,v.height=ft.displayHeight):(v.width=ft.width,v.height=ft.height),v}this.allocateTextureUnit=function Kt(){const ft=Ne;return ft>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ft+" texture units while this GPU supports only "+o.maxTextures),Ne+=1,ft},this.resetTextureUnits=function xe(){Ne=0},this.setTexture2D=Nt,this.setTexture2DArray=function _n(ft,Be){const bn=r.get(ft);ft.version>0&&bn.__version!==ft.version?bs(bn,ft,Be):n.bindTexture(c.TEXTURE_2D_ARRAY,bn.__webglTexture,c.TEXTURE0+Be)},this.setTexture3D=function kn(ft,Be){const bn=r.get(ft);ft.version>0&&bn.__version!==ft.version?bs(bn,ft,Be):n.bindTexture(c.TEXTURE_3D,bn.__webglTexture,c.TEXTURE0+Be)},this.setTextureCube=function Wn(ft,Be){const bn=r.get(ft);ft.version>0&&bn.__version!==ft.version?function ws(ft,Be,bn){if(6!==Be.image.length)return;const Zn=sr(ft,Be),ui=Be.source;n.bindTexture(c.TEXTURE_CUBE_MAP,ft.__webglTexture,c.TEXTURE0+bn);const ii=r.get(ui);if(ui.version!==ii.__version||!0===Zn){n.activeTexture(c.TEXTURE0+bn);const Lr=eo.getPrimaries(eo.workingColorSpace),Ki=""===Be.colorSpace?null:eo.getPrimaries(Be.colorSpace),ji=""===Be.colorSpace||Lr===Ki?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Be.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Be.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,Be.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,ji);const _s=Be.isCompressedTexture||Be.image[0].isCompressedTexture,Fi=Be.image[0]&&Be.image[0].isDataTexture,Pr=[];for(let vn=0;vn<6;vn++)Pr[vn]=_s||Fi?Fi?Be.image[vn].image:Be.image[vn]:K(Be.image[vn],!0,o.maxCubemapSize),Pr[vn]=cr(Be,Pr[vn]);const Hs=Pr[0],Qr=l.convert(Be.format,Be.colorSpace),tr=l.convert(Be.type),Us=ae(Be.internalFormat,Qr,tr,Be.colorSpace),no=!0!==Be.isVideoTexture,zo=void 0===ii.__version||!0===Zn,$s=ui.dataReady;let an,Ce=ie(Be,Hs);if(yi(c.TEXTURE_CUBE_MAP,Be),_s){no&&zo&&n.texStorage2D(c.TEXTURE_CUBE_MAP,Ce,Us,Hs.width,Hs.height);for(let vn=0;vn<6;vn++){an=Pr[vn].mipmaps;for(let ci=0;ci<an.length;ci++){const Ii=an[ci];Be.format!==br?null!==Qr?no?$s&&n.compressedTexSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci,0,0,Ii.width,Ii.height,Qr,Ii.data):n.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci,Us,Ii.width,Ii.height,0,Ii.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):no?$s&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci,0,0,Ii.width,Ii.height,Qr,tr,Ii.data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci,Us,Ii.width,Ii.height,0,Qr,tr,Ii.data)}}}else{if(an=Be.mipmaps,no&&zo){an.length>0&&Ce++;const vn=$r(Pr[0]);n.texStorage2D(c.TEXTURE_CUBE_MAP,Ce,Us,vn.width,vn.height)}for(let vn=0;vn<6;vn++)if(Fi){no?$s&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,0,0,0,Pr[vn].width,Pr[vn].height,Qr,tr,Pr[vn].data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,0,Us,Pr[vn].width,Pr[vn].height,0,Qr,tr,Pr[vn].data);for(let ci=0;ci<an.length;ci++){const Is=an[ci].image[vn].image;no?$s&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci+1,0,0,Is.width,Is.height,Qr,tr,Is.data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci+1,Us,Is.width,Is.height,0,Qr,tr,Is.data)}}else{no?$s&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,0,0,0,Qr,tr,Pr[vn]):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,0,Us,Qr,tr,Pr[vn]);for(let ci=0;ci<an.length;ci++){const Ii=an[ci];no?$s&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci+1,0,0,Qr,tr,Ii.image[vn]):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+vn,ci+1,Us,Qr,tr,Ii.image[vn])}}}H(Be)&&U(c.TEXTURE_CUBE_MAP),ii.__version=ui.version,Be.onUpdate&&Be.onUpdate(Be)}ft.__version=Be.version}(bn,ft,Be):n.bindTexture(c.TEXTURE_CUBE_MAP,bn.__webglTexture,c.TEXTURE0+Be)},this.rebindTextures=function is(ft,Be,bn){const Zn=r.get(ft);void 0!==Be&&Bn(Zn.__webglFramebuffer,ft,ft.texture,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,0),void 0!==bn&&Ti(ft)},this.setupRenderTarget=function ys(ft){const Be=ft.texture,bn=r.get(ft),Zn=r.get(Be);ft.addEventListener("dispose",ot);const ui=ft.textures,ii=!0===ft.isWebGLCubeRenderTarget,Lr=ui.length>1;if(Lr||(void 0===Zn.__webglTexture&&(Zn.__webglTexture=c.createTexture()),Zn.__version=Be.version,f.memory.textures++),ii){bn.__webglFramebuffer=[];for(let Ki=0;Ki<6;Ki++)if(Be.mipmaps&&Be.mipmaps.length>0){bn.__webglFramebuffer[Ki]=[];for(let ji=0;ji<Be.mipmaps.length;ji++)bn.__webglFramebuffer[Ki][ji]=c.createFramebuffer()}else bn.__webglFramebuffer[Ki]=c.createFramebuffer()}else{if(Be.mipmaps&&Be.mipmaps.length>0){bn.__webglFramebuffer=[];for(let Ki=0;Ki<Be.mipmaps.length;Ki++)bn.__webglFramebuffer[Ki]=c.createFramebuffer()}else bn.__webglFramebuffer=c.createFramebuffer();if(Lr)for(let Ki=0,ji=ui.length;Ki<ji;Ki++){const _s=r.get(ui[Ki]);void 0===_s.__webglTexture&&(_s.__webglTexture=c.createTexture(),f.memory.textures++)}if(ft.samples>0&&!1===Vi(ft)){bn.__webglMultisampledFramebuffer=c.createFramebuffer(),bn.__webglColorRenderbuffer=[],n.bindFramebuffer(c.FRAMEBUFFER,bn.__webglMultisampledFramebuffer);for(let Ki=0;Ki<ui.length;Ki++){const ji=ui[Ki];bn.__webglColorRenderbuffer[Ki]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,bn.__webglColorRenderbuffer[Ki]);const _s=l.convert(ji.format,ji.colorSpace),Fi=l.convert(ji.type),Pr=ae(ji.internalFormat,_s,Fi,ji.colorSpace,!0===ft.isXRRenderTarget),Hs=Yn(ft);c.renderbufferStorageMultisample(c.RENDERBUFFER,Hs,Pr,ft.width,ft.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Ki,c.RENDERBUFFER,bn.__webglColorRenderbuffer[Ki])}c.bindRenderbuffer(c.RENDERBUFFER,null),ft.depthBuffer&&(bn.__webglDepthRenderbuffer=c.createRenderbuffer(),Mi(bn.__webglDepthRenderbuffer,ft,!0)),n.bindFramebuffer(c.FRAMEBUFFER,null)}}if(ii){n.bindTexture(c.TEXTURE_CUBE_MAP,Zn.__webglTexture),yi(c.TEXTURE_CUBE_MAP,Be);for(let Ki=0;Ki<6;Ki++)if(Be.mipmaps&&Be.mipmaps.length>0)for(let ji=0;ji<Be.mipmaps.length;ji++)Bn(bn.__webglFramebuffer[Ki][ji],ft,Be,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,ji);else Bn(bn.__webglFramebuffer[Ki],ft,Be,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,0);H(Be)&&U(c.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Lr){for(let Ki=0,ji=ui.length;Ki<ji;Ki++){const _s=ui[Ki],Fi=r.get(_s);n.bindTexture(c.TEXTURE_2D,Fi.__webglTexture),yi(c.TEXTURE_2D,_s),Bn(bn.__webglFramebuffer,ft,_s,c.COLOR_ATTACHMENT0+Ki,c.TEXTURE_2D,0),H(_s)&&U(c.TEXTURE_2D)}n.unbindTexture()}else{let Ki=c.TEXTURE_2D;if((ft.isWebGL3DRenderTarget||ft.isWebGLArrayRenderTarget)&&(Ki=ft.isWebGL3DRenderTarget?c.TEXTURE_3D:c.TEXTURE_2D_ARRAY),n.bindTexture(Ki,Zn.__webglTexture),yi(Ki,Be),Be.mipmaps&&Be.mipmaps.length>0)for(let ji=0;ji<Be.mipmaps.length;ji++)Bn(bn.__webglFramebuffer[ji],ft,Be,c.COLOR_ATTACHMENT0,Ki,ji);else Bn(bn.__webglFramebuffer,ft,Be,c.COLOR_ATTACHMENT0,Ki,0);H(Be)&&U(Ki),n.unbindTexture()}ft.depthBuffer&&Ti(ft)},this.updateRenderTargetMipmap=function tn(ft){const Be=ft.textures;for(let bn=0,Zn=Be.length;bn<Zn;bn++){const ui=Be[bn];if(H(ui)){const ii=ft.isWebGLCubeRenderTarget?c.TEXTURE_CUBE_MAP:c.TEXTURE_2D,Lr=r.get(ui).__webglTexture;n.bindTexture(ii,Lr),U(ii),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function _i(ft){if(ft.samples>0)if(!1===Vi(ft)){const Be=ft.textures,bn=ft.width,Zn=ft.height;let ui=c.COLOR_BUFFER_BIT;const ii=ft.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,Lr=r.get(ft),Ki=Be.length>1;if(Ki)for(let ji=0;ji<Be.length;ji++)n.bindFramebuffer(c.FRAMEBUFFER,Lr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+ji,c.RENDERBUFFER,null),n.bindFramebuffer(c.FRAMEBUFFER,Lr.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+ji,c.TEXTURE_2D,null,0);n.bindFramebuffer(c.READ_FRAMEBUFFER,Lr.__webglMultisampledFramebuffer),n.bindFramebuffer(c.DRAW_FRAMEBUFFER,Lr.__webglFramebuffer);for(let ji=0;ji<Be.length;ji++){if(ft.resolveDepthBuffer&&(ft.depthBuffer&&(ui|=c.DEPTH_BUFFER_BIT),ft.stencilBuffer&&ft.resolveStencilBuffer&&(ui|=c.STENCIL_BUFFER_BIT)),Ki){c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,Lr.__webglColorRenderbuffer[ji]);const _s=r.get(Be[ji]).__webglTexture;c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,_s,0)}c.blitFramebuffer(0,0,bn,Zn,0,0,bn,Zn,ui,c.NEAREST),!0===g&&(ks.length=0,qn.length=0,ks.push(c.COLOR_ATTACHMENT0+ji),ft.depthBuffer&&!1===ft.resolveDepthBuffer&&(ks.push(ii),qn.push(ii),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,qn)),c.invalidateFramebuffer(c.READ_FRAMEBUFFER,ks))}if(n.bindFramebuffer(c.READ_FRAMEBUFFER,null),n.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),Ki)for(let ji=0;ji<Be.length;ji++){n.bindFramebuffer(c.FRAMEBUFFER,Lr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+ji,c.RENDERBUFFER,Lr.__webglColorRenderbuffer[ji]);const _s=r.get(Be[ji]).__webglTexture;n.bindFramebuffer(c.FRAMEBUFFER,Lr.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+ji,c.TEXTURE_2D,_s,0)}n.bindFramebuffer(c.DRAW_FRAMEBUFFER,Lr.__webglMultisampledFramebuffer)}else ft.depthBuffer&&!1===ft.resolveDepthBuffer&&g&&c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,[ft.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=Ti,this.setupFrameBufferTexture=Bn,this.useMultisampledRTT=Vi}function mE(c,e){return{convert:function n(r,o=""){let l;const f=eo.getTransfer(o);if(r===Mr)return c.UNSIGNED_BYTE;if(1017===r)return c.UNSIGNED_SHORT_4_4_4_4;if(1018===r)return c.UNSIGNED_SHORT_5_5_5_1;if(35902===r)return c.UNSIGNED_INT_5_9_9_9_REV;if(1010===r)return c.BYTE;if(1011===r)return c.SHORT;if(1012===r)return c.UNSIGNED_SHORT;if(1013===r)return c.INT;if(r===aa)return c.UNSIGNED_INT;if(r===so)return c.FLOAT;if(1016===r)return c.HALF_FLOAT;if(1021===r)return c.ALPHA;if(1022===r)return c.RGB;if(r===br)return c.RGBA;if(1024===r)return c.LUMINANCE;if(1025===r)return c.LUMINANCE_ALPHA;if(r===Ps)return c.DEPTH_COMPONENT;if(r===Os)return c.DEPTH_STENCIL;if(1028===r)return c.RED;if(1029===r)return c.RED_INTEGER;if(1030===r)return c.RG;if(1031===r)return c.RG_INTEGER;if(1033===r)return c.RGBA_INTEGER;if(33776===r||33777===r||33778===r||33779===r)if(f===Mn){if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===l)return null;if(33776===r)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(l=e.get("WEBGL_compressed_texture_s3tc"),null===l)return null;if(33776===r)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(l=e.get("WEBGL_compressed_texture_pvrtc"),null===l)return null;if(35840===r)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r||37492===r||37496===r){if(l=e.get("WEBGL_compressed_texture_etc"),null===l)return null;if(36196===r||37492===r)return f===Mn?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(37496===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(l=e.get("WEBGL_compressed_texture_astc"),null===l)return null;if(37808===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return f===Mn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r||36494===r||36495===r){if(l=e.get("EXT_texture_compression_bptc"),null===l)return null;if(36492===r)return f===Mn?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===r)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===r)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===r||36284===r||36285===r||36286===r){if(l=e.get("EXT_texture_compression_rgtc"),null===l)return null;if(36492===r)return l.COMPRESSED_RED_RGTC1_EXT;if(36284===r)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===r)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===r)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===So?c.UNSIGNED_INT_24_8:void 0!==c[r]?c[r]:null}}}class gE extends Ma{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Gl extends Kn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wb={type:"move"};class _m{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Gl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Gl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ye,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ye),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Gl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ye,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ye),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,n,r){let o=null,l=null,f=null;const h=this._targetRay,g=this._grip,v=this._hand;if(e&&"visible-blurred"!==n.session.visibilityState){if(v&&e.hand){f=!0;for(const K of e.hand.values()){const H=n.getJointPose(K,r),U=this._getHandJoint(v,K);null!==H&&(U.matrix.fromArray(H.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),U.matrixWorldNeedsUpdate=!0,U.jointRadius=H.radius),U.visible=null!==H}const A=v.joints["index-finger-tip"].position.distanceTo(v.joints["thumb-tip"].position),R=.02,B=.005;v.inputState.pinching&&A>R+B?(v.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!v.inputState.pinching&&A<=R-B&&(v.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==g&&e.gripSpace&&(l=n.getPose(e.gripSpace,r),null!==l&&(g.matrix.fromArray(l.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,l.linearVelocity?(g.hasLinearVelocity=!0,g.linearVelocity.copy(l.linearVelocity)):g.hasLinearVelocity=!1,l.angularVelocity?(g.hasAngularVelocity=!0,g.angularVelocity.copy(l.angularVelocity)):g.hasAngularVelocity=!1));null!==h&&(o=n.getPose(e.targetRaySpace,r),null===o&&null!==l&&(o=l),null!==o&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(wb)))}return null!==h&&(h.visible=null!==o),null!==g&&(g.visible=null!==l),null!==v&&(v.visible=null!==f),this}_getHandJoint(e,n){if(void 0===e.joints[n.jointName]){const r=new Gl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Eb{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(null===this.texture){const o=new Ea;e.properties.get(o).__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=o}}render(e,n){if(null!==this.texture){if(null===this.mesh){const r=n.cameras[0].viewport,o=new fs({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new ka(new Xd(20,20),o)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Sb extends z{constructor(e,n){super();const r=this;let o=null,l=1,f=null,h="local-floor",g=1,v=null,w=null,S=null,A=null,R=null,B=null;const K=new Eb,H=n.getContextAttributes();let U=null,ae=null;const ie=[],ue=[],ot=new Vn;let ze=null;const We=new Ma;We.layers.enable(1),We.viewport=new fo;const ht=new Ma;ht.layers.enable(2),ht.viewport=new fo;const Ne=[We,ht],xe=new gE;xe.layers.enable(1),xe.layers.enable(2);let Kt=null,gn=null;function Nt(Bn){const Mi=ue.indexOf(Bn.inputSource);if(-1===Mi)return;const qi=ie[Mi];void 0!==qi&&(qi.update(Bn.inputSource,Bn.frame,v||f),qi.dispatchEvent({type:Bn.type,data:Bn.inputSource}))}function _n(){o.removeEventListener("select",Nt),o.removeEventListener("selectstart",Nt),o.removeEventListener("selectend",Nt),o.removeEventListener("squeeze",Nt),o.removeEventListener("squeezestart",Nt),o.removeEventListener("squeezeend",Nt),o.removeEventListener("end",_n),o.removeEventListener("inputsourceschange",kn);for(let Bn=0;Bn<ie.length;Bn++){const Mi=ue[Bn];null!==Mi&&(ue[Bn]=null,ie[Bn].disconnect(Mi))}Kt=null,gn=null,K.reset(),e.setRenderTarget(U),R=null,A=null,S=null,o=null,ae=null,ws.stop(),r.isPresenting=!1,e.setPixelRatio(ze),e.setSize(ot.width,ot.height,!1),r.dispatchEvent({type:"sessionend"})}function kn(Bn){for(let Mi=0;Mi<Bn.removed.length;Mi++){const qi=Bn.removed[Mi],Ti=ue.indexOf(qi);Ti>=0&&(ue[Ti]=null,ie[Ti].disconnect(qi))}for(let Mi=0;Mi<Bn.added.length;Mi++){const qi=Bn.added[Mi];let Ti=ue.indexOf(qi);if(-1===Ti){for(let ys=0;ys<ie.length;ys++){if(ys>=ue.length){ue.push(qi),Ti=ys;break}if(null===ue[ys]){ue[ys]=qi,Ti=ys;break}}if(-1===Ti)break}const is=ie[Ti];is&&is.connect(qi)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Bn){let Mi=ie[Bn];return void 0===Mi&&(Mi=new _m,ie[Bn]=Mi),Mi.getTargetRaySpace()},this.getControllerGrip=function(Bn){let Mi=ie[Bn];return void 0===Mi&&(Mi=new _m,ie[Bn]=Mi),Mi.getGripSpace()},this.getHand=function(Bn){let Mi=ie[Bn];return void 0===Mi&&(Mi=new _m,ie[Bn]=Mi),Mi.getHandSpace()},this.setFramebufferScaleFactor=function(Bn){l=Bn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Bn){h=Bn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return v||f},this.setReferenceSpace=function(Bn){v=Bn},this.getBaseLayer=function(){return null!==A?A:R},this.getBinding=function(){return S},this.getFrame=function(){return B},this.getSession=function(){return o},this.setSession=function(){var Bn=(0,Xt.A)(function*(Mi){if(o=Mi,null!==o){if(U=e.getRenderTarget(),o.addEventListener("select",Nt),o.addEventListener("selectstart",Nt),o.addEventListener("selectend",Nt),o.addEventListener("squeeze",Nt),o.addEventListener("squeezestart",Nt),o.addEventListener("squeezeend",Nt),o.addEventListener("end",_n),o.addEventListener("inputsourceschange",kn),!0!==H.xrCompatible&&(yield n.makeXRCompatible()),ze=e.getPixelRatio(),e.getSize(ot),void 0===o.renderState.layers)R=new XRWebGLLayer(o,n,{antialias:H.antialias,alpha:!0,depth:H.depth,stencil:H.stencil,framebufferScaleFactor:l}),o.updateRenderState({baseLayer:R}),e.setPixelRatio(1),e.setSize(R.framebufferWidth,R.framebufferHeight,!1),ae=new Qa(R.framebufferWidth,R.framebufferHeight,{format:br,type:Mr,colorSpace:e.outputColorSpace,stencilBuffer:H.stencil});else{let qi=null,Ti=null,is=null;H.depth&&(is=H.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,qi=H.stencil?Os:Ps,Ti=H.stencil?So:aa);const ys={colorFormat:n.RGBA8,depthFormat:is,scaleFactor:l};S=new XRWebGLBinding(o,n),A=S.createProjectionLayer(ys),o.updateRenderState({layers:[A]}),e.setPixelRatio(1),e.setSize(A.textureWidth,A.textureHeight,!1),ae=new Qa(A.textureWidth,A.textureHeight,{format:br,type:Mr,depthTexture:new Fv(A.textureWidth,A.textureHeight,Ti,void 0,void 0,void 0,void 0,void 0,void 0,qi),stencilBuffer:H.stencil,colorSpace:e.outputColorSpace,samples:H.antialias?4:0,resolveDepthBuffer:!1===A.ignoreDepthValues})}ae.isXRRenderTarget=!0,this.setFoveation(g),v=null,f=yield o.requestReferenceSpace(h),ws.setContext(o),ws.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(Mi){return Bn.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};const Wn=new Ye,Oi=new Ye;function mi(Bn,Mi){null===Mi?Bn.matrixWorld.copy(Bn.matrix):Bn.matrixWorld.multiplyMatrices(Mi.matrixWorld,Bn.matrix),Bn.matrixWorldInverse.copy(Bn.matrixWorld).invert()}this.updateCamera=function(Bn){if(null===o)return;null!==K.texture&&(Bn.near=K.depthNear,Bn.far=K.depthFar),xe.near=ht.near=We.near=Bn.near,xe.far=ht.far=We.far=Bn.far,(Kt!==xe.near||gn!==xe.far)&&(o.updateRenderState({depthNear:xe.near,depthFar:xe.far}),Kt=xe.near,gn=xe.far,We.near=Kt,We.far=gn,ht.near=Kt,ht.far=gn,We.updateProjectionMatrix(),ht.updateProjectionMatrix(),Bn.updateProjectionMatrix());const Mi=Bn.parent,qi=xe.cameras;mi(xe,Mi);for(let Ti=0;Ti<qi.length;Ti++)mi(qi[Ti],Mi);2===qi.length?function Nn(Bn,Mi,qi){Wn.setFromMatrixPosition(Mi.matrixWorld),Oi.setFromMatrixPosition(qi.matrixWorld);const Ti=Wn.distanceTo(Oi),is=Mi.projectionMatrix.elements,ys=qi.projectionMatrix.elements,tn=is[14]/(is[10]-1),ks=is[14]/(is[10]+1),qn=(is[9]+1)/is[5],_i=(is[9]-1)/is[5],Yn=(is[8]-1)/is[0],Vi=(ys[8]+1)/ys[0],hi=tn*Yn,cr=tn*Vi,$r=Ti/(-Yn+Vi),ft=$r*-Yn;Mi.matrixWorld.decompose(Bn.position,Bn.quaternion,Bn.scale),Bn.translateX(ft),Bn.translateZ($r),Bn.matrixWorld.compose(Bn.position,Bn.quaternion,Bn.scale),Bn.matrixWorldInverse.copy(Bn.matrixWorld).invert();const Be=tn+$r,bn=ks+$r;Bn.projectionMatrix.makePerspective(hi-ft,cr+(Ti-ft),qn*ks/bn*Be,_i*ks/bn*Be,Be,bn),Bn.projectionMatrixInverse.copy(Bn.projectionMatrix).invert()}(xe,We,ht):xe.projectionMatrix.copy(We.projectionMatrix),function yi(Bn,Mi,qi){null===qi?Bn.matrix.copy(Mi.matrixWorld):(Bn.matrix.copy(qi.matrixWorld),Bn.matrix.invert(),Bn.matrix.multiply(Mi.matrixWorld)),Bn.matrix.decompose(Bn.position,Bn.quaternion,Bn.scale),Bn.updateMatrixWorld(!0),Bn.projectionMatrix.copy(Mi.projectionMatrix),Bn.projectionMatrixInverse.copy(Mi.projectionMatrixInverse),Bn.isPerspectiveCamera&&(Bn.fov=2*Dt*Math.atan(1/Bn.projectionMatrix.elements[5]),Bn.zoom=1)}(Bn,xe,Mi)},this.getCamera=function(){return xe},this.getFoveation=function(){if(null!==A||null!==R)return g},this.setFoveation=function(Bn){g=Bn,null!==A&&(A.fixedFoveation=Bn),null!==R&&void 0!==R.fixedFoveation&&(R.fixedFoveation=Bn)},this.hasDepthSensing=function(){return null!==K.texture};let sr=null;const ws=new kp;ws.setAnimationLoop(function bs(Bn,Mi){if(w=Mi.getViewerPose(v||f),B=Mi,null!==w){const qi=w.views;null!==R&&(e.setRenderTargetFramebuffer(ae,R.framebuffer),e.setRenderTarget(ae));let Ti=!1;qi.length!==xe.cameras.length&&(xe.cameras.length=0,Ti=!0);for(let ys=0;ys<qi.length;ys++){const tn=qi[ys];let ks=null;if(null!==R)ks=R.getViewport(tn);else{const _i=S.getViewSubImage(A,tn);ks=_i.viewport,0===ys&&(e.setRenderTargetTextures(ae,_i.colorTexture,A.ignoreDepthValues?void 0:_i.depthStencilTexture),e.setRenderTarget(ae))}let qn=Ne[ys];void 0===qn&&(qn=new Ma,qn.layers.enable(ys),qn.viewport=new fo,Ne[ys]=qn),qn.matrix.fromArray(tn.transform.matrix),qn.matrix.decompose(qn.position,qn.quaternion,qn.scale),qn.projectionMatrix.fromArray(tn.projectionMatrix),qn.projectionMatrixInverse.copy(qn.projectionMatrix).invert(),qn.viewport.set(ks.x,ks.y,ks.width,ks.height),0===ys&&(xe.matrix.copy(qn.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale)),!0===Ti&&xe.cameras.push(qn)}const is=o.enabledFeatures;if(is&&is.includes("depth-sensing")){const ys=S.getDepthInformation(qi[0]);ys&&ys.isValid&&ys.texture&&K.init(e,ys,o.renderState)}}for(let qi=0;qi<ie.length;qi++){const Ti=ue[qi],is=ie[qi];null!==Ti&&void 0!==is&&is.update(Ti,Mi,v||f)}K.render(e,xe),sr&&sr(Bn,Mi),Mi.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Mi}),B=null}),this.setAnimationLoop=function(Bn){sr=Bn},this.dispose=function(){}}}const Pu=new Re,Mb=new vr;function Cb(c,e){function n(H,U){!0===H.matrixAutoUpdate&&H.updateMatrix(),U.value.copy(H.matrix)}function l(H,U){H.opacity.value=U.opacity,U.color&&H.diffuse.value.copy(U.color),U.emissive&&H.emissive.value.copy(U.emissive).multiplyScalar(U.emissiveIntensity),U.map&&(H.map.value=U.map,n(U.map,H.mapTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.bumpMap&&(H.bumpMap.value=U.bumpMap,n(U.bumpMap,H.bumpMapTransform),H.bumpScale.value=U.bumpScale,1===U.side&&(H.bumpScale.value*=-1)),U.normalMap&&(H.normalMap.value=U.normalMap,n(U.normalMap,H.normalMapTransform),H.normalScale.value.copy(U.normalScale),1===U.side&&H.normalScale.value.negate()),U.displacementMap&&(H.displacementMap.value=U.displacementMap,n(U.displacementMap,H.displacementMapTransform),H.displacementScale.value=U.displacementScale,H.displacementBias.value=U.displacementBias),U.emissiveMap&&(H.emissiveMap.value=U.emissiveMap,n(U.emissiveMap,H.emissiveMapTransform)),U.specularMap&&(H.specularMap.value=U.specularMap,n(U.specularMap,H.specularMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest);const ae=e.get(U),ie=ae.envMap,ue=ae.envMapRotation;if(ie&&(H.envMap.value=ie,Pu.copy(ue),Pu.x*=-1,Pu.y*=-1,Pu.z*=-1,ie.isCubeTexture&&!1===ie.isRenderTargetTexture&&(Pu.y*=-1,Pu.z*=-1),H.envMapRotation.value.setFromMatrix4(Mb.makeRotationFromEuler(Pu)),H.flipEnvMap.value=ie.isCubeTexture&&!1===ie.isRenderTargetTexture?-1:1,H.reflectivity.value=U.reflectivity,H.ior.value=U.ior,H.refractionRatio.value=U.refractionRatio),U.lightMap){H.lightMap.value=U.lightMap;const ot=!0===c._useLegacyLights?Math.PI:1;H.lightMapIntensity.value=U.lightMapIntensity*ot,n(U.lightMap,H.lightMapTransform)}U.aoMap&&(H.aoMap.value=U.aoMap,H.aoMapIntensity.value=U.aoMapIntensity,n(U.aoMap,H.aoMapTransform))}return{refreshFogUniforms:function r(H,U){U.color.getRGB(H.fogColor.value,Wg(c)),U.isFog?(H.fogNear.value=U.near,H.fogFar.value=U.far):U.isFogExp2&&(H.fogDensity.value=U.density)},refreshMaterialUniforms:function o(H,U,ae,ie,ue){U.isMeshBasicMaterial||U.isMeshLambertMaterial?l(H,U):U.isMeshToonMaterial?(l(H,U),function S(H,U){U.gradientMap&&(H.gradientMap.value=U.gradientMap)}(H,U)):U.isMeshPhongMaterial?(l(H,U),function w(H,U){H.specular.value.copy(U.specular),H.shininess.value=Math.max(U.shininess,1e-4)}(H,U)):U.isMeshStandardMaterial?(l(H,U),function A(H,U){H.metalness.value=U.metalness,U.metalnessMap&&(H.metalnessMap.value=U.metalnessMap,n(U.metalnessMap,H.metalnessMapTransform)),H.roughness.value=U.roughness,U.roughnessMap&&(H.roughnessMap.value=U.roughnessMap,n(U.roughnessMap,H.roughnessMapTransform)),U.envMap&&(H.envMapIntensity.value=U.envMapIntensity)}(H,U),U.isMeshPhysicalMaterial&&function R(H,U,ae){H.ior.value=U.ior,U.sheen>0&&(H.sheenColor.value.copy(U.sheenColor).multiplyScalar(U.sheen),H.sheenRoughness.value=U.sheenRoughness,U.sheenColorMap&&(H.sheenColorMap.value=U.sheenColorMap,n(U.sheenColorMap,H.sheenColorMapTransform)),U.sheenRoughnessMap&&(H.sheenRoughnessMap.value=U.sheenRoughnessMap,n(U.sheenRoughnessMap,H.sheenRoughnessMapTransform))),U.clearcoat>0&&(H.clearcoat.value=U.clearcoat,H.clearcoatRoughness.value=U.clearcoatRoughness,U.clearcoatMap&&(H.clearcoatMap.value=U.clearcoatMap,n(U.clearcoatMap,H.clearcoatMapTransform)),U.clearcoatRoughnessMap&&(H.clearcoatRoughnessMap.value=U.clearcoatRoughnessMap,n(U.clearcoatRoughnessMap,H.clearcoatRoughnessMapTransform)),U.clearcoatNormalMap&&(H.clearcoatNormalMap.value=U.clearcoatNormalMap,n(U.clearcoatNormalMap,H.clearcoatNormalMapTransform),H.clearcoatNormalScale.value.copy(U.clearcoatNormalScale),1===U.side&&H.clearcoatNormalScale.value.negate())),U.dispersion>0&&(H.dispersion.value=U.dispersion),U.iridescence>0&&(H.iridescence.value=U.iridescence,H.iridescenceIOR.value=U.iridescenceIOR,H.iridescenceThicknessMinimum.value=U.iridescenceThicknessRange[0],H.iridescenceThicknessMaximum.value=U.iridescenceThicknessRange[1],U.iridescenceMap&&(H.iridescenceMap.value=U.iridescenceMap,n(U.iridescenceMap,H.iridescenceMapTransform)),U.iridescenceThicknessMap&&(H.iridescenceThicknessMap.value=U.iridescenceThicknessMap,n(U.iridescenceThicknessMap,H.iridescenceThicknessMapTransform))),U.transmission>0&&(H.transmission.value=U.transmission,H.transmissionSamplerMap.value=ae.texture,H.transmissionSamplerSize.value.set(ae.width,ae.height),U.transmissionMap&&(H.transmissionMap.value=U.transmissionMap,n(U.transmissionMap,H.transmissionMapTransform)),H.thickness.value=U.thickness,U.thicknessMap&&(H.thicknessMap.value=U.thicknessMap,n(U.thicknessMap,H.thicknessMapTransform)),H.attenuationDistance.value=U.attenuationDistance,H.attenuationColor.value.copy(U.attenuationColor)),U.anisotropy>0&&(H.anisotropyVector.value.set(U.anisotropy*Math.cos(U.anisotropyRotation),U.anisotropy*Math.sin(U.anisotropyRotation)),U.anisotropyMap&&(H.anisotropyMap.value=U.anisotropyMap,n(U.anisotropyMap,H.anisotropyMapTransform))),H.specularIntensity.value=U.specularIntensity,H.specularColor.value.copy(U.specularColor),U.specularColorMap&&(H.specularColorMap.value=U.specularColorMap,n(U.specularColorMap,H.specularColorMapTransform)),U.specularIntensityMap&&(H.specularIntensityMap.value=U.specularIntensityMap,n(U.specularIntensityMap,H.specularIntensityMapTransform))}(H,U,ue)):U.isMeshMatcapMaterial?(l(H,U),function B(H,U){U.matcap&&(H.matcap.value=U.matcap)}(H,U)):U.isMeshDepthMaterial?l(H,U):U.isMeshDistanceMaterial?(l(H,U),function K(H,U){const ae=e.get(U).light;H.referencePosition.value.setFromMatrixPosition(ae.matrixWorld),H.nearDistance.value=ae.shadow.camera.near,H.farDistance.value=ae.shadow.camera.far}(H,U)):U.isMeshNormalMaterial?l(H,U):U.isLineBasicMaterial?(function f(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,U.map&&(H.map.value=U.map,n(U.map,H.mapTransform))}(H,U),U.isLineDashedMaterial&&function h(H,U){H.dashSize.value=U.dashSize,H.totalSize.value=U.dashSize+U.gapSize,H.scale.value=U.scale}(H,U)):U.isPointsMaterial?function g(H,U,ae,ie){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.size.value=U.size*ae,H.scale.value=.5*ie,U.map&&(H.map.value=U.map,n(U.map,H.uvTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest)}(H,U,ae,ie):U.isSpriteMaterial?function v(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.rotation.value=U.rotation,U.map&&(H.map.value=U.map,n(U.map,H.mapTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest)}(H,U):U.isShadowMaterial?(H.color.value.copy(U.color),H.opacity.value=U.opacity):U.isShaderMaterial&&(U.uniformsNeedUpdate=!1)}}}function Ab(c,e,n,r){let o={},l={},f=[];const h=c.getParameter(c.MAX_UNIFORM_BUFFER_BINDINGS);function R(ae,ie,ue,ot){const ze=ae.value,We=ie+"_"+ue;if(void 0===ot[We])return ot[We]="number"==typeof ze||"boolean"==typeof ze?ze:ze.clone(),!0;{const ht=ot[We];if("number"==typeof ze||"boolean"==typeof ze){if(ht!==ze)return ot[We]=ze,!0}else if(!1===ht.equals(ze))return ht.copy(ze),!0}return!1}function K(ae){const ie={boundary:0,storage:0};return"number"==typeof ae||"boolean"==typeof ae?(ie.boundary=4,ie.storage=4):ae.isVector2?(ie.boundary=8,ie.storage=8):ae.isVector3||ae.isColor?(ie.boundary=16,ie.storage=12):ae.isVector4?(ie.boundary=16,ie.storage=16):ae.isMatrix3?(ie.boundary=48,ie.storage=48):ae.isMatrix4?(ie.boundary=64,ie.storage=64):ae.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ae),ie}function H(ae){const ie=ae.target;ie.removeEventListener("dispose",H);const ue=f.indexOf(ie.__bindingPointIndex);f.splice(ue,1),c.deleteBuffer(o[ie.id]),delete o[ie.id],delete l[ie.id]}return{bind:function g(ae,ie){r.uniformBlockBinding(ae,ie.program)},update:function v(ae,ie){let ue=o[ae.id];void 0===ue&&(function B(ae){const ie=ae.uniforms;let ue=0;for(let We=0,ht=ie.length;We<ht;We++){const Ne=Array.isArray(ie[We])?ie[We]:[ie[We]];for(let xe=0,Kt=Ne.length;xe<Kt;xe++){const gn=Ne[xe],Nt=Array.isArray(gn.value)?gn.value:[gn.value];for(let _n=0,kn=Nt.length;_n<kn;_n++){const Oi=K(Nt[_n]),Nn=ue%16;0!==Nn&&16-Nn<Oi.boundary&&(ue+=16-Nn),gn.__data=new Float32Array(Oi.storage/Float32Array.BYTES_PER_ELEMENT),gn.__offset=ue,ue+=Oi.storage}}}const ze=ue%16;ze>0&&(ue+=16-ze),ae.__size=ue,ae.__cache={}}(ae),ue=function w(ae){const ie=function S(){for(let ae=0;ae<h;ae++)if(-1===f.indexOf(ae))return f.push(ae),ae;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();ae.__bindingPointIndex=ie;const ue=c.createBuffer(),ot=ae.__size,ze=ae.usage;return c.bindBuffer(c.UNIFORM_BUFFER,ue),c.bufferData(c.UNIFORM_BUFFER,ot,ze),c.bindBuffer(c.UNIFORM_BUFFER,null),c.bindBufferBase(c.UNIFORM_BUFFER,ie,ue),ue}(ae),o[ae.id]=ue,ae.addEventListener("dispose",H)),r.updateUBOMapping(ae,ie.program);const ze=e.render.frame;l[ae.id]!==ze&&(function A(ae){const ue=ae.uniforms,ot=ae.__cache;c.bindBuffer(c.UNIFORM_BUFFER,o[ae.id]);for(let ze=0,We=ue.length;ze<We;ze++){const ht=Array.isArray(ue[ze])?ue[ze]:[ue[ze]];for(let Ne=0,xe=ht.length;Ne<xe;Ne++){const Kt=ht[Ne];if(!0===R(Kt,ze,Ne,ot)){const gn=Kt.__offset,Nt=Array.isArray(Kt.value)?Kt.value:[Kt.value];let _n=0;for(let kn=0;kn<Nt.length;kn++){const Wn=Nt[kn],Oi=K(Wn);"number"==typeof Wn||"boolean"==typeof Wn?(Kt.__data[0]=Wn,c.bufferSubData(c.UNIFORM_BUFFER,gn+_n,Kt.__data)):Wn.isMatrix3?(Kt.__data[0]=Wn.elements[0],Kt.__data[1]=Wn.elements[1],Kt.__data[2]=Wn.elements[2],Kt.__data[3]=0,Kt.__data[4]=Wn.elements[3],Kt.__data[5]=Wn.elements[4],Kt.__data[6]=Wn.elements[5],Kt.__data[7]=0,Kt.__data[8]=Wn.elements[6],Kt.__data[9]=Wn.elements[7],Kt.__data[10]=Wn.elements[8],Kt.__data[11]=0):(Wn.toArray(Kt.__data,_n),_n+=Oi.storage/Float32Array.BYTES_PER_ELEMENT)}c.bufferSubData(c.UNIFORM_BUFFER,gn,Kt.__data)}}}c.bindBuffer(c.UNIFORM_BUFFER,null)}(ae),l[ae.id]=ze)},dispose:function U(){for(const ae in o)c.deleteBuffer(o[ae]);f=[],o={},l={}}}}class bm{constructor(e={}){const{canvas:n=El(),context:r=null,depth:o=!0,stencil:l=!1,alpha:f=!1,antialias:h=!1,premultipliedAlpha:g=!0,preserveDrawingBuffer:v=!1,powerPreference:w="default",failIfMajorPerformanceCaveat:S=!1}=e;let A;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");A=r.getContextAttributes().alpha}else A=f;const R=new Uint32Array(4),B=new Int32Array(4);let K=null,H=null;const U=[],ae=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mt,this._useLegacyLights=!1,this.toneMapping=hr,this.toneMappingExposure=1;const ie=this;let ue=!1,ot=0,ze=0,We=null,ht=-1,Ne=null;const xe=new fo,Kt=new fo;let gn=null;const Nt=new vi(0);let _n=0,kn=n.width,Wn=n.height,Oi=1,Nn=null,mi=null;const yi=new fo(0,0,kn,Wn),sr=new fo(0,0,kn,Wn);let bs=!1;const ws=new ch;let Bn=!1,Mi=!1;const qi=new vr,Ti=new Ye,is={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ys(){return null===We?Oi:1}let qn,_i,Yn,Vi,hi,cr,$r,ft,Be,bn,Zn,ui,ii,Lr,Ki,ji,_s,Fi,Pr,Hs,Qr,tr,Us,no,tn=r;function ks(qe,ln){return n.getContext(qe,ln)}try{const qe={alpha:!0,depth:o,stencil:l,antialias:h,premultipliedAlpha:g,preserveDrawingBuffer:v,powerPreference:w,failIfMajorPerformanceCaveat:S};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r164"),n.addEventListener("webglcontextlost",Ce,!1),n.addEventListener("webglcontextrestored",an,!1),n.addEventListener("webglcontextcreationerror",vn,!1),null===tn){const ln="webgl2";if(tn=ks(ln,qe),null===tn)throw ks(ln)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(qe){throw console.error("THREE.WebGLRenderer: "+qe.message),qe}function zo(){qn=new Lv(tn),qn.init(),tr=new mE(tn,qn),_i=new Av(tn,qn,e,tr),Yn=new bb(tn),Vi=new iE(tn),hi=new n0,cr=new c0(tn,qn,Yn,hi,_i,tr,Vi),$r=new Dv(ie),ft=new V_(ie),Be=new Jy(tn),Us=new U_(tn,Be),bn=new sm(tn,Be,Vi,Us),Zn=new H_(tn,bn,Be,Vi),Pr=new z_(tn,_i,cr),ji=new Tv(hi),ui=new hb(ie,$r,ft,qn,_i,Us,ji),ii=new Cb(ie,hi),Lr=new a0,Ki=new gb(qn),Fi=new k_(ie,$r,ft,Yn,Zn,A,g),_s=new _b(ie,Zn,_i),no=new Ab(tn,Vi,_i,Yn),Hs=new B_(tn,qn,Vi),Qr=new nE(tn,qn,Vi),Vi.programs=ui.programs,ie.capabilities=_i,ie.extensions=qn,ie.properties=hi,ie.renderLists=Lr,ie.shadowMap=_s,ie.state=Yn,ie.info=Vi}zo();const $s=new Sb(ie,tn);function Ce(qe){qe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ue=!0}function an(){console.log("THREE.WebGLRenderer: Context Restored."),ue=!1;const qe=Vi.autoReset,ln=_s.enabled,Pn=_s.autoUpdate,Sn=_s.needsUpdate,wn=_s.type;zo(),Vi.autoReset=qe,_s.enabled=ln,_s.autoUpdate=Pn,_s.needsUpdate=Sn,_s.type=wn}function vn(qe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",qe.statusMessage)}function ci(qe){const ln=qe.target;ln.removeEventListener("dispose",ci),function Ii(qe){(function Is(qe){const ln=hi.get(qe).programs;void 0!==ln&&(ln.forEach(function(Pn){ui.releaseProgram(Pn)}),qe.isShaderMaterial&&ui.releaseShaderCache(qe))})(qe),hi.remove(qe)}(ln)}function Ms(qe,ln,Pn){!0===qe.transparent&&2===qe.side&&!1===qe.forceSinglePass?(qe.side=1,qe.needsUpdate=!0,Jf(qe,ln,Pn),qe.side=0,qe.needsUpdate=!0,Jf(qe,ln,Pn),qe.side=2):Jf(qe,ln,Pn)}this.xr=$s,this.getContext=function(){return tn},this.getContextAttributes=function(){return tn.getContextAttributes()},this.forceContextLoss=function(){const qe=qn.get("WEBGL_lose_context");qe&&qe.loseContext()},this.forceContextRestore=function(){const qe=qn.get("WEBGL_lose_context");qe&&qe.restoreContext()},this.getPixelRatio=function(){return Oi},this.setPixelRatio=function(qe){void 0!==qe&&(Oi=qe,this.setSize(kn,Wn,!1))},this.getSize=function(qe){return qe.set(kn,Wn)},this.setSize=function(qe,ln,Pn=!0){$s.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(kn=qe,Wn=ln,n.width=Math.floor(qe*Oi),n.height=Math.floor(ln*Oi),!0===Pn&&(n.style.width=qe+"px",n.style.height=ln+"px"),this.setViewport(0,0,qe,ln))},this.getDrawingBufferSize=function(qe){return qe.set(kn*Oi,Wn*Oi).floor()},this.setDrawingBufferSize=function(qe,ln,Pn){kn=qe,Wn=ln,Oi=Pn,n.width=Math.floor(qe*Pn),n.height=Math.floor(ln*Pn),this.setViewport(0,0,qe,ln)},this.getCurrentViewport=function(qe){return qe.copy(xe)},this.getViewport=function(qe){return qe.copy(yi)},this.setViewport=function(qe,ln,Pn,Sn){qe.isVector4?yi.set(qe.x,qe.y,qe.z,qe.w):yi.set(qe,ln,Pn,Sn),Yn.viewport(xe.copy(yi).multiplyScalar(Oi).round())},this.getScissor=function(qe){return qe.copy(sr)},this.setScissor=function(qe,ln,Pn,Sn){qe.isVector4?sr.set(qe.x,qe.y,qe.z,qe.w):sr.set(qe,ln,Pn,Sn),Yn.scissor(Kt.copy(sr).multiplyScalar(Oi).round())},this.getScissorTest=function(){return bs},this.setScissorTest=function(qe){Yn.setScissorTest(bs=qe)},this.setOpaqueSort=function(qe){Nn=qe},this.setTransparentSort=function(qe){mi=qe},this.getClearColor=function(qe){return qe.copy(Fi.getClearColor())},this.setClearColor=function(){Fi.setClearColor.apply(Fi,arguments)},this.getClearAlpha=function(){return Fi.getClearAlpha()},this.setClearAlpha=function(){Fi.setClearAlpha.apply(Fi,arguments)},this.clear=function(qe=!0,ln=!0,Pn=!0){let Sn=0;if(qe){let wn=!1;if(null!==We){const nr=We.texture.format;wn=1033===nr||1031===nr||1029===nr}if(wn){const nr=We.texture.type,Tr=nr===Mr||nr===aa||1012===nr||nr===So||1017===nr||1018===nr,Dr=Fi.getClearColor(),Gr=Fi.getClearAlpha(),xs=Dr.r,Gs=Dr.g,js=Dr.b;Tr?(R[0]=xs,R[1]=Gs,R[2]=js,R[3]=Gr,tn.clearBufferuiv(tn.COLOR,0,R)):(B[0]=xs,B[1]=Gs,B[2]=js,B[3]=Gr,tn.clearBufferiv(tn.COLOR,0,B))}else Sn|=tn.COLOR_BUFFER_BIT}ln&&(Sn|=tn.DEPTH_BUFFER_BIT),Pn&&(Sn|=tn.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),tn.clear(Sn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ce,!1),n.removeEventListener("webglcontextrestored",an,!1),n.removeEventListener("webglcontextcreationerror",vn,!1),Lr.dispose(),Ki.dispose(),hi.dispose(),$r.dispose(),ft.dispose(),Zn.dispose(),Us.dispose(),no.dispose(),ui.dispose(),$s.dispose(),$s.removeEventListener("sessionstart",uo),$s.removeEventListener("sessionend",sa),Lo.stop()},this.renderBufferDirect=function(qe,ln,Pn,Sn,wn,nr){null===ln&&(ln=is);const Tr=wn.isMesh&&wn.matrixWorld.determinant()<0,Dr=function xy(qe,ln,Pn,Sn,wn){!0!==ln.isScene&&(ln=is),cr.resetTextureUnits();const nr=ln.fog,Dr=null===We?ie.outputColorSpace:!0===We.isXRRenderTarget?We.texture.colorSpace:_t,Gr=(Sn.isMeshStandardMaterial?ft:$r).get(Sn.envMap||(Sn.isMeshStandardMaterial?ln.environment:null)),xs=!0===Sn.vertexColors&&!!Pn.attributes.color&&4===Pn.attributes.color.itemSize,Gs=!!Pn.attributes.tangent&&(!!Sn.normalMap||Sn.anisotropy>0),js=!!Pn.morphAttributes.position,$a=!!Pn.morphAttributes.normal,bl=!!Pn.morphAttributes.color;let zl=hr;Sn.toneMapped&&(null===We||!0===We.isXRRenderTarget)&&(zl=ie.toneMapping);const Hc=Pn.morphAttributes.position||Pn.morphAttributes.normal||Pn.morphAttributes.color,Do=void 0!==Hc?Hc.length:0,Rs=hi.get(Sn),ba=H.state.lights;!0!==Bn||!0!==Mi&&qe===Ne||ji.setState(Sn,qe,qe===Ne&&Sn.id===ht);let oa=!1;Sn.version===Rs.__version?(Rs.needsLights&&Rs.lightsStateVersion!==ba.state.version||Rs.outputColorSpace!==Dr||wn.isBatchedMesh&&!1===Rs.batching||!wn.isBatchedMesh&&!0===Rs.batching||wn.isInstancedMesh&&!1===Rs.instancing||!wn.isInstancedMesh&&!0===Rs.instancing||wn.isSkinnedMesh&&!1===Rs.skinning||!wn.isSkinnedMesh&&!0===Rs.skinning||wn.isInstancedMesh&&!0===Rs.instancingColor&&null===wn.instanceColor||wn.isInstancedMesh&&!1===Rs.instancingColor&&null!==wn.instanceColor||wn.isInstancedMesh&&!0===Rs.instancingMorph&&null===wn.morphTexture||wn.isInstancedMesh&&!1===Rs.instancingMorph&&null!==wn.morphTexture||Rs.envMap!==Gr||!0===Sn.fog&&Rs.fog!==nr||void 0!==Rs.numClippingPlanes&&(Rs.numClippingPlanes!==ji.numPlanes||Rs.numIntersection!==ji.numIntersection)||Rs.vertexAlphas!==xs||Rs.vertexTangents!==Gs||Rs.morphTargets!==js||Rs.morphNormals!==$a||Rs.morphColors!==bl||Rs.toneMapping!==zl||Rs.morphTargetsCount!==Do)&&(oa=!0):(oa=!0,Rs.__version=Sn.version);let nd=Rs.currentProgram;!0===oa&&(nd=Jf(Sn,ln,wn));let My=!1,zd=!1,Dg=!1;const sl=nd.getUniforms(),$c=Rs.uniforms;if(Yn.useProgram(nd.program)&&(My=!0,zd=!0,Dg=!0),Sn.id!==ht&&(ht=Sn.id,zd=!0),My||Ne!==qe){sl.setValue(tn,"projectionMatrix",qe.projectionMatrix),sl.setValue(tn,"viewMatrix",qe.matrixWorldInverse);const Xl=sl.map.cameraPosition;void 0!==Xl&&Xl.setValue(tn,Ti.setFromMatrixPosition(qe.matrixWorld)),_i.logarithmicDepthBuffer&&sl.setValue(tn,"logDepthBufFC",2/(Math.log(qe.far+1)/Math.LN2)),(Sn.isMeshPhongMaterial||Sn.isMeshToonMaterial||Sn.isMeshLambertMaterial||Sn.isMeshBasicMaterial||Sn.isMeshStandardMaterial||Sn.isShaderMaterial)&&sl.setValue(tn,"isOrthographic",!0===qe.isOrthographicCamera),Ne!==qe&&(Ne=qe,zd=!0,Dg=!0)}if(wn.isSkinnedMesh){sl.setOptional(tn,wn,"bindMatrix"),sl.setOptional(tn,wn,"bindMatrixInverse");const Xl=wn.skeleton;Xl&&(null===Xl.boneTexture&&Xl.computeBoneTexture(),sl.setValue(tn,"boneTexture",Xl.boneTexture,cr))}wn.isBatchedMesh&&(sl.setOptional(tn,wn,"batchingTexture"),sl.setValue(tn,"batchingTexture",wn._matricesTexture,cr));const du=Pn.morphAttributes;if((void 0!==du.position||void 0!==du.normal||void 0!==du.color)&&Pr.update(wn,Pn,nd),(zd||Rs.receiveShadow!==wn.receiveShadow)&&(Rs.receiveShadow=wn.receiveShadow,sl.setValue(tn,"receiveShadow",wn.receiveShadow)),Sn.isMeshGouraudMaterial&&null!==Sn.envMap&&($c.envMap.value=Gr,$c.flipEnvMap.value=Gr.isCubeTexture&&!1===Gr.isRenderTargetTexture?-1:1),Sn.isMeshStandardMaterial&&null===Sn.envMap&&null!==ln.environment&&($c.envMapIntensity.value=ln.environmentIntensity),zd&&(sl.setValue(tn,"toneMappingExposure",ie.toneMappingExposure),Rs.needsLights&&function Ey(qe,ln){qe.ambientLightColor.needsUpdate=ln,qe.lightProbe.needsUpdate=ln,qe.directionalLights.needsUpdate=ln,qe.directionalLightShadows.needsUpdate=ln,qe.pointLights.needsUpdate=ln,qe.pointLightShadows.needsUpdate=ln,qe.spotLights.needsUpdate=ln,qe.spotLightShadows.needsUpdate=ln,qe.rectAreaLights.needsUpdate=ln,qe.hemisphereLights.needsUpdate=ln}($c,Dg),nr&&!0===Sn.fog&&ii.refreshFogUniforms($c,nr),ii.refreshMaterialUniforms($c,Sn,Oi,Wn,H.state.transmissionRenderTarget[qe.id]),Nh.upload(tn,Ag(Rs),$c,cr)),Sn.isShaderMaterial&&!0===Sn.uniformsNeedUpdate&&(Nh.upload(tn,Ag(Rs),$c,cr),Sn.uniformsNeedUpdate=!1),Sn.isSpriteMaterial&&sl.setValue(tn,"center",wn.center),sl.setValue(tn,"modelViewMatrix",wn.modelViewMatrix),sl.setValue(tn,"normalMatrix",wn.normalMatrix),sl.setValue(tn,"modelMatrix",wn.matrixWorld),Sn.isShaderMaterial||Sn.isRawShaderMaterial){const Xl=Sn.uniformsGroups;for(let Ig=0,Cy=Xl.length;Ig<Cy;Ig++){const Ay=Xl[Ig];no.update(Ay,nd),no.bind(Ay,nd)}}return nd}(qe,ln,Pn,Sn,wn);Yn.setMaterial(Sn,Tr);let Gr=Pn.index,xs=1;if(!0===Sn.wireframe){if(Gr=bn.getWireframeAttribute(Pn),void 0===Gr)return;xs=2}const Gs=Pn.drawRange,js=Pn.attributes.position;let $a=Gs.start*xs,bl=(Gs.start+Gs.count)*xs;null!==nr&&($a=Math.max($a,nr.start*xs),bl=Math.min(bl,(nr.start+nr.count)*xs)),null!==Gr?($a=Math.max($a,0),bl=Math.min(bl,Gr.count)):null!=js&&($a=Math.max($a,0),bl=Math.min(bl,js.count));const zl=bl-$a;if(zl<0||zl===1/0)return;Us.setup(wn,Sn,Dr,Pn,Gr);let Hc,Do=Hs;if(null!==Gr&&(Hc=Be.get(Gr),Do=Qr,Do.setIndex(Hc)),wn.isMesh)!0===Sn.wireframe?(Yn.setLineWidth(Sn.wireframeLinewidth*ys()),Do.setMode(tn.LINES)):Do.setMode(tn.TRIANGLES);else if(wn.isLine){let Rs=Sn.linewidth;void 0===Rs&&(Rs=1),Yn.setLineWidth(Rs*ys()),Do.setMode(wn.isLineSegments?tn.LINES:wn.isLineLoop?tn.LINE_LOOP:tn.LINE_STRIP)}else wn.isPoints?Do.setMode(tn.POINTS):wn.isSprite&&Do.setMode(tn.TRIANGLES);if(wn.isBatchedMesh)null!==wn._multiDrawInstances?Do.renderMultiDrawInstances(wn._multiDrawStarts,wn._multiDrawCounts,wn._multiDrawCount,wn._multiDrawInstances):Do.renderMultiDraw(wn._multiDrawStarts,wn._multiDrawCounts,wn._multiDrawCount);else if(wn.isInstancedMesh)Do.renderInstances($a,zl,wn.count);else if(Pn.isInstancedBufferGeometry){const ba=Math.min(Pn.instanceCount,void 0!==Pn._maxInstanceCount?Pn._maxInstanceCount:1/0);Do.renderInstances($a,zl,ba)}else Do.render($a,zl)},this.compile=function(qe,ln,Pn=null){null===Pn&&(Pn=qe),H=Ki.get(Pn),H.init(ln),ae.push(H),Pn.traverseVisible(function(wn){wn.isLight&&wn.layers.test(ln.layers)&&(H.pushLight(wn),wn.castShadow&&H.pushShadow(wn))}),qe!==Pn&&qe.traverseVisible(function(wn){wn.isLight&&wn.layers.test(ln.layers)&&(H.pushLight(wn),wn.castShadow&&H.pushShadow(wn))}),H.setupLights(ie._useLegacyLights);const Sn=new Set;return qe.traverse(function(wn){const nr=wn.material;if(nr)if(Array.isArray(nr))for(let Tr=0;Tr<nr.length;Tr++){const Dr=nr[Tr];Ms(Dr,Pn,wn),Sn.add(Dr)}else Ms(nr,Pn,wn),Sn.add(nr)}),ae.pop(),H=null,Sn},this.compileAsync=function(qe,ln,Pn=null){const Sn=this.compile(qe,ln,Pn);return new Promise(wn=>{function nr(){Sn.forEach(function(Tr){hi.get(Tr).currentProgram.isReady()&&Sn.delete(Tr)}),0!==Sn.size?setTimeout(nr,10):wn(qe)}null!==qn.get("KHR_parallel_shader_compile")?nr():setTimeout(nr,10)})};let ra=null;function uo(){Lo.stop()}function sa(){Lo.start()}const Lo=new kp;function Bl(qe,ln,Pn,Sn){if(!1===qe.visible)return;if(qe.layers.test(ln.layers))if(qe.isGroup)Pn=qe.renderOrder;else if(qe.isLOD)!0===qe.autoUpdate&&qe.update(ln);else if(qe.isLight)H.pushLight(qe),qe.castShadow&&H.pushShadow(qe);else if(qe.isSprite){if(!qe.frustumCulled||ws.intersectsSprite(qe)){Sn&&Ti.setFromMatrixPosition(qe.matrixWorld).applyMatrix4(qi);const Tr=Zn.update(qe),Dr=qe.material;Dr.visible&&K.push(qe,Tr,Dr,Pn,Ti.z,null)}}else if((qe.isMesh||qe.isLine||qe.isPoints)&&(!qe.frustumCulled||ws.intersectsObject(qe))){const Tr=Zn.update(qe),Dr=qe.material;if(Sn&&(void 0!==qe.boundingSphere?(null===qe.boundingSphere&&qe.computeBoundingSphere(),Ti.copy(qe.boundingSphere.center)):(null===Tr.boundingSphere&&Tr.computeBoundingSphere(),Ti.copy(Tr.boundingSphere.center)),Ti.applyMatrix4(qe.matrixWorld).applyMatrix4(qi)),Array.isArray(Dr)){const Gr=Tr.groups;for(let xs=0,Gs=Gr.length;xs<Gs;xs++){const js=Gr[xs],$a=Dr[js.materialIndex];$a&&$a.visible&&K.push(qe,Tr,$a,Pn,Ti.z,js)}}else Dr.visible&&K.push(qe,Tr,Dr,Pn,Ti.z,null)}const nr=qe.children;for(let Tr=0,Dr=nr.length;Tr<Dr;Tr++)Bl(nr[Tr],ln,Pn,Sn)}function rl(qe,ln,Pn,Sn){const wn=qe.opaque,nr=qe.transmissive,Tr=qe.transparent;H.setupLightsView(Pn),!0===Bn&&ji.setGlobalState(ie.clippingPlanes,Pn),Sn&&Yn.viewport(xe.copy(Sn)),wn.length>0&&Rl(wn,ln,Pn),nr.length>0&&Rl(nr,ln,Pn),Tr.length>0&&Rl(Tr,ln,Pn),Yn.buffers.depth.setTest(!0),Yn.buffers.depth.setMask(!0),Yn.buffers.color.setMask(!0),Yn.setPolygonOffset(!1)}function Vl(qe,ln,Pn,Sn){if(null!==(!0===Pn.isScene?Pn.overrideMaterial:null))return;void 0===H.state.transmissionRenderTarget[Sn.id]&&(H.state.transmissionRenderTarget[Sn.id]=new Qa(1,1,{generateMipmaps:!0,type:qn.has("EXT_color_buffer_half_float")||qn.has("EXT_color_buffer_float")?1016:Mr,minFilter:si,samples:4,stencilBuffer:l,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const nr=H.state.transmissionRenderTarget[Sn.id],Tr=Sn.viewport||xe;nr.setSize(Tr.z,Tr.w);const Dr=ie.getRenderTarget();ie.setRenderTarget(nr),ie.getClearColor(Nt),_n=ie.getClearAlpha(),_n<1&&ie.setClearColor(16777215,.5),ie.clear();const Gr=ie.toneMapping;ie.toneMapping=hr;const xs=Sn.viewport;if(void 0!==Sn.viewport&&(Sn.viewport=void 0),H.setupLightsView(Sn),!0===Bn&&ji.setGlobalState(ie.clippingPlanes,Sn),Rl(qe,Pn,Sn),cr.updateMultisampleRenderTarget(nr),cr.updateRenderTargetMipmap(nr),!1===qn.has("WEBGL_multisampled_render_to_texture")){let Gs=!1;for(let js=0,$a=ln.length;js<$a;js++){const bl=ln[js],zl=bl.object,Hc=bl.geometry,Do=bl.material,Rs=bl.group;if(2===Do.side&&zl.layers.test(Sn.layers)){const ba=Do.side;Do.side=1,Do.needsUpdate=!0,yc(zl,Pn,Sn,Hc,Do,Rs),Do.side=ba,Do.needsUpdate=!0,Gs=!0}}!0===Gs&&(cr.updateMultisampleRenderTarget(nr),cr.updateRenderTargetMipmap(nr))}ie.setRenderTarget(Dr),ie.setClearColor(Nt,_n),void 0!==xs&&(Sn.viewport=xs),ie.toneMapping=Gr}function Rl(qe,ln,Pn){const Sn=!0===ln.isScene?ln.overrideMaterial:null;for(let wn=0,nr=qe.length;wn<nr;wn++){const Tr=qe[wn],Dr=Tr.object,Gr=Tr.geometry,xs=null===Sn?Tr.material:Sn,Gs=Tr.group;Dr.layers.test(Pn.layers)&&yc(Dr,ln,Pn,Gr,xs,Gs)}}function yc(qe,ln,Pn,Sn,wn,nr){qe.onBeforeRender(ie,ln,Pn,Sn,wn,nr),qe.modelViewMatrix.multiplyMatrices(Pn.matrixWorldInverse,qe.matrixWorld),qe.normalMatrix.getNormalMatrix(qe.modelViewMatrix),wn.onBeforeRender(ie,ln,Pn,Sn,qe,nr),!0===wn.transparent&&2===wn.side&&!1===wn.forceSinglePass?(wn.side=1,wn.needsUpdate=!0,ie.renderBufferDirect(Pn,ln,Sn,wn,qe,nr),wn.side=0,wn.needsUpdate=!0,ie.renderBufferDirect(Pn,ln,Sn,wn,qe,nr),wn.side=2):ie.renderBufferDirect(Pn,ln,Sn,wn,qe,nr),qe.onAfterRender(ie,ln,Pn,Sn,wn,nr)}function Jf(qe,ln,Pn){!0!==ln.isScene&&(ln=is);const Sn=hi.get(qe),wn=H.state.lights,Tr=wn.state.version,Dr=ui.getParameters(qe,wn.state,H.state.shadowsArray,ln,Pn),Gr=ui.getProgramCacheKey(Dr);let xs=Sn.programs;Sn.environment=qe.isMeshStandardMaterial?ln.environment:null,Sn.fog=ln.fog,Sn.envMap=(qe.isMeshStandardMaterial?ft:$r).get(qe.envMap||Sn.environment),Sn.envMapRotation=null!==Sn.environment&&null===qe.envMap?ln.environmentRotation:qe.envMapRotation,void 0===xs&&(qe.addEventListener("dispose",ci),xs=new Map,Sn.programs=xs);let Gs=xs.get(Gr);if(void 0!==Gs){if(Sn.currentProgram===Gs&&Sn.lightsStateVersion===Tr)return Tg(qe,Dr),Gs}else Dr.uniforms=ui.getUniforms(qe),qe.onBuild(Pn,Dr,ie),qe.onBeforeCompile(Dr,ie),Gs=ui.acquireProgram(Dr,Gr),xs.set(Gr,Gs),Sn.uniforms=Dr.uniforms;const js=Sn.uniforms;return(!qe.isShaderMaterial&&!qe.isRawShaderMaterial||!0===qe.clipping)&&(js.clippingPlanes=ji.uniform),Tg(qe,Dr),Sn.needsLights=function Sy(qe){return qe.isMeshLambertMaterial||qe.isMeshToonMaterial||qe.isMeshPhongMaterial||qe.isMeshStandardMaterial||qe.isShadowMaterial||qe.isShaderMaterial&&!0===qe.lights}(qe),Sn.lightsStateVersion=Tr,Sn.needsLights&&(js.ambientLightColor.value=wn.state.ambient,js.lightProbe.value=wn.state.probe,js.directionalLights.value=wn.state.directional,js.directionalLightShadows.value=wn.state.directionalShadow,js.spotLights.value=wn.state.spot,js.spotLightShadows.value=wn.state.spotShadow,js.rectAreaLights.value=wn.state.rectArea,js.ltc_1.value=wn.state.rectAreaLTC1,js.ltc_2.value=wn.state.rectAreaLTC2,js.pointLights.value=wn.state.point,js.pointLightShadows.value=wn.state.pointShadow,js.hemisphereLights.value=wn.state.hemi,js.directionalShadowMap.value=wn.state.directionalShadowMap,js.directionalShadowMatrix.value=wn.state.directionalShadowMatrix,js.spotShadowMap.value=wn.state.spotShadowMap,js.spotLightMatrix.value=wn.state.spotLightMatrix,js.spotLightMap.value=wn.state.spotLightMap,js.pointShadowMap.value=wn.state.pointShadowMap,js.pointShadowMatrix.value=wn.state.pointShadowMatrix),Sn.currentProgram=Gs,Sn.uniformsList=null,Gs}function Ag(qe){if(null===qe.uniformsList){const ln=qe.currentProgram.getUniforms();qe.uniformsList=Nh.seqWithValue(ln.seq,qe.uniforms)}return qe.uniformsList}function Tg(qe,ln){const Pn=hi.get(qe);Pn.outputColorSpace=ln.outputColorSpace,Pn.batching=ln.batching,Pn.instancing=ln.instancing,Pn.instancingColor=ln.instancingColor,Pn.instancingMorph=ln.instancingMorph,Pn.skinning=ln.skinning,Pn.morphTargets=ln.morphTargets,Pn.morphNormals=ln.morphNormals,Pn.morphColors=ln.morphColors,Pn.morphTargetsCount=ln.morphTargetsCount,Pn.numClippingPlanes=ln.numClippingPlanes,Pn.numIntersection=ln.numClipIntersection,Pn.vertexAlphas=ln.vertexAlphas,Pn.vertexTangents=ln.vertexTangents,Pn.toneMapping=ln.toneMapping}Lo.setAnimationLoop(function _a(qe){ra&&ra(qe)}),typeof self<"u"&&Lo.setContext(self),this.setAnimationLoop=function(qe){ra=qe,$s.setAnimationLoop(qe),null===qe?Lo.stop():Lo.start()},$s.addEventListener("sessionstart",uo),$s.addEventListener("sessionend",sa),this.render=function(qe,ln){if(void 0!==ln&&!0!==ln.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===ue)return;!0===qe.matrixWorldAutoUpdate&&qe.updateMatrixWorld(),null===ln.parent&&!0===ln.matrixWorldAutoUpdate&&ln.updateMatrixWorld(),!0===$s.enabled&&!0===$s.isPresenting&&(!0===$s.cameraAutoUpdate&&$s.updateCamera(ln),ln=$s.getCamera()),!0===qe.isScene&&qe.onBeforeRender(ie,qe,ln,We),H=Ki.get(qe,ae.length),H.init(ln),ae.push(H),qi.multiplyMatrices(ln.projectionMatrix,ln.matrixWorldInverse),ws.setFromProjectionMatrix(qi),Mi=this.localClippingEnabled,Bn=ji.init(this.clippingPlanes,Mi),K=Lr.get(qe,U.length),K.init(),U.push(K),Bl(qe,ln,0,ie.sortObjects),K.finish(),!0===ie.sortObjects&&K.sort(Nn,mi);const Pn=!1===$s.enabled||!1===$s.isPresenting||!1===$s.hasDepthSensing();Pn&&Fi.addToRenderList(K,qe),this.info.render.frame++,!0===Bn&&ji.beginShadows(),_s.render(H.state.shadowsArray,qe,ln),!0===Bn&&ji.endShadows(),!0===this.info.autoReset&&this.info.reset();const wn=K.opaque,nr=K.transmissive;if(H.setupLights(ie._useLegacyLights),ln.isArrayCamera){const Tr=ln.cameras;if(nr.length>0)for(let Dr=0,Gr=Tr.length;Dr<Gr;Dr++)Vl(wn,nr,qe,Tr[Dr]);Pn&&Fi.render(qe);for(let Dr=0,Gr=Tr.length;Dr<Gr;Dr++){const xs=Tr[Dr];rl(K,qe,xs,xs.viewport)}}else nr.length>0&&Vl(wn,nr,qe,ln),Pn&&Fi.render(qe),rl(K,qe,ln);null!==We&&(cr.updateMultisampleRenderTarget(We),cr.updateRenderTargetMipmap(We)),!0===qe.isScene&&qe.onAfterRender(ie,qe,ln),Us.resetDefaultState(),ht=-1,Ne=null,ae.pop(),ae.length>0?(H=ae[ae.length-1],!0===Bn&&ji.setGlobalState(ie.clippingPlanes,H.state.camera)):H=null,U.pop(),K=U.length>0?U[U.length-1]:null},this.getActiveCubeFace=function(){return ot},this.getActiveMipmapLevel=function(){return ze},this.getRenderTarget=function(){return We},this.setRenderTargetTextures=function(qe,ln,Pn){hi.get(qe.texture).__webglTexture=ln,hi.get(qe.depthTexture).__webglTexture=Pn;const Sn=hi.get(qe);Sn.__hasExternalTextures=!0,Sn.__autoAllocateDepthBuffer=void 0===Pn,Sn.__autoAllocateDepthBuffer||!0===qn.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Sn.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(qe,ln){const Pn=hi.get(qe);Pn.__webglFramebuffer=ln,Pn.__useDefaultFramebuffer=void 0===ln},this.setRenderTarget=function(qe,ln=0,Pn=0){We=qe,ot=ln,ze=Pn;let Sn=!0,wn=null,nr=!1,Tr=!1;if(qe){const Gr=hi.get(qe);void 0!==Gr.__useDefaultFramebuffer?(Yn.bindFramebuffer(tn.FRAMEBUFFER,null),Sn=!1):void 0===Gr.__webglFramebuffer?cr.setupRenderTarget(qe):Gr.__hasExternalTextures&&cr.rebindTextures(qe,hi.get(qe.texture).__webglTexture,hi.get(qe.depthTexture).__webglTexture);const xs=qe.texture;(xs.isData3DTexture||xs.isDataArrayTexture||xs.isCompressedArrayTexture)&&(Tr=!0);const Gs=hi.get(qe).__webglFramebuffer;qe.isWebGLCubeRenderTarget?(wn=Array.isArray(Gs[ln])?Gs[ln][Pn]:Gs[ln],nr=!0):wn=qe.samples>0&&!1===cr.useMultisampledRTT(qe)?hi.get(qe).__webglMultisampledFramebuffer:Array.isArray(Gs)?Gs[Pn]:Gs,xe.copy(qe.viewport),Kt.copy(qe.scissor),gn=qe.scissorTest}else xe.copy(yi).multiplyScalar(Oi).floor(),Kt.copy(sr).multiplyScalar(Oi).floor(),gn=bs;if(Yn.bindFramebuffer(tn.FRAMEBUFFER,wn)&&Sn&&Yn.drawBuffers(qe,wn),Yn.viewport(xe),Yn.scissor(Kt),Yn.setScissorTest(gn),nr){const Gr=hi.get(qe.texture);tn.framebufferTexture2D(tn.FRAMEBUFFER,tn.COLOR_ATTACHMENT0,tn.TEXTURE_CUBE_MAP_POSITIVE_X+ln,Gr.__webglTexture,Pn)}else if(Tr){const Gr=hi.get(qe.texture);tn.framebufferTextureLayer(tn.FRAMEBUFFER,tn.COLOR_ATTACHMENT0,Gr.__webglTexture,Pn||0,ln||0)}ht=-1},this.readRenderTargetPixels=function(qe,ln,Pn,Sn,wn,nr,Tr){if(!qe||!qe.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Dr=hi.get(qe).__webglFramebuffer;if(qe.isWebGLCubeRenderTarget&&void 0!==Tr&&(Dr=Dr[Tr]),Dr){Yn.bindFramebuffer(tn.FRAMEBUFFER,Dr);try{const Gr=qe.texture,xs=Gr.format,Gs=Gr.type;if(!_i.textureFormatReadable(xs))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!_i.textureTypeReadable(Gs))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ln>=0&&ln<=qe.width-Sn&&Pn>=0&&Pn<=qe.height-wn&&tn.readPixels(ln,Pn,Sn,wn,tr.convert(xs),tr.convert(Gs),nr)}finally{const Gr=null!==We?hi.get(We).__webglFramebuffer:null;Yn.bindFramebuffer(tn.FRAMEBUFFER,Gr)}}},this.copyFramebufferToTexture=function(qe,ln,Pn=0){const Sn=Math.pow(2,-Pn),wn=Math.floor(ln.image.width*Sn),nr=Math.floor(ln.image.height*Sn);cr.setTexture2D(ln,0),tn.copyTexSubImage2D(tn.TEXTURE_2D,Pn,0,0,qe.x,qe.y,wn,nr),Yn.unbindTexture()},this.copyTextureToTexture=function(qe,ln,Pn,Sn=0){const wn=ln.image.width,nr=ln.image.height,Tr=tr.convert(Pn.format),Dr=tr.convert(Pn.type);cr.setTexture2D(Pn,0),tn.pixelStorei(tn.UNPACK_FLIP_Y_WEBGL,Pn.flipY),tn.pixelStorei(tn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pn.premultiplyAlpha),tn.pixelStorei(tn.UNPACK_ALIGNMENT,Pn.unpackAlignment),ln.isDataTexture?tn.texSubImage2D(tn.TEXTURE_2D,Sn,qe.x,qe.y,wn,nr,Tr,Dr,ln.image.data):ln.isCompressedTexture?tn.compressedTexSubImage2D(tn.TEXTURE_2D,Sn,qe.x,qe.y,ln.mipmaps[0].width,ln.mipmaps[0].height,Tr,ln.mipmaps[0].data):tn.texSubImage2D(tn.TEXTURE_2D,Sn,qe.x,qe.y,Tr,Dr,ln.image),0===Sn&&Pn.generateMipmaps&&tn.generateMipmap(tn.TEXTURE_2D),Yn.unbindTexture()},this.copyTextureToTexture3D=function(qe,ln,Pn,Sn,wn=0){const nr=qe.max.x-qe.min.x,Tr=qe.max.y-qe.min.y,Dr=qe.max.z-qe.min.z,Gr=tr.convert(Sn.format),xs=tr.convert(Sn.type);let Gs;if(Sn.isData3DTexture)cr.setTexture3D(Sn,0),Gs=tn.TEXTURE_3D;else{if(!Sn.isDataArrayTexture&&!Sn.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");cr.setTexture2DArray(Sn,0),Gs=tn.TEXTURE_2D_ARRAY}tn.pixelStorei(tn.UNPACK_FLIP_Y_WEBGL,Sn.flipY),tn.pixelStorei(tn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Sn.premultiplyAlpha),tn.pixelStorei(tn.UNPACK_ALIGNMENT,Sn.unpackAlignment);const js=tn.getParameter(tn.UNPACK_ROW_LENGTH),$a=tn.getParameter(tn.UNPACK_IMAGE_HEIGHT),bl=tn.getParameter(tn.UNPACK_SKIP_PIXELS),zl=tn.getParameter(tn.UNPACK_SKIP_ROWS),Hc=tn.getParameter(tn.UNPACK_SKIP_IMAGES),Do=Pn.isCompressedTexture?Pn.mipmaps[wn]:Pn.image;tn.pixelStorei(tn.UNPACK_ROW_LENGTH,Do.width),tn.pixelStorei(tn.UNPACK_IMAGE_HEIGHT,Do.height),tn.pixelStorei(tn.UNPACK_SKIP_PIXELS,qe.min.x),tn.pixelStorei(tn.UNPACK_SKIP_ROWS,qe.min.y),tn.pixelStorei(tn.UNPACK_SKIP_IMAGES,qe.min.z),Pn.isDataTexture||Pn.isData3DTexture?tn.texSubImage3D(Gs,wn,ln.x,ln.y,ln.z,nr,Tr,Dr,Gr,xs,Do.data):Sn.isCompressedArrayTexture?tn.compressedTexSubImage3D(Gs,wn,ln.x,ln.y,ln.z,nr,Tr,Dr,Gr,Do.data):tn.texSubImage3D(Gs,wn,ln.x,ln.y,ln.z,nr,Tr,Dr,Gr,xs,Do),tn.pixelStorei(tn.UNPACK_ROW_LENGTH,js),tn.pixelStorei(tn.UNPACK_IMAGE_HEIGHT,$a),tn.pixelStorei(tn.UNPACK_SKIP_PIXELS,bl),tn.pixelStorei(tn.UNPACK_SKIP_ROWS,zl),tn.pixelStorei(tn.UNPACK_SKIP_IMAGES,Hc),0===wn&&Sn.generateMipmaps&&tn.generateMipmap(Gs),Yn.unbindTexture()},this.initTexture=function(qe){qe.isCubeTexture?cr.setTextureCube(qe,0):qe.isData3DTexture?cr.setTexture3D(qe,0):qe.isDataArrayTexture||qe.isCompressedArrayTexture?cr.setTexture2DArray(qe,0):cr.setTexture2D(qe,0),Yn.unbindTexture()},this.resetState=function(){ot=0,ze=0,We=null,Yn.reset(),Us.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Rn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===En?"display-p3":"srgb",n.unpackColorSpace=eo.workingColorSpace===On?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class kh extends Kn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Re,this.environmentIntensity=1,this.environmentRotation=new Re,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class wm{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=void 0!==e?e.length/n:0,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ct()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ll("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let o=0,l=this.stride;o<l;o++)this.array[e+o]=n.array[r+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ct()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ct()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Tl=new Ye;class md{constructor(e,n,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Tl.fromBufferAttribute(this,n),Tl.applyMatrix4(e),this.setXYZ(n,Tl.x,Tl.y,Tl.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Tl.fromBufferAttribute(this,n),Tl.applyNormalMatrix(e),this.setXYZ(n,Tl.x,Tl.y,Tl.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Tl.fromBufferAttribute(this,n),Tl.transformDirection(e),this.setXYZ(n,Tl.x,Tl.y,Tl.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ao(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Sr(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Sr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Sr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Sr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Sr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ao(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ao(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ao(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ao(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array),o=Sr(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=Sr(n,this.array),r=Sr(r,this.array),o=Sr(o,this.array),l=Sr(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=l,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return new Bi(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new md(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Sm=new Ye,Mm=new fo,Ib=new fo,Vh=new Ye,zh=new vr,vd=new Ye,Cm=new gs,Nu=new vr,mf=new Ql;class Am extends ka{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Jr,this.bindMatrix=new vr,this.bindMatrixInverse=new vr,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new $e),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,vd),this.boundingBox.expandByPoint(vd)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new gs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,vd),this.boundingSphere.expandByPoint(vd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const o=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Cm.copy(this.boundingSphere),Cm.applyMatrix4(o),!1!==e.ray.intersectsSphere(Cm)&&(Nu.copy(o).invert(),mf.copy(e.ray).applyMatrix4(Nu),(null===this.boundingBox||!1!==mf.intersectsBox(this.boundingBox))&&this._computeIntersections(e,n,mf)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,void 0===n&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new fo,n=this.geometry.attributes.skinWeight;for(let r=0,o=n.count;r<o;r++){e.fromBufferAttribute(n,r);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Jr?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,o=this.geometry;Mm.fromBufferAttribute(o.attributes.skinIndex,e),Ib.fromBufferAttribute(o.attributes.skinWeight,e),Sm.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let l=0;l<4;l++){const f=Ib.getComponent(l);if(0!==f){const h=Mm.getComponent(l);zh.multiplyMatrices(r.bones[h].matrixWorld,r.boneInverses[h]),n.addScaledVector(Vh.copy(Sm).applyMatrix4(zh),f)}}return n.applyMatrix4(this.bindMatrixInverse)}}class gf extends Kn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hc extends Ea{constructor(e=null,n=1,r=1,o,l,f,h,g,v=ss,w=ss,S,A){super(null,f,h,g,v,w,o,l,S,A),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const p0=new vr,Rb=new vr;class vf{constructor(e=[],n=[]){this.uuid=Ct(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===n.length)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new vr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new vr;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let l=0,f=e.length;l<f;l++)p0.multiplyMatrices(e[l]?e[l].matrixWorld:Rb,n[l]),p0.toArray(r,16*l);null!==o&&(o.needsUpdate=!0)}clone(){return new vf(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new hc(n,e,e,br,so);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const l=e.bones[r];let f=n[l];void 0===f&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),f=new gf),this.bones.push(f),this.boneInverses.push((new vr).fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let o=0,l=n.length;o<l;o++)e.bones.push(n[o].uuid),e.boneInverses.push(r[o].toArray());return e}}class yd extends Bi{constructor(e,n,r,o=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _d=new vr,m0=new vr,yf=[],bd=new $e,Hh=new vr,Lu=new ka,_f=new gs;class g0 extends ka{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new yd(new Float32Array(16*r),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,Hh)}computeBoundingBox(){const e=this.geometry,n=this.count;null===this.boundingBox&&(this.boundingBox=new $e),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_d),bd.copy(e.boundingBox).applyMatrix4(_d),this.boundingBox.union(bd)}computeBoundingSphere(){const e=this.geometry,n=this.count;null===this.boundingSphere&&(this.boundingSphere=new gs),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_d),_f.copy(e.boundingSphere).applyMatrix4(_d),this.boundingSphere.union(_f)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,n){const r=n.morphTargetInfluences,o=this.morphTexture.source.data.data,f=e*(r.length+1)+1;for(let h=0;h<r.length;h++)r[h]=o[f+h]}raycast(e,n){const r=this.matrixWorld,o=this.count;if(Lu.geometry=this.geometry,Lu.material=this.material,void 0!==Lu.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),_f.copy(this.boundingSphere),_f.applyMatrix4(r),!1!==e.ray.intersectsSphere(_f)))for(let l=0;l<o;l++){this.getMatrixAt(l,_d),m0.multiplyMatrices(r,_d),Lu.matrixWorld=m0,Lu.raycast(e,yf);for(let f=0,h=yf.length;f<h;f++){const g=yf[f];g.instanceId=l,g.object=this,n.push(g)}yf.length=0}}setColorAt(e,n){null===this.instanceColor&&(this.instanceColor=new yd(new Float32Array(3*this.instanceMatrix.count),3)),n.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,n){const r=n.morphTargetInfluences,o=r.length+1;null===this.morphTexture&&(this.morphTexture=new hc(new Float32Array(o*this.count),o,this.count,1028,so));const l=this.morphTexture.source.data.data;let f=0;for(let v=0;v<r.length;v++)f+=r[v];const g=o*e;l[g]=this.geometry.morphTargetsRelative?1:1-f,l.set(r,g+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class il extends ${constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tu=new Ye,Sf=new Ye,$h=new vr,nu=new Ql,Gh=new gs,jh=new Ye,b0=new Ye;class iu extends Kn{constructor(e=new vs,n=new il){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const n=e.attributes.position,r=[0];for(let o=1,l=n.count;o<l;o++)tu.fromBufferAttribute(n,o-1),Sf.fromBufferAttribute(n,o),r[o]=r[o-1],r[o]+=tu.distanceTo(Sf);e.setAttribute("lineDistance",new yr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Line.threshold,f=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Gh.copy(r.boundingSphere),Gh.applyMatrix4(o),Gh.radius+=l,!1===e.ray.intersectsSphere(Gh))return;$h.copy(o).invert(),nu.copy(e.ray).applyMatrix4($h);const h=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h,v=this.isLineSegments?2:1,w=r.index,A=r.attributes.position;if(null!==w){const R=Math.max(0,f.start),B=Math.min(w.count,f.start+f.count);for(let K=R,H=B-1;K<H;K+=v){const U=w.getX(K),ae=w.getX(K+1),ie=Wh(this,e,nu,g,U,ae);ie&&n.push(ie)}if(this.isLineLoop){const K=w.getX(B-1),H=w.getX(R),U=Wh(this,e,nu,g,K,H);U&&n.push(U)}}else{const R=Math.max(0,f.start),B=Math.min(A.count,f.start+f.count);for(let K=R,H=B-1;K<H;K+=v){const U=Wh(this,e,nu,g,K,K+1);U&&n.push(U)}if(this.isLineLoop){const K=Wh(this,e,nu,g,B-1,R);K&&n.push(K)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,f=o.length;l<f;l++){const h=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=l}}}}}function Wh(c,e,n,r,o,l){const f=c.geometry.attributes.position;if(tu.fromBufferAttribute(f,o),Sf.fromBufferAttribute(f,l),n.distanceSqToSegment(tu,Sf,jh,b0)>r)return;jh.applyMatrix4(c.matrixWorld);const g=e.ray.origin.distanceTo(jh);return g<e.near||g>e.far?void 0:{distance:g,point:b0.clone().applyMatrix4(c.matrixWorld),index:o,face:null,faceIndex:null,object:c}}const Im=new Ye,Rm=new Ye;class Wr extends iu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const n=e.attributes.position,r=[];for(let o=0,l=n.count;o<l;o+=2)Im.fromBufferAttribute(n,o),Rm.fromBufferAttribute(n,o+1),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+Im.distanceTo(Rm);e.setAttribute("lineDistance",new yr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Pm extends iu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Xh extends ${constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Bu=new vr,qh=new Ql,Mf=new gs,Kh=new Ye;class Cf extends Kn{constructor(e=new vs,n=new Xh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Points.threshold,f=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Mf.copy(r.boundingSphere),Mf.applyMatrix4(o),Mf.radius+=l,!1===e.ray.intersectsSphere(Mf))return;Bu.copy(o).invert(),qh.copy(e.ray).applyMatrix4(Bu);const h=l/((this.scale.x+this.scale.y+this.scale.z)/3),g=h*h,v=r.index,S=r.attributes.position;if(null!==v)for(let B=Math.max(0,f.start),K=Math.min(v.count,f.start+f.count);B<K;B++){const H=v.getX(B);Kh.fromBufferAttribute(S,H),Vu(Kh,H,g,o,e,n,this)}else for(let B=Math.max(0,f.start),K=Math.min(S.count,f.start+f.count);B<K;B++)Kh.fromBufferAttribute(S,B),Vu(Kh,B,g,o,e,n,this)}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,f=o.length;l<f;l++){const h=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=l}}}}}function Vu(c,e,n,r,o,l,f){const h=qh.distanceSqToPoint(c);if(h<n){const g=new Ye;qh.closestPointToPoint(c,g),g.applyMatrix4(r);const v=o.ray.origin.distanceTo(g);if(v<o.near||v>o.far)return;l.push({distance:v,distanceToRay:Math.sqrt(h),point:g,index:e,face:null,object:f})}}class ru extends ${constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new vi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Re,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fl extends ru{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return St(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vi(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new vi(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vi(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function su(c,e,n){return!c||!n&&c.constructor===e?c:"number"==typeof e.BYTES_PER_ELEMENT?new e(c):Array.prototype.slice.call(c)}function eg(c){const n=c.length,r=new Array(n);for(let o=0;o!==n;++o)r[o]=o;return r.sort(function e(o,l){return c[o]-c[l]}),r}function tg(c,e,n){const r=c.length,o=new c.constructor(r);for(let l=0,f=0;f!==r;++l){const h=n[l]*e;for(let g=0;g!==e;++g)o[f++]=c[h+g]}return o}function Dd(c,e,n,r){let o=1,l=c[0];for(;void 0!==l&&void 0===l[r];)l=c[o++];if(void 0===l)return;let f=l[r];if(void 0!==f)if(Array.isArray(f))do{f=l[r],void 0!==f&&(e.push(l.time),n.push.apply(n,f)),l=c[o++]}while(void 0!==l);else if(void 0!==f.toArray)do{f=l[r],void 0!==f&&(e.push(l.time),f.toArray(n,n.length)),l=c[o++]}while(void 0!==l);else do{f=l[r],void 0!==f&&(e.push(l.time),n.push(f)),l=c[o++]}while(void 0!==l)}class Vf{constructor(e,n,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==o?o:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,o=n[r],l=n[r-1];e:{t:{let f;n:{i:if(!(e<o)){for(let h=r+2;;){if(void 0===o){if(e<l)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===h)break;if(l=o,o=n[++r],e<o)break t}f=n.length;break n}if(e>=l)break e;{const h=n[1];e<h&&(r=2,l=h);for(let g=r-2;;){if(void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(r===g)break;if(o=l,l=n[--r-1],e>=l)break t}f=r,r=0}}for(;r<f;){const h=r+f>>>1;e<n[h]?f=h:r=h+1}if(o=n[r],l=n[r-1],void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===o)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,l,o)}return this.interpolate_(r,l,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o;for(let f=0;f!==o;++f)n[f]=r[l+f];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Zb extends Vf{constructor(e,n,r,o){super(e,n,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,n,r){const o=this.parameterPositions;let l=e-2,f=e+1,h=o[l],g=o[f];if(void 0===h)switch(this.getSettings_().endingStart){case 2401:l=e,h=2*n-r;break;case 2402:l=o.length-2,h=n+o[l]-o[l+1];break;default:l=e,h=r}if(void 0===g)switch(this.getSettings_().endingEnd){case 2401:f=e,g=2*r-n;break;case 2402:f=1,g=r+o[1]-o[0];break;default:f=e-1,g=n}const v=.5*(r-n),w=this.valueSize;this._weightPrev=v/(n-h),this._weightNext=v/(g-r),this._offsetPrev=l*w,this._offsetNext=f*w}interpolate_(e,n,r,o){const l=this.resultBuffer,f=this.sampleValues,h=this.valueSize,g=e*h,v=g-h,w=this._offsetPrev,S=this._offsetNext,A=this._weightPrev,R=this._weightNext,B=(r-n)/(o-n),K=B*B,H=K*B,U=-A*H+2*A*K-A*B,ae=(1+A)*H+(-1.5-2*A)*K+(-.5+A)*B+1,ie=(-1-R)*H+(1.5+R)*K+.5*B,ue=R*H-R*K;for(let ot=0;ot!==h;++ot)l[ot]=U*f[w+ot]+ae*f[v+ot]+ie*f[g+ot]+ue*f[S+ot];return l}}class ap extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,f=this.sampleValues,h=this.valueSize,g=e*h,v=g-h,w=(r-n)/(o-n),S=1-w;for(let A=0;A!==h;++A)l[A]=f[v+A]*S+f[g+A]*w;return l}}class zf extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class gc{constructor(e,n,r,o){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=su(n,this.TimeBufferType),this.values=su(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:su(e.times,Array),values:su(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ap(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Zb(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Kr:n=this.InterpolantFactoryMethodDiscrete;break;case Jo:n=this.InterpolantFactoryMethodLinear;break;case 2302:n=this.InterpolantFactoryMethodSmooth}if(void 0===n){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kr;case this.InterpolantFactoryMethodLinear:return Jo;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]+=e}return this}scale(e){if(1!==e){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]*=e}return this}trim(e,n){const r=this.times,o=r.length;let l=0,f=o-1;for(;l!==o&&r[l]<e;)++l;for(;-1!==f&&r[f]>n;)--f;if(++f,0!==l||f!==o){l>=f&&(f=Math.max(f,1),l=f-1);const h=this.getValueSize();this.times=r.slice(l,f),this.values=this.values.slice(l*h,f*h)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,l=r.length;0===l&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let f=null;for(let h=0;h!==l;h++){const g=r[h];if("number"==typeof g&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,g),e=!1;break}if(null!==f&&f>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,g,f),e=!1;break}f=g}if(void 0!==o&&function V0(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}(o))for(let h=0,g=o.length;h!==g;++h){const v=o[h];if(isNaN(v)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,v),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),o=2302===this.getInterpolation(),l=e.length-1;let f=1;for(let h=1;h<l;++h){let g=!1;const v=e[h];if(v!==e[h+1]&&(1!==h||v!==e[0]))if(o)g=!0;else{const S=h*r,A=S-r,R=S+r;for(let B=0;B!==r;++B){const K=n[S+B];if(K!==n[A+B]||K!==n[R+B]){g=!0;break}}}if(g){if(h!==f){e[f]=e[h];const S=h*r,A=f*r;for(let R=0;R!==r;++R)n[A+R]=n[S+R]}++f}}if(l>0){e[f]=e[l];for(let h=l*r,g=f*r,v=0;v!==r;++v)n[g+v]=n[h+v];++f}return f!==e.length?(this.times=e.slice(0,f),this.values=n.slice(0,f*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),o=new(0,this.constructor)(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}gc.prototype.TimeBufferType=Float32Array,gc.prototype.ValueBufferType=Float32Array,gc.prototype.DefaultInterpolation=Jo;class kc extends gc{}kc.prototype.ValueTypeName="bool",kc.prototype.ValueBufferType=Array,kc.prototype.DefaultInterpolation=Kr,kc.prototype.InterpolantFactoryMethodLinear=void 0,kc.prototype.InterpolantFactoryMethodSmooth=void 0;class Hf extends gc{}Hf.prototype.ValueTypeName="color";class $f extends gc{}$f.prototype.ValueTypeName="number";class Qb extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,f=this.sampleValues,h=this.valueSize,g=(r-n)/(o-n);let v=e*h;for(let w=v+h;v!==w;v+=4)ia.slerpFlat(l,0,f,v-h,f,v,g);return l}}class qu extends gc{InterpolantFactoryMethodLinear(e){return new Qb(this.times,this.values,this.getValueSize(),e)}}qu.prototype.ValueTypeName="quaternion",qu.prototype.DefaultInterpolation=Jo,qu.prototype.InterpolantFactoryMethodSmooth=void 0;class ou extends gc{}ou.prototype.ValueTypeName="string",ou.prototype.ValueBufferType=Array,ou.prototype.DefaultInterpolation=Kr,ou.prototype.InterpolantFactoryMethodLinear=void 0,ou.prototype.InterpolantFactoryMethodSmooth=void 0;class Id extends gc{}Id.prototype.ValueTypeName="vector";class Rd{constructor(e="",n=-1,r=[],o=2500){this.name=e,this.tracks=r,this.duration=n,this.blendMode=o,this.uuid=Ct(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,o=1/(e.fps||1);for(let f=0,h=r.length;f!==h;++f)n.push(ew(r[f]).scale(o));const l=new this(e.name,e.duration,n,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const n=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,f=r.length;l!==f;++l)n.push(gc.toJSON(r[l]));return o}static CreateFromMorphTargetSequence(e,n,r,o){const l=n.length,f=[];for(let h=0;h<l;h++){let g=[],v=[];g.push((h+l-1)%l,h,(h+1)%l),v.push(0,1,0);const w=eg(g);g=tg(g,1,w),v=tg(v,1,w),!o&&0===g[0]&&(g.push(l),v.push(v[0])),f.push(new $f(".morphTargetInfluences["+n[h].name+"]",g,v).scale(1/r))}return new this(e,-1,f)}static findByName(e,n){let r=e;Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations);for(let o=0;o<r.length;o++)if(r[o].name===n)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const o={},l=/^([\w-]*?)([\d]+)$/;for(let h=0,g=e.length;h<g;h++){const v=e[h],w=v.name.match(l);if(w&&w.length>1){const S=w[1];let A=o[S];A||(o[S]=A=[]),A.push(v)}}const f=[];for(const h in o)f.push(this.CreateFromMorphTargetSequence(h,o[h],n,r));return f}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(S,A,R,B,K){if(0!==R.length){const H=[],U=[];Dd(R,H,U,B),0!==H.length&&K.push(new S(A,H,U))}},o=[],l=e.name||"default",f=e.fps||30,h=e.blendMode;let g=e.length||-1;const v=e.hierarchy||[];for(let S=0;S<v.length;S++){const A=v[S].keys;if(A&&0!==A.length)if(A[0].morphTargets){const R={};let B;for(B=0;B<A.length;B++)if(A[B].morphTargets)for(let K=0;K<A[B].morphTargets.length;K++)R[A[B].morphTargets[K]]=-1;for(const K in R){const H=[],U=[];for(let ae=0;ae!==A[B].morphTargets.length;++ae){const ie=A[B];H.push(ie.time),U.push(ie.morphTarget===K?1:0)}o.push(new $f(".morphTargetInfluence["+K+"]",H,U))}g=R.length*f}else{const R=".bones["+n[S].name+"]";r(Id,R+".position",A,"pos",o),r(qu,R+".quaternion",A,"rot",o),r(Id,R+".scale",A,"scl",o)}}return 0===o.length?null:new this(l,g,o,h)}resetDuration(){let n=0;for(let r=0,o=this.tracks.length;r!==o;++r){const l=this.tracks[r];n=Math.max(n,l.times[l.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ew(c){if(void 0===c.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Jb(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $f;case"vector":case"vector2":case"vector3":case"vector4":return Id;case"color":return Hf;case"quaternion":return qu;case"bool":case"boolean":return kc;case"string":return ou}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}(c.type);if(void 0===c.times){const n=[],r=[];Dd(c.keys,n,r,"value"),c.times=n,c.values=r}return void 0!==e.parse?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Uc={enabled:!1,files:{},add:function(c,e){!1!==this.enabled&&(this.files[c]=e)},get:function(c){if(!1!==this.enabled)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class z0{constructor(e,n,r){const o=this;let g,l=!1,f=0,h=0;const v=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(w){h++,!1===l&&void 0!==o.onStart&&o.onStart(w,f,h),l=!0},this.itemEnd=function(w){f++,void 0!==o.onProgress&&o.onProgress(w,f,h),f===h&&(l=!1,void 0!==o.onLoad&&o.onLoad())},this.itemError=function(w){void 0!==o.onError&&o.onError(w)},this.resolveURL=function(w){return g?g(w):w},this.setURLModifier=function(w){return g=w,this},this.addHandler=function(w,S){return v.push(w,S),this},this.removeHandler=function(w){const S=v.indexOf(w);return-1!==S&&v.splice(S,2),this},this.getHandler=function(w){for(let S=0,A=v.length;S<A;S+=2){const R=v[S],B=v[S+1];if(R.global&&(R.lastIndex=0),R.test(w))return B}return null}}}const tw=new z0;let Xa=(()=>{class c{constructor(n){this.manager=void 0!==n?n:tw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(n,r){const o=this;return new Promise(function(l,f){o.load(n,l,r,f)})}parse(){}setCrossOrigin(n){return this.crossOrigin=n,this}setWithCredentials(n){return this.withCredentials=n,this}setPath(n){return this.path=n,this}setResourcePath(n){return this.resourcePath=n,this}setRequestHeader(n){return this.requestHeader=n,this}}return c.DEFAULT_MATERIAL_NAME="__DEFAULT",c})();const ic={};class nw extends Error{constructor(e,n){super(e),this.response=n}}class rc extends Xa{constructor(e){super(e)}load(e,n,r,o){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=Uc.get(e);if(void 0!==l)return this.manager.itemStart(e),setTimeout(()=>{n&&n(l),this.manager.itemEnd(e)},0),l;if(void 0!==ic[e])return void ic[e].push({onLoad:n,onProgress:r,onError:o});ic[e]=[],ic[e].push({onLoad:n,onProgress:r,onError:o});const f=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,g=this.responseType;fetch(f).then(v=>{if(200===v.status||0===v.status){if(0===v.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===v.body||void 0===v.body.getReader)return v;const w=ic[e],S=v.body.getReader(),A=v.headers.get("X-File-Size")||v.headers.get("Content-Length"),R=A?parseInt(A):0,B=0!==R;let K=0;const H=new ReadableStream({start(U){!function ae(){S.read().then(({done:ie,value:ue})=>{if(ie)U.close();else{K+=ue.byteLength;const ot=new ProgressEvent("progress",{lengthComputable:B,loaded:K,total:R});for(let ze=0,We=w.length;ze<We;ze++){const ht=w[ze];ht.onProgress&&ht.onProgress(ot)}U.enqueue(ue),ae()}})}()}});return new Response(H)}throw new nw(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`,v)}).then(v=>{switch(g){case"arraybuffer":return v.arrayBuffer();case"blob":return v.blob();case"document":return v.text().then(w=>(new DOMParser).parseFromString(w,h));case"json":return v.json();default:if(void 0===h)return v.text();{const S=/charset="?([^;"\s]*)"?/i.exec(h),A=S&&S[1]?S[1].toLowerCase():void 0,R=new TextDecoder(A);return v.arrayBuffer().then(B=>R.decode(B))}}}).then(v=>{Uc.add(e,v);const w=ic[e];delete ic[e];for(let S=0,A=w.length;S<A;S++){const R=w[S];R.onLoad&&R.onLoad(v)}}).catch(v=>{const w=ic[e];if(void 0===w)throw this.manager.itemError(e),v;delete ic[e];for(let S=0,A=w.length;S<A;S++){const R=w[S];R.onError&&R.onError(v)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ng extends Xa{constructor(e){super(e)}load(e,n,r,o){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,f=Uc.get(e);if(void 0!==f)return l.manager.itemStart(e),setTimeout(function(){n&&n(f),l.manager.itemEnd(e)},0),f;const h=xl("img");function g(){w(),Uc.add(e,this),n&&n(this),l.manager.itemEnd(e)}function v(S){w(),o&&o(S),l.manager.itemError(e),l.manager.itemEnd(e)}function w(){h.removeEventListener("load",g,!1),h.removeEventListener("error",v,!1)}return h.addEventListener("load",g,!1),h.addEventListener("error",v,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),l.manager.itemStart(e),h.src=e,h}}class H0 extends Xa{constructor(e){super(e)}load(e,n,r,o){const l=new Ea,f=new ng(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(e,function(h){l.image=h,l.needsUpdate=!0,void 0!==n&&n(l)},r,o),l}}class Ku extends Kn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new vi(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}class $0 extends Ku{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new vi(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const rg=new vr,lp=new Ye,rw=new Ye;class cp{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vn(512,512),this.map=null,this.mapPass=null,this.matrix=new vr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ch,this._frameExtents=new Vn(1,1),this._viewportCount=1,this._viewports=[new fo(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;lp.setFromMatrixPosition(e.matrixWorld),n.position.copy(lp),rw.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(rw),n.updateMatrixWorld(),rg.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rg),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(rg)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class vc extends cp{constructor(){super(new Ma(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=2*Dt*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,l=e.distance||n.far;(r!==n.fov||o!==n.aspect||l!==n.far)&&(n.fov=r,n.aspect=o,n.far=l,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class sg extends Ku{constructor(e,n,r=0,o=Math.PI/3,l=0,f=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.distance=r,this.angle=o,this.penumbra=l,this.decay=f,this.map=null,this.shadow=new vc}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const G0=new vr,up=new Ye,Ca=new Ye;class sw extends cp{constructor(){super(new Ma(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vn(4,2),this._viewportCount=6,this._viewports=[new fo(2,1,1,1),new fo(0,1,1,1),new fo(3,1,1,1),new fo(1,1,1,1),new fo(3,0,1,1),new fo(1,0,1,1)],this._cubeDirections=[new Ye(1,0,0),new Ye(-1,0,0),new Ye(0,0,1),new Ye(0,0,-1),new Ye(0,1,0),new Ye(0,-1,0)],this._cubeUps=[new Ye(0,1,0),new Ye(0,1,0),new Ye(0,1,0),new Ye(0,1,0),new Ye(0,0,1),new Ye(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,o=this.matrix,l=e.distance||r.far;l!==r.far&&(r.far=l,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),Ca.copy(r.position),Ca.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Ca),r.updateMatrixWorld(),o.makeTranslation(-up.x,-up.y,-up.z),G0.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G0)}}class Wl extends Ku{constructor(e,n,r=0,o=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new sw}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ow extends cp{constructor(){super(new Mu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pd extends Ku{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kn.DEFAULT_UP),this.updateMatrix(),this.target=new Kn,this.shadow=new ow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dp extends Ku{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Yu{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let n="";for(let r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return-1===n?"./":e.slice(0,n+1)}static resolveURL(e,n){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Y0 extends Xa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,o){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,f=Uc.get(e);if(void 0!==f)return l.manager.itemStart(e),f.then?void f.then(v=>{n&&n(v),l.manager.itemEnd(e)}).catch(v=>{o&&o(v)}):(setTimeout(function(){n&&n(f),l.manager.itemEnd(e)},0),f);const h={};h.credentials="anonymous"===this.crossOrigin?"same-origin":"include",h.headers=this.requestHeader;const g=fetch(e,h).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(v){return Uc.add(e,v),n&&n(v),l.manager.itemEnd(e),v}).catch(function(v){o&&o(v),Uc.remove(e),l.manager.itemError(e),l.manager.itemEnd(e)});Uc.add(e,g),l.manager.itemStart(e)}}const dg="\\[\\]\\.:\\/",uw=new RegExp("["+dg+"]","g"),fg="[^"+dg+"]",dw="[^"+dg.replace("\\.","")+"]",J0=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",fg)+/(WCOD+)?/.source.replace("WCOD",dw)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fg)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fg)+"$"),ey=["material","materials","bones","map"];class hg{constructor(e,n,r){const o=r||qo.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const o=this._bindings[this._targetGroup.nCachedObjects_];void 0!==o&&o.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,l=r.length;o!==l;++o)r[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}let qo=(()=>{class c{constructor(n,r,o){this.path=r,this.parsedPath=o||c.parseTrackName(r),this.node=c.findNode(n,this.parsedPath.nodeName),this.rootNode=n,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(n,r,o){return n&&n.isAnimationObjectGroup?new c.Composite(n,r,o):new c(n,r,o)}static sanitizeNodeName(n){return n.replace(/\s/g,"_").replace(uw,"")}static parseTrackName(n){const r=J0.exec(n);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+n);const o={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(void 0!==l&&-1!==l){const f=o.nodeName.substring(l+1);-1!==ey.indexOf(f)&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=f)}if(null===o.propertyName||0===o.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return o}static findNode(n,r){if(void 0===r||""===r||"."===r||-1===r||r===n.name||r===n.uuid)return n;if(n.skeleton){const o=n.skeleton.getBoneByName(r);if(void 0!==o)return o}if(n.children){const o=function(f){for(let h=0;h<f.length;h++){const g=f[h];if(g.name===r||g.uuid===r)return g;const v=o(g.children);if(v)return v}return null},l=o(n.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(n,r){n[r]=this.targetObject[this.propertyName]}_getValue_array(n,r){const o=this.resolvedProperty;for(let l=0,f=o.length;l!==f;++l)n[r++]=o[l]}_getValue_arrayElement(n,r){n[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(n,r){this.resolvedProperty.toArray(n,r)}_setValue_direct(n,r){this.targetObject[this.propertyName]=n[r]}_setValue_direct_setNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(n,r){const o=this.resolvedProperty;for(let l=0,f=o.length;l!==f;++l)o[l]=n[r++]}_setValue_array_setNeedsUpdate(n,r){const o=this.resolvedProperty;for(let l=0,f=o.length;l!==f;++l)o[l]=n[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(n,r){const o=this.resolvedProperty;for(let l=0,f=o.length;l!==f;++l)o[l]=n[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(n,r){this.resolvedProperty[this.propertyIndex]=n[r]}_setValue_arrayElement_setNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(n,r){this.resolvedProperty.fromArray(n,r)}_setValue_fromArray_setNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(n,r){this.bind(),this.getValue(n,r)}_setValue_unbound(n,r){this.bind(),this.setValue(n,r)}bind(){let n=this.node;const r=this.parsedPath,o=r.objectName,l=r.propertyName;let f=r.propertyIndex;if(n||(n=c.findNode(this.rootNode,r.nodeName),this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!n)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(o){let w=r.objectIndex;switch(o){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(let S=0;S<n.length;S++)if(n[S].name===w){w=S;break}break;case"map":if("map"in n){n=n.map;break}if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);n=n.material.map;break;default:if(void 0===n[o])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[o]}if(void 0!==w){if(void 0===n[w])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[w]}}const h=n[l];if(void 0===h)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+l+" but it wasn't found.",n);let g=this.Versioning.None;this.targetObject=n,void 0!==n.needsUpdate?g=this.Versioning.NeedsUpdate:void 0!==n.matrixWorldNeedsUpdate&&(g=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(void 0!==f){if("morphTargetInfluences"===l){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==n.morphTargetDictionary[f]&&(f=n.morphTargetDictionary[f])}v=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=f}else void 0!==h.fromArray&&void 0!==h.toArray?(v=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(v=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=l;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][g]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return c.Composite=hg,c})();qo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},qo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},qo.prototype.GetterByBindingType=[qo.prototype._getValue_direct,qo.prototype._getValue_array,qo.prototype._getValue_arrayElement,qo.prototype._getValue_toArray],qo.prototype.SetterByBindingTypeAndVersioning=[[qo.prototype._setValue_direct,qo.prototype._setValue_direct_setNeedsUpdate,qo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qo.prototype._setValue_array,qo.prototype._setValue_array_setNeedsUpdate,qo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qo.prototype._setValue_arrayElement,qo.prototype._setValue_arrayElement_setNeedsUpdate,qo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qo.prototype._setValue_fromArray,qo.prototype._setValue_fromArray_setNeedsUpdate,qo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class iy{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(St(n/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function ly(c,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),c;if(2===e||1===e){let n=c.getIndex();if(null===n){const f=[],h=c.getAttribute("position");if(void 0===h)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),c;for(let g=0;g<h.count;g++)f.push(g);c.setIndex(f),n=c.getIndex()}const r=n.count-2,o=[];if(2===e)for(let f=1;f<=r;f++)o.push(n.getX(0)),o.push(n.getX(f)),o.push(n.getX(f+1));else for(let f=0;f<r;f++)f%2==0?(o.push(n.getX(f)),o.push(n.getX(f+1)),o.push(n.getX(f+2))):(o.push(n.getX(f+2)),o.push(n.getX(f+1)),o.push(n.getX(f)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=c.clone();return l.setIndex(o),l.clearGroups(),l}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),c}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"164"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="164");class BE extends Xa{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Rw(n)}),this.register(function(n){return new uy(n)}),this.register(function(n){return new Mp(n)}),this.register(function(n){return new Lw(n)}),this.register(function(n){return new Fw(n)}),this.register(function(n){return new dy(n)}),this.register(function(n){return new zE(n)}),this.register(function(n){return new Pw(n)}),this.register(function(n){return new fy(n)}),this.register(function(n){return new cy(n)}),this.register(function(n){return new wg(n)}),this.register(function(n){return new VE(n)}),this.register(function(n){return new Nw(n)}),this.register(function(n){return new Ow(n)}),this.register(function(n){return new Iw(n)}),this.register(function(n){return new kw(n)}),this.register(function(n){return new Uw(n)})}load(e,n,r,o){const l=this;let f;if(""!==this.resourcePath)f=this.resourcePath;else if(""!==this.path){const v=Yu.extractUrlBase(e);f=Yu.resolveURL(v,this.path)}else f=Yu.extractUrlBase(e);this.manager.itemStart(e);const h=function(v){o?o(v):console.error(v),l.manager.itemError(e),l.manager.itemEnd(e)},g=new rc(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(e,function(v){try{l.parse(v,f,function(w){n(w),l.manager.itemEnd(e)},h)}catch(w){h(w)}},r,h)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,o){let l;const f={},h={},g=new TextDecoder;if("string"==typeof e)l=JSON.parse(e);else if(e instanceof ArrayBuffer)if(g.decode(new Uint8Array(e,0,4))===hy){try{f[co.KHR_BINARY_GLTF]=new my(e)}catch(S){return void(o&&o(S))}l=JSON.parse(f[co.KHR_BINARY_GLTF].content)}else l=JSON.parse(g.decode(e));else l=e;if(void 0===l.asset||l.asset.version[0]<2)return void(o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const v=new Cg(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});v.fileLoader.setRequestHeader(this.requestHeader);for(let w=0;w<this.pluginCallbacks.length;w++){const S=this.pluginCallbacks[w](v);S.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),h[S.name]=S,f[S.name]=!0}if(l.extensionsUsed)for(let w=0;w<l.extensionsUsed.length;++w){const S=l.extensionsUsed[w],A=l.extensionsRequired||[];switch(S){case co.KHR_MATERIALS_UNLIT:f[S]=new Sp;break;case co.KHR_DRACO_MESH_COMPRESSION:f[S]=new gy(l,this.dracoLoader);break;case co.KHR_TEXTURE_TRANSFORM:f[S]=new Bw;break;case co.KHR_MESH_QUANTIZATION:f[S]=new HE;break;default:A.indexOf(S)>=0&&void 0===h[S]&&console.warn('THREE.GLTFLoader: Unknown extension "'+S+'".')}}v.setExtensions(f),v.setPlugins(h),v.parse(r,o)}parseAsync(e,n){const r=this;return new Promise(function(o,l){r.parse(e,n,o,l)})}}function Dw(){let c={};return{get:function(e){return c[e]},add:function(e,n){c[e]=n},remove:function(e){delete c[e]},removeAll:function(){c={}}}}const co={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Iw{constructor(e){this.parser=e,this.name=co.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,o=n.length;r<o;r++){const l=n[r];l.extensions&&l.extensions[this.name]&&void 0!==l.extensions[this.name].light&&e._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let o=n.cache.get(r);if(o)return o;const l=n.json,g=((l.extensions&&l.extensions[this.name]||{}).lights||[])[e];let v;const w=new vi(16777215);void 0!==g.color&&w.setRGB(g.color[0],g.color[1],g.color[2],_t);const S=void 0!==g.range?g.range:0;switch(g.type){case"directional":v=new Pd(w),v.target.position.set(0,0,-1),v.add(v.target);break;case"point":v=new Wl(w),v.distance=S;break;case"spot":v=new sg(w),v.distance=S,g.spot=g.spot||{},g.spot.innerConeAngle=void 0!==g.spot.innerConeAngle?g.spot.innerConeAngle:0,g.spot.outerConeAngle=void 0!==g.spot.outerConeAngle?g.spot.outerConeAngle:Math.PI/4,v.angle=g.spot.outerConeAngle,v.penumbra=1-g.spot.innerConeAngle/g.spot.outerConeAngle,v.target.position.set(0,0,-1),v.add(v.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+g.type)}return v.position.set(0,0,0),v.decay=2,ed(v,g),void 0!==g.intensity&&(v.intensity=g.intensity),v.name=n.createUniqueName(g.name||"light_"+e),o=Promise.resolve(v),n.cache.add(r,o),o}getDependency(e,n){if("light"===e)return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,l=r.json.nodes[e],h=(l.extensions&&l.extensions[this.name]||{}).light;return void 0===h?null:this._loadLight(h).then(function(g){return r._getNodeRef(n.cache,h,g)})}}class Sp{constructor(){this.name=co.KHR_MATERIALS_UNLIT}getMaterialType(){return T}extendParams(e,n,r){const o=[];e.color=new vi(1,1,1),e.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const f=l.baseColorFactor;e.color.setRGB(f[0],f[1],f[2],_t),e.opacity=f[3]}void 0!==l.baseColorTexture&&o.push(r.assignTexture(e,"map",l.baseColorTexture,Mt))}return Promise.all(o)}}class cy{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name].emissiveStrength;return void 0!==l&&(n.emissiveIntensity=l),Promise.resolve()}}class Rw{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];if(void 0!==f.clearcoatFactor&&(n.clearcoat=f.clearcoatFactor),void 0!==f.clearcoatTexture&&l.push(r.assignTexture(n,"clearcoatMap",f.clearcoatTexture)),void 0!==f.clearcoatRoughnessFactor&&(n.clearcoatRoughness=f.clearcoatRoughnessFactor),void 0!==f.clearcoatRoughnessTexture&&l.push(r.assignTexture(n,"clearcoatRoughnessMap",f.clearcoatRoughnessTexture)),void 0!==f.clearcoatNormalTexture&&(l.push(r.assignTexture(n,"clearcoatNormalMap",f.clearcoatNormalTexture)),void 0!==f.clearcoatNormalTexture.scale)){const h=f.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Vn(h,h)}return Promise.all(l)}}class uy{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.dispersion=void 0!==l.dispersion?l.dispersion:0,Promise.resolve()}}class VE{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];return void 0!==f.iridescenceFactor&&(n.iridescence=f.iridescenceFactor),void 0!==f.iridescenceTexture&&l.push(r.assignTexture(n,"iridescenceMap",f.iridescenceTexture)),void 0!==f.iridescenceIor&&(n.iridescenceIOR=f.iridescenceIor),void 0===n.iridescenceThicknessRange&&(n.iridescenceThicknessRange=[100,400]),void 0!==f.iridescenceThicknessMinimum&&(n.iridescenceThicknessRange[0]=f.iridescenceThicknessMinimum),void 0!==f.iridescenceThicknessMaximum&&(n.iridescenceThicknessRange[1]=f.iridescenceThicknessMaximum),void 0!==f.iridescenceThicknessTexture&&l.push(r.assignTexture(n,"iridescenceThicknessMap",f.iridescenceThicknessTexture)),Promise.all(l)}}class dy{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[];n.sheenColor=new vi(0,0,0),n.sheenRoughness=0,n.sheen=1;const f=o.extensions[this.name];if(void 0!==f.sheenColorFactor){const h=f.sheenColorFactor;n.sheenColor.setRGB(h[0],h[1],h[2],_t)}return void 0!==f.sheenRoughnessFactor&&(n.sheenRoughness=f.sheenRoughnessFactor),void 0!==f.sheenColorTexture&&l.push(r.assignTexture(n,"sheenColorMap",f.sheenColorTexture,Mt)),void 0!==f.sheenRoughnessTexture&&l.push(r.assignTexture(n,"sheenRoughnessMap",f.sheenRoughnessTexture)),Promise.all(l)}}class zE{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];return void 0!==f.transmissionFactor&&(n.transmission=f.transmissionFactor),void 0!==f.transmissionTexture&&l.push(r.assignTexture(n,"transmissionMap",f.transmissionTexture)),Promise.all(l)}}class Pw{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];n.thickness=void 0!==f.thicknessFactor?f.thicknessFactor:0,void 0!==f.thicknessTexture&&l.push(r.assignTexture(n,"thicknessMap",f.thicknessTexture)),n.attenuationDistance=f.attenuationDistance||1/0;const h=f.attenuationColor||[1,1,1];return n.attenuationColor=(new vi).setRGB(h[0],h[1],h[2],_t),Promise.all(l)}}class fy{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.ior=void 0!==l.ior?l.ior:1.5,Promise.resolve()}}class wg{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];n.specularIntensity=void 0!==f.specularFactor?f.specularFactor:1,void 0!==f.specularTexture&&l.push(r.assignTexture(n,"specularIntensityMap",f.specularTexture));const h=f.specularColorFactor||[1,1,1];return n.specularColor=(new vi).setRGB(h[0],h[1],h[2],_t),void 0!==f.specularColorTexture&&l.push(r.assignTexture(n,"specularColorMap",f.specularColorTexture,Mt)),Promise.all(l)}}class Ow{constructor(e){this.parser=e,this.name=co.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];return n.bumpScale=void 0!==f.bumpFactor?f.bumpFactor:1,void 0!==f.bumpTexture&&l.push(r.assignTexture(n,"bumpMap",f.bumpTexture)),Promise.all(l)}}class Nw{constructor(e){this.parser=e,this.name=co.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?Fl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],f=o.extensions[this.name];return void 0!==f.anisotropyStrength&&(n.anisotropy=f.anisotropyStrength),void 0!==f.anisotropyRotation&&(n.anisotropyRotation=f.anisotropyRotation),void 0!==f.anisotropyTexture&&l.push(r.assignTexture(n,"anisotropyMap",f.anisotropyTexture)),Promise.all(l)}}class Mp{constructor(e){this.parser=e,this.name=co.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const l=o.extensions[this.name],f=n.options.ktx2Loader;if(!f){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,l.source,f)}}class Lw{constructor(e){this.parser=e,this.name=co.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const f=l.extensions[n],h=o.images[f.source];let g=r.textureLoader;if(h.uri){const v=r.options.manager.getHandler(h.uri);null!==v&&(g=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,f.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(1===n.height)}})),this.isSupported}}class Fw{constructor(e){this.parser=e,this.name=co.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const f=l.extensions[n],h=o.images[f.source];let g=r.textureLoader;if(h.uri){const v=r.options.manager.getHandler(h.uri);null!==v&&(g=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,f.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(1===n.height)}})),this.isSupported}}class kw{constructor(e){this.name=co.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],l=this.parser.getDependency("buffer",o.buffer),f=this.parser.options.meshoptDecoder;if(!f||!f.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(h){const w=o.count,S=o.byteStride,A=new Uint8Array(h,o.byteOffset||0,o.byteLength||0);return f.decodeGltfBufferAsync?f.decodeGltfBufferAsync(w,S,A,o.mode,o.filter).then(function(R){return R.buffer}):f.ready.then(function(){const R=new ArrayBuffer(w*S);return f.decodeGltfBuffer(new Uint8Array(R),w,S,A,o.mode,o.filter),R})})}return null}}class Uw{constructor(e){this.name=co.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;const o=n.meshes[r.mesh];for(const v of o.primitives)if(v.mode!==kl.TRIANGLES&&v.mode!==kl.TRIANGLE_STRIP&&v.mode!==kl.TRIANGLE_FAN&&void 0!==v.mode)return null;const f=r.extensions[this.name].attributes,h=[],g={};for(const v in f)h.push(this.parser.getDependency("accessor",f[v]).then(w=>(g[v]=w,g[v])));return h.length<1?null:(h.push(this.parser.createNodeMesh(e)),Promise.all(h).then(v=>{const w=v.pop(),S=w.isGroup?w.children:[w],A=v[0].count,R=[];for(const B of S){const K=new vr,H=new Ye,U=new ia,ae=new Ye(1,1,1),ie=new g0(B.geometry,B.material,A);for(let ue=0;ue<A;ue++)g.TRANSLATION&&H.fromBufferAttribute(g.TRANSLATION,ue),g.ROTATION&&U.fromBufferAttribute(g.ROTATION,ue),g.SCALE&&ae.fromBufferAttribute(g.SCALE,ue),ie.setMatrixAt(ue,K.compose(H,U,ae));for(const ue in g)if("_COLOR_0"===ue){const ot=g[ue];ie.instanceColor=new yd(ot.array,ot.itemSize,ot.normalized)}else"TRANSLATION"!==ue&&"ROTATION"!==ue&&"SCALE"!==ue&&B.geometry.setAttribute(ue,g[ue]);Kn.prototype.copy.call(ie,B),this.parser.assignFinalMaterial(ie),R.push(ie)}return w.isGroup?(w.clear(),w.add(...R),w):R[0]}))}}const hy="glTF";class my{constructor(e){this.name=co.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==hy)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-12,l=new DataView(e,12);let f=0;for(;f<o;){const h=l.getUint32(f,!0);f+=4;const g=l.getUint32(f,!0);if(f+=4,1313821514===g){const v=new Uint8Array(e,12+f,h);this.content=r.decode(v)}else if(5130562===g){const v=12+f;this.body=e.slice(v,v+h)}f+=h}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gy{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=co.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,o=this.dracoLoader,l=e.extensions[this.name].bufferView,f=e.extensions[this.name].attributes,h={},g={},v={};for(const w in f){const S=Eg[w]||w.toLowerCase();h[S]=f[w]}for(const w in e.attributes){const S=Eg[w]||w.toLowerCase();if(void 0!==f[w]){const A=r.accessors[e.attributes[w]];v[S]=Ld[A.componentType].name,g[S]=!0===A.normalized}}return n.getDependency("bufferView",l).then(function(w){return new Promise(function(S,A){o.decodeDracoFile(w,function(R){for(const B in R.attributes){const H=g[B];void 0!==H&&(R.attributes[B].normalized=H)}S(R)},h,v,_t,A)})})}}class Bw{constructor(){this.name=co.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(void 0===n.texCoord||n.texCoord===e.channel)&&void 0===n.offset&&void 0===n.rotation&&void 0===n.scale||(e=e.clone(),void 0!==n.texCoord&&(e.channel=n.texCoord),void 0!==n.offset&&e.offset.fromArray(n.offset),void 0!==n.rotation&&(e.rotation=n.rotation),void 0!==n.scale&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class HE{constructor(){this.name=co.KHR_MESH_QUANTIZATION}}class xg extends Vf{constructor(e,n,r,o){super(e,n,r,o)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o*3+o;for(let f=0;f!==o;f++)n[f]=r[l+f];return n}interpolate_(e,n,r,o){const l=this.resultBuffer,f=this.sampleValues,h=this.valueSize,g=2*h,v=3*h,w=o-n,S=(r-n)/w,A=S*S,R=A*S,B=e*v,K=B-v,H=-2*R+3*A,U=R-A,ae=1-H,ie=U-A+S;for(let ue=0;ue!==h;ue++)l[ue]=ae*f[K+ue+h]+ie*(f[K+ue+g]*w)+H*f[B+ue+h]+U*(f[B+ue]*w);return l}}const vy=new ia;class Ju extends xg{interpolate_(e,n,r,o){const l=super.interpolate_(e,n,r,o);return vy.fromArray(l).normalize().toArray(l),l}}const kl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ld={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Vw={9728:ss,9729:mt,9984:1004,9985:1007,9986:vt,9987:si},Cp={33071:Xr,33648:1002,10497:Wi},Zf={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Eg={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},zc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Sg={CUBICSPLINE:void 0,LINEAR:Jo,STEP:Kr};function Fd(c,e,n){for(const r in n.extensions)void 0===c[r]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ed(c,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(c.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $E(c,e){if(c.updateMorphTargets(),void 0!==e.weights)for(let n=0,r=e.weights.length;n<r;n++)c.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(c.morphTargetInfluences.length===n.length){c.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++)c.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function kd(c){let e;const n=c.extensions&&c.extensions[co.KHR_DRACO_MESH_COMPRESSION];if(e=n?"draco:"+n.bufferView+":"+n.indices+":"+yy(n.attributes):c.indices+":"+yy(c.attributes)+":"+c.mode,void 0!==c.targets)for(let r=0,o=c.targets.length;r<o;r++)e+=":"+yy(c.targets[r]);return e}function yy(c){let e="";const n=Object.keys(c).sort();for(let r=0,o=n.length;r<o;r++)e+=n[r]+":"+c[n[r]]+";";return e}function Ud(c){switch(c){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const $w=new vr;class Cg{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Dw,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,l=-1;typeof navigator<"u"&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=navigator.userAgent.indexOf("Firefox")>-1,l=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||r||o&&l<98?new H0(this.options.manager):new Y0(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new rc(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,o=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(f){return f._markDefs&&f._markDefs()}),Promise.all(this._invokeAll(function(f){return f.beforeRoot&&f.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(f){const h={scene:f[0][o.scene||0],scenes:f[0],animations:f[1],cameras:f[2],asset:o.asset,parser:r,userData:{}};return Fd(l,h,o),ed(h,o),Promise.all(r._invokeAll(function(g){return g.afterRoot&&g.afterRoot(h)})).then(function(){for(const g of h.scenes)g.updateMatrixWorld();e(h)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let o=0,l=n.length;o<l;o++){const f=n[o].joints;for(let h=0,g=f.length;h<g;h++)e[f[h]].isBone=!0}for(let o=0,l=e.length;o<l;o++){const f=e[o];void 0!==f.mesh&&(this._addNodeRef(this.meshCache,f.mesh),void 0!==f.skin&&(r[f.mesh].isSkinnedMesh=!0)),void 0!==f.camera&&this._addNodeRef(this.cameraCache,f.camera)}}_addNodeRef(e,n){void 0!==n&&(void 0===e.refs[n]&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const o=r.clone(),l=(f,h)=>{const g=this.associations.get(f);null!=g&&this.associations.set(h,g);for(const[v,w]of f.children.entries())l(w,h.children[v])};return l(r,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const o=e(n[r]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let o=0;o<n.length;o++){const l=e(n[o]);l&&r.push(l)}return r}getDependency(e,n){const r=e+":"+n;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(l){return l.loadNode&&l.loadNode(n)});break;case"mesh":o=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(e,n)}),!o)throw new Error("Unknown type: "+e)}this.cache.add(r,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this;n=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(l,f){return r.getDependency(e,f)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===e)return Promise.resolve(this.extensions[co.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(l,f){r.load(Yu.resolveURL(n.uri,o.path),l,void 0,function(){f(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const l=n.byteOffset||0;return r.slice(l,l+(n.byteLength||0))})}loadAccessor(e){const n=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse){const f=Zf[o.type],g=!0===o.normalized,v=new(0,Ld[o.componentType])(o.count*f);return Promise.resolve(new Bi(v,f,g))}const l=[];return l.push(void 0!==o.bufferView?this.getDependency("bufferView",o.bufferView):null),void 0!==o.sparse&&(l.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(l).then(function(f){const h=f[0],g=Zf[o.type],v=Ld[o.componentType],w=v.BYTES_PER_ELEMENT,A=o.byteOffset||0,R=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,B=!0===o.normalized;let K,H;if(R&&R!==w*g){const U=Math.floor(A/R),ae="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+U+":"+o.count;let ie=n.cache.get(ae);ie||(K=new v(h,U*R,o.count*R/w),ie=new wm(K,R/w),n.cache.add(ae,ie)),H=new md(ie,g,A%R/w,B)}else K=null===h?new v(o.count*g):new v(h,A,o.count*g),H=new Bi(K,g,B);if(void 0!==o.sparse){const ue=o.sparse.values.byteOffset||0,ot=new(0,Ld[o.sparse.indices.componentType])(f[1],o.sparse.indices.byteOffset||0,o.sparse.count*Zf.SCALAR),ze=new v(f[2],ue,o.sparse.count*g);null!==h&&(H=new Bi(H.array.slice(),H.itemSize,H.normalized));for(let We=0,ht=ot.length;We<ht;We++){const Ne=ot[We];if(H.setX(Ne,ze[We*g]),g>=2&&H.setY(Ne,ze[We*g+1]),g>=3&&H.setZ(Ne,ze[We*g+2]),g>=4&&H.setW(Ne,ze[We*g+3]),g>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return H})}loadTexture(e){const n=this.json,l=n.textures[e].source,f=n.images[l];let h=this.textureLoader;if(f.uri){const g=this.options.manager.getHandler(f.uri);null!==g&&(h=g)}return this.loadTextureImage(e,l,h)}loadTextureImage(e,n,r){const o=this,l=this.json,f=l.textures[e],h=l.images[n],g=(h.uri||h.bufferView)+":"+f.sampler;if(this.textureCache[g])return this.textureCache[g];const v=this.loadImageSource(n,r).then(function(w){w.flipY=!1,w.name=f.name||h.name||"",""===w.name&&"string"==typeof h.uri&&!1===h.uri.startsWith("data:image/")&&(w.name=h.uri);const A=(l.samplers||{})[f.sampler]||{};return w.magFilter=Vw[A.magFilter]||mt,w.minFilter=Vw[A.minFilter]||si,w.wrapS=Cp[A.wrapS]||Wi,w.wrapT=Cp[A.wrapT]||Wi,o.associations.set(w,{textures:e}),w}).catch(function(){return null});return this.textureCache[g]=v,v}loadImageSource(e,n){const o=this.json,l=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(S=>S.clone());const f=o.images[e],h=self.URL||self.webkitURL;let g=f.uri||"",v=!1;if(void 0!==f.bufferView)g=this.getDependency("bufferView",f.bufferView).then(function(S){v=!0;const A=new Blob([S],{type:f.mimeType});return g=h.createObjectURL(A),g});else if(void 0===f.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const w=Promise.resolve(g).then(function(S){return new Promise(function(A,R){let B=A;!0===n.isImageBitmapLoader&&(B=function(K){const H=new Ea(K);H.needsUpdate=!0,A(H)}),n.load(Yu.resolveURL(S,l.path),B,void 0,R)})}).then(function(S){return!0===v&&h.revokeObjectURL(g),S.userData.mimeType=f.mimeType||function Hw(c){return c.search(/\.jpe?g($|\?)/i)>0||0===c.search(/^data\:image\/jpeg/)?"image/jpeg":c.search(/\.webp($|\?)/i)>0||0===c.search(/^data\:image\/webp/)?"image/webp":"image/png"}(f.uri),S}).catch(function(S){throw console.error("THREE.GLTFLoader: Couldn't load texture",g),S});return this.sourceCache[e]=w,w}assignTexture(e,n,r,o){const l=this;return this.getDependency("texture",r.index).then(function(f){if(!f)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((f=f.clone()).channel=r.texCoord),l.extensions[co.KHR_TEXTURE_TRANSFORM]){const h=void 0!==r.extensions?r.extensions[co.KHR_TEXTURE_TRANSFORM]:void 0;if(h){const g=l.associations.get(f);f=l.extensions[co.KHR_TEXTURE_TRANSFORM].extendTexture(f,h),l.associations.set(f,g)}}return void 0!==o&&(f.colorSpace=o),e[n]=f,f})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const o=void 0===n.attributes.tangent,l=void 0!==n.attributes.color,f=void 0===n.attributes.normal;if(e.isPoints){const h="PointsMaterial:"+r.uuid;let g=this.cache.get(h);g||(g=new Xh,$.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,g.sizeAttenuation=!1,this.cache.add(h,g)),r=g}else if(e.isLine){const h="LineBasicMaterial:"+r.uuid;let g=this.cache.get(h);g||(g=new il,$.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,this.cache.add(h,g)),r=g}if(o||l||f){let h="ClonedMaterial:"+r.uuid+":";o&&(h+="derivative-tangents:"),l&&(h+="vertex-colors:"),f&&(h+="flat-shading:");let g=this.cache.get(h);g||(g=r.clone(),l&&(g.vertexColors=!0),f&&(g.flatShading=!0),o&&(g.normalScale&&(g.normalScale.y*=-1),g.clearcoatNormalScale&&(g.clearcoatNormalScale.y*=-1)),this.cache.add(h,g),this.associations.set(g,this.associations.get(r))),r=g}e.material=r}getMaterialType(){return ru}loadMaterial(e){const n=this,o=this.extensions,l=this.json.materials[e];let f;const h={},v=[];if((l.extensions||{})[co.KHR_MATERIALS_UNLIT]){const S=o[co.KHR_MATERIALS_UNLIT];f=S.getMaterialType(),v.push(S.extendParams(h,l,n))}else{const S=l.pbrMetallicRoughness||{};if(h.color=new vi(1,1,1),h.opacity=1,Array.isArray(S.baseColorFactor)){const A=S.baseColorFactor;h.color.setRGB(A[0],A[1],A[2],_t),h.opacity=A[3]}void 0!==S.baseColorTexture&&v.push(n.assignTexture(h,"map",S.baseColorTexture,Mt)),h.metalness=void 0!==S.metallicFactor?S.metallicFactor:1,h.roughness=void 0!==S.roughnessFactor?S.roughnessFactor:1,void 0!==S.metallicRoughnessTexture&&(v.push(n.assignTexture(h,"metalnessMap",S.metallicRoughnessTexture)),v.push(n.assignTexture(h,"roughnessMap",S.metallicRoughnessTexture))),f=this._invokeOne(function(A){return A.getMaterialType&&A.getMaterialType(e)}),v.push(Promise.all(this._invokeAll(function(A){return A.extendMaterialParams&&A.extendMaterialParams(e,h)})))}!0===l.doubleSided&&(h.side=2);const w=l.alphaMode||"OPAQUE";if("BLEND"===w?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,"MASK"===w&&(h.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&f!==T&&(v.push(n.assignTexture(h,"normalMap",l.normalTexture)),h.normalScale=new Vn(1,1),void 0!==l.normalTexture.scale)){const S=l.normalTexture.scale;h.normalScale.set(S,S)}if(void 0!==l.occlusionTexture&&f!==T&&(v.push(n.assignTexture(h,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(h.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&f!==T){const S=l.emissiveFactor;h.emissive=(new vi).setRGB(S[0],S[1],S[2],_t)}return void 0!==l.emissiveTexture&&f!==T&&v.push(n.assignTexture(h,"emissiveMap",l.emissiveTexture,Mt)),Promise.all(v).then(function(){const S=new f(h);return l.name&&(S.name=l.name),ed(S,l),n.associations.set(S,{materials:e}),l.extensions&&Fd(o,S,l),S})}createUniqueName(e){const n=qo.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,o=this.primitiveCache;function l(h){return r[co.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(h,n).then(function(g){return ac(g,h,n)})}const f=[];for(let h=0,g=e.length;h<g;h++){const v=e[h],w=kd(v),S=o[w];if(S)f.push(S.promise);else{let A;A=v.extensions&&v.extensions[co.KHR_DRACO_MESH_COMPRESSION]?l(v):ac(new vs,v,n),o[w]={primitive:v,promise:A},f.push(A)}}return Promise.all(f)}loadMesh(e){const n=this,o=this.extensions,l=this.json.meshes[e],f=l.primitives,h=[];for(let g=0,v=f.length;g<v;g++){const w=void 0===f[g].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new ru({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),c.DefaultMaterial):this.getDependency("material",f[g].material);h.push(w)}var c;return h.push(n.loadGeometries(f)),Promise.all(h).then(function(g){const v=g.slice(0,g.length-1),w=g[g.length-1],S=[];for(let R=0,B=w.length;R<B;R++){const K=w[R],H=f[R];let U;const ae=v[R];if(H.mode===kl.TRIANGLES||H.mode===kl.TRIANGLE_STRIP||H.mode===kl.TRIANGLE_FAN||void 0===H.mode)U=!0===l.isSkinnedMesh?new Am(K,ae):new ka(K,ae),!0===U.isSkinnedMesh&&U.normalizeSkinWeights(),H.mode===kl.TRIANGLE_STRIP?U.geometry=ly(U.geometry,1):H.mode===kl.TRIANGLE_FAN&&(U.geometry=ly(U.geometry,2));else if(H.mode===kl.LINES)U=new Wr(K,ae);else if(H.mode===kl.LINE_STRIP)U=new iu(K,ae);else if(H.mode===kl.LINE_LOOP)U=new Pm(K,ae);else{if(H.mode!==kl.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+H.mode);U=new Cf(K,ae)}Object.keys(U.geometry.morphAttributes).length>0&&$E(U,l),U.name=n.createUniqueName(l.name||"mesh_"+e),ed(U,l),H.extensions&&Fd(o,U,H),n.assignFinalMaterial(U),S.push(U)}for(let R=0,B=S.length;R<B;R++)n.associations.set(S[R],{meshes:e,primitives:R});if(1===S.length)return l.extensions&&Fd(o,S[0],l),S[0];const A=new Gl;l.extensions&&Fd(o,A,l),n.associations.set(A,{meshes:e});for(let R=0,B=S.length;R<B;R++)A.add(S[R]);return A})}loadCamera(e){let n;const r=this.json.cameras[e],o=r[r.type];if(o)return"perspective"===r.type?n=new Ma(dl_radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(n=new Mu(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ed(n,r),Promise.resolve(n);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const n=this.json.skins[e],r=[];for(let o=0,l=n.joints.length;o<l;o++)r.push(this._loadNodeShallow(n.joints[o]));return r.push(void 0!==n.inverseBindMatrices?this.getDependency("accessor",n.inverseBindMatrices):null),Promise.all(r).then(function(o){const l=o.pop(),f=o,h=[],g=[];for(let v=0,w=f.length;v<w;v++){const S=f[v];if(S){h.push(S);const A=new vr;null!==l&&A.fromArray(l.array,16*v),g.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[v])}return new vf(h,g)})}loadAnimation(e){const r=this,o=this.json.animations[e],l=o.name?o.name:"animation_"+e,f=[],h=[],g=[],v=[],w=[];for(let S=0,A=o.channels.length;S<A;S++){const R=o.channels[S],B=o.samplers[R.sampler],K=R.target,U=void 0!==o.parameters?o.parameters[B.input]:B.input,ae=void 0!==o.parameters?o.parameters[B.output]:B.output;void 0!==K.node&&(f.push(this.getDependency("node",K.node)),h.push(this.getDependency("accessor",U)),g.push(this.getDependency("accessor",ae)),v.push(B),w.push(K))}return Promise.all([Promise.all(f),Promise.all(h),Promise.all(g),Promise.all(v),Promise.all(w)]).then(function(S){const A=S[0],R=S[1],B=S[2],K=S[3],H=S[4],U=[];for(let ae=0,ie=A.length;ae<ie;ae++){const ue=A[ae],ot=R[ae],ze=B[ae],We=K[ae],ht=H[ae];if(void 0===ue)continue;ue.updateMatrix&&ue.updateMatrix();const Ne=r._createAnimationTracks(ue,ot,ze,We,ht);if(Ne)for(let xe=0;xe<Ne.length;xe++)U.push(Ne[xe])}return new Rd(l,void 0,U)})}createNodeMesh(e){const r=this,o=this.json.nodes[e];return void 0===o.mesh?null:r.getDependency("mesh",o.mesh).then(function(l){const f=r._getNodeRef(r.meshCache,o.mesh,l);return void 0!==o.weights&&f.traverse(function(h){if(h.isMesh)for(let g=0,v=o.weights.length;g<v;g++)h.morphTargetInfluences[g]=o.weights[g]}),f})}loadNode(e){const r=this,o=this.json.nodes[e],l=r._loadNodeShallow(e),f=[],h=o.children||[];for(let v=0,w=h.length;v<w;v++)f.push(r.getDependency("node",h[v]));const g=void 0===o.skin?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([l,Promise.all(f),g]).then(function(v){const w=v[0],S=v[1],A=v[2];null!==A&&w.traverse(function(R){R.isSkinnedMesh&&R.bind(A,$w)});for(let R=0,B=S.length;R<B;R++)w.add(S[R]);return w})}_loadNodeShallow(e){const r=this.extensions,o=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const l=this.json.nodes[e],f=l.name?o.createUniqueName(l.name):"",h=[],g=o._invokeOne(function(v){return v.createNodeMesh&&v.createNodeMesh(e)});return g&&h.push(g),void 0!==l.camera&&h.push(o.getDependency("camera",l.camera).then(function(v){return o._getNodeRef(o.cameraCache,l.camera,v)})),o._invokeAll(function(v){return v.createNodeAttachment&&v.createNodeAttachment(e)}).forEach(function(v){h.push(v)}),this.nodeCache[e]=Promise.all(h).then(function(v){let w;if(w=!0===l.isBone?new gf:v.length>1?new Gl:1===v.length?v[0]:new Kn,w!==v[0])for(let S=0,A=v.length;S<A;S++)w.add(v[S]);if(l.name&&(w.userData.name=l.name,w.name=f),ed(w,l),l.extensions&&Fd(r,w,l),void 0!==l.matrix){const S=new vr;S.fromArray(l.matrix),w.applyMatrix4(S)}else void 0!==l.translation&&w.position.fromArray(l.translation),void 0!==l.rotation&&w.quaternion.fromArray(l.rotation),void 0!==l.scale&&w.scale.fromArray(l.scale);return o.associations.has(w)||o.associations.set(w,{}),o.associations.get(w).nodes=e,w}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],o=this,l=new Gl;r.name&&(l.name=o.createUniqueName(r.name)),ed(l,r),r.extensions&&Fd(n,l,r);const f=r.nodes||[],h=[];for(let g=0,v=f.length;g<v;g++)h.push(o.getDependency("node",f[g]));return Promise.all(h).then(function(g){for(let w=0,S=g.length;w<S;w++)l.add(g[w]);return o.associations=(w=>{const S=new Map;for(const[A,R]of o.associations)(A instanceof $||A instanceof Ea)&&S.set(A,R);return w.traverse(A=>{const R=o.associations.get(A);null!=R&&S.set(A,R)}),S})(l),l})}_createAnimationTracks(e,n,r,o,l){const f=[],h=e.name?e.name:e.uuid,g=[];let v;switch(zc[l.path]===zc.weights?e.traverse(function(A){A.morphTargetInfluences&&g.push(A.name?A.name:A.uuid)}):g.push(h),zc[l.path]){case zc.weights:v=$f;break;case zc.rotation:v=qu;break;case zc.position:case zc.scale:v=Id;break;default:v=1===r.itemSize?$f:Id}const w=void 0!==o.interpolation?Sg[o.interpolation]:Jo,S=this._getArrayFromAccessor(r);for(let A=0,R=g.length;A<R;A++){const B=new v(g[A]+"."+zc[l.path],n.array,S,w);"CUBICSPLINE"===o.interpolation&&this._createCubicSplineTrackInterpolant(B),f.push(B)}return f}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=Ud(n.constructor),o=new Float32Array(n.length);for(let l=0,f=n.length;l<f;l++)o[l]=n[l]*r;n=o}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){return new(this instanceof qu?Ju:xg)(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function ac(c,e,n){const r=e.attributes,o=[];function l(f,h){return n.getDependency("accessor",f).then(function(g){c.setAttribute(h,g)})}for(const f in r){const h=Eg[f]||f.toLowerCase();h in c.attributes||o.push(l(r[f],h))}if(void 0!==e.indices&&!c.index){const f=n.getDependency("accessor",e.indices).then(function(h){c.setIndex(h)});o.push(f)}return eo.workingColorSpace!==_t&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${eo.workingColorSpace}" not supported.`),ed(c,e),function Gw(c,e,n){const r=e.attributes,o=new $e;if(void 0===r.POSITION)return;{const h=n.json.accessors[r.POSITION],g=h.min,v=h.max;if(void 0===g||void 0===v)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new Ye(g[0],g[1],g[2]),new Ye(v[0],v[1],v[2])),h.normalized){const w=Ud(Ld[h.componentType]);o.min.multiplyScalar(w),o.max.multiplyScalar(w)}}const l=e.targets;if(void 0!==l){const h=new Ye,g=new Ye;for(let v=0,w=l.length;v<w;v++){const S=l[v];if(void 0!==S.POSITION){const A=n.json.accessors[S.POSITION],R=A.min,B=A.max;if(void 0!==R&&void 0!==B){if(g.setX(Math.max(Math.abs(R[0]),Math.abs(B[0]))),g.setY(Math.max(Math.abs(R[1]),Math.abs(B[1]))),g.setZ(Math.max(Math.abs(R[2]),Math.abs(B[2]))),A.normalized){const K=Ud(Ld[A.componentType]);g.multiplyScalar(K)}h.max(g)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(h)}c.boundingBox=o;const f=new gs;o.getCenter(f.center),f.radius=o.min.distanceTo(o.max)/2,c.boundingSphere=f}(c,e,n),Promise.all(o).then(function(){return void 0!==e.targets?function zw(c,e,n){let r=!1,o=!1,l=!1;for(let v=0,w=e.length;v<w;v++){const S=e[v];if(void 0!==S.POSITION&&(r=!0),void 0!==S.NORMAL&&(o=!0),void 0!==S.COLOR_0&&(l=!0),r&&o&&l)break}if(!r&&!o&&!l)return Promise.resolve(c);const f=[],h=[],g=[];for(let v=0,w=e.length;v<w;v++){const S=e[v];if(r){const A=void 0!==S.POSITION?n.getDependency("accessor",S.POSITION):c.attributes.position;f.push(A)}if(o){const A=void 0!==S.NORMAL?n.getDependency("accessor",S.NORMAL):c.attributes.normal;h.push(A)}if(l){const A=void 0!==S.COLOR_0?n.getDependency("accessor",S.COLOR_0):c.attributes.color;g.push(A)}}return Promise.all([Promise.all(f),Promise.all(h),Promise.all(g)]).then(function(v){const S=v[1],A=v[2];return r&&(c.morphAttributes.position=v[0]),o&&(c.morphAttributes.normal=S),l&&(c.morphAttributes.color=A),c.morphTargetsRelative=!0,c})}(c,e.targets,n):c})}const Bd={type:"change"},ya={type:"start"},uu={type:"end"},td=new Ql,Ul=new Ac,Qf=Math.cos(70*dl_DEG2RAD);class jw extends z{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ye,this.cursor=new Ye,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ce){Ce.addEventListener("keydown",_s),this._domElementKeyEvents=Ce},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",_s),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Bd),r.update(),l=o.NONE},this.update=function(){const Ce=new Ye,an=(new ia).setFromUnitVectors(e.up,new Ye(0,1,0)),vn=an.clone().invert(),ci=new Ye,Ii=new ia,Is=new Ye,Ms=2*Math.PI;return function(_a=null){const uo=r.object.position;Ce.copy(uo).sub(r.target),Ce.applyQuaternion(an),h.setFromVector3(Ce),r.autoRotate&&l===o.NONE&&gn(function xe(Ce){return null!==Ce?2*Math.PI/60*r.autoRotateSpeed*Ce:2*Math.PI/60/60*r.autoRotateSpeed}(_a)),r.enableDamping?(h.theta+=g.theta*r.dampingFactor,h.phi+=g.phi*r.dampingFactor):(h.theta+=g.theta,h.phi+=g.phi);let sa=r.minAzimuthAngle,Lo=r.maxAzimuthAngle;isFinite(sa)&&isFinite(Lo)&&(sa<-Math.PI?sa+=Ms:sa>Math.PI&&(sa-=Ms),Lo<-Math.PI?Lo+=Ms:Lo>Math.PI&&(Lo-=Ms),h.theta=sa<=Lo?Math.max(sa,Math.min(Lo,h.theta)):h.theta>(sa+Lo)/2?Math.max(sa,h.theta):Math.min(Lo,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),!0===r.enableDamping?r.target.addScaledVector(w,r.dampingFactor):r.target.add(w),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor);let Bl=!1;if(r.zoomToCursor&&ze||r.object.isOrthographicCamera)h.radius=yi(h.radius);else{const rl=h.radius;h.radius=yi(h.radius*v),Bl=rl!=h.radius}if(Ce.setFromSpherical(h),Ce.applyQuaternion(vn),uo.copy(r.target).add(Ce),r.object.lookAt(r.target),!0===r.enableDamping?(g.theta*=1-r.dampingFactor,g.phi*=1-r.dampingFactor,w.multiplyScalar(1-r.dampingFactor)):(g.set(0,0,0),w.set(0,0,0)),r.zoomToCursor&&ze){let rl=null;if(r.object.isPerspectiveCamera){const Vl=Ce.length();rl=yi(Vl*v);const Rl=Vl-rl;r.object.position.addScaledVector(ue,Rl),r.object.updateMatrixWorld(),Bl=!!Rl}else if(r.object.isOrthographicCamera){const Vl=new Ye(ot.x,ot.y,0);Vl.unproject(r.object);const Rl=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix(),Bl=Rl!==r.object.zoom;const yc=new Ye(ot.x,ot.y,0);yc.unproject(r.object),r.object.position.sub(yc).add(Vl),r.object.updateMatrixWorld(),rl=Ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;null!==rl&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(rl).add(r.object.position):(td.origin.copy(r.object.position),td.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(td.direction))<Qf?e.lookAt(r.target):(Ul.setFromNormalAndCoplanarPoint(r.object.up,r.target),td.intersectPlane(Ul,r.target))))}else if(r.object.isOrthographicCamera){const rl=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),rl!==r.object.zoom&&(r.object.updateProjectionMatrix(),Bl=!0)}return v=1,ze=!1,!!(Bl||ci.distanceToSquared(r.object.position)>f||8*(1-Ii.dot(r.object.quaternion))>f||Is.distanceToSquared(r.target)>f)&&(r.dispatchEvent(Bd),ci.copy(r.object.position),Ii.copy(r.object.quaternion),Is.copy(r.target),!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Hs),r.domElement.removeEventListener("pointerdown",ft),r.domElement.removeEventListener("pointercancel",bn),r.domElement.removeEventListener("wheel",ii),r.domElement.removeEventListener("pointermove",Be),r.domElement.removeEventListener("pointerup",bn),r.domElement.getRootNode().removeEventListener("keydown",Ki,{capture:!0}),null!==r._domElementKeyEvents&&(r._domElementKeyEvents.removeEventListener("keydown",_s),r._domElementKeyEvents=null)};const r=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const f=1e-6,h=new iy,g=new iy;let v=1;const w=new Ye,S=new Vn,A=new Vn,R=new Vn,B=new Vn,K=new Vn,H=new Vn,U=new Vn,ae=new Vn,ie=new Vn,ue=new Ye,ot=new Vn;let ze=!1;const We=[],ht={};let Ne=!1;function Kt(Ce){const an=Math.abs(.01*Ce);return Math.pow(.95,r.zoomSpeed*an)}function gn(Ce){g.theta-=Ce}function Nt(Ce){g.phi-=Ce}const _n=function(){const Ce=new Ye;return function(vn,ci){Ce.setFromMatrixColumn(ci,0),Ce.multiplyScalar(-vn),w.add(Ce)}}(),kn=function(){const Ce=new Ye;return function(vn,ci){!0===r.screenSpacePanning?Ce.setFromMatrixColumn(ci,1):(Ce.setFromMatrixColumn(ci,0),Ce.crossVectors(r.object.up,Ce)),Ce.multiplyScalar(vn),w.add(Ce)}}(),Wn=function(){const Ce=new Ye;return function(vn,ci){const Ii=r.domElement;if(r.object.isPerspectiveCamera){Ce.copy(r.object.position).sub(r.target);let Ms=Ce.length();Ms*=Math.tan(r.object.fov/2*Math.PI/180),_n(2*vn*Ms/Ii.clientHeight,r.object.matrix),kn(2*ci*Ms/Ii.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(_n(vn*(r.object.right-r.object.left)/r.object.zoom/Ii.clientWidth,r.object.matrix),kn(ci*(r.object.top-r.object.bottom)/r.object.zoom/Ii.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function Oi(Ce){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v/=Ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Nn(Ce){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v*=Ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function mi(Ce,an){if(!r.zoomToCursor)return;ze=!0;const vn=r.domElement.getBoundingClientRect(),Ii=an-vn.top,Ms=vn.height;ot.x=(Ce-vn.left)/vn.width*2-1,ot.y=-Ii/Ms*2+1,ue.set(ot.x,ot.y,1).unproject(r.object).sub(r.object.position).normalize()}function yi(Ce){return Math.max(r.minDistance,Math.min(r.maxDistance,Ce))}function sr(Ce){S.set(Ce.clientX,Ce.clientY)}function ws(Ce){B.set(Ce.clientX,Ce.clientY)}function ys(Ce){if(1===We.length)S.set(Ce.pageX,Ce.pageY);else{const an=zo(Ce);S.set(.5*(Ce.pageX+an.x),.5*(Ce.pageY+an.y))}}function tn(Ce){if(1===We.length)B.set(Ce.pageX,Ce.pageY);else{const an=zo(Ce);B.set(.5*(Ce.pageX+an.x),.5*(Ce.pageY+an.y))}}function ks(Ce){const an=zo(Ce),vn=Ce.pageX-an.x,ci=Ce.pageY-an.y,Ii=Math.sqrt(vn*vn+ci*ci);U.set(0,Ii)}function Yn(Ce){if(1==We.length)A.set(Ce.pageX,Ce.pageY);else{const vn=zo(Ce);A.set(.5*(Ce.pageX+vn.x),.5*(Ce.pageY+vn.y))}R.subVectors(A,S).multiplyScalar(r.rotateSpeed);const an=r.domElement;gn(2*Math.PI*R.x/an.clientHeight),Nt(2*Math.PI*R.y/an.clientHeight),S.copy(A)}function Vi(Ce){if(1===We.length)K.set(Ce.pageX,Ce.pageY);else{const an=zo(Ce);K.set(.5*(Ce.pageX+an.x),.5*(Ce.pageY+an.y))}H.subVectors(K,B).multiplyScalar(r.panSpeed),Wn(H.x,H.y),B.copy(K)}function hi(Ce){const an=zo(Ce),vn=Ce.pageX-an.x,ci=Ce.pageY-an.y,Ii=Math.sqrt(vn*vn+ci*ci);ae.set(0,Ii),ie.set(0,Math.pow(ae.y/U.y,r.zoomSpeed)),Oi(ie.y),U.copy(ae),mi(.5*(Ce.pageX+an.x),.5*(Ce.pageY+an.y))}function ft(Ce){!1!==r.enabled&&(0===We.length&&(r.domElement.setPointerCapture(Ce.pointerId),r.domElement.addEventListener("pointermove",Be),r.domElement.addEventListener("pointerup",bn)),!function Us(Ce){for(let an=0;an<We.length;an++)if(We[an]==Ce.pointerId)return!0;return!1}(Ce)&&(function Qr(Ce){We.push(Ce.pointerId)}(Ce),"touch"===Ce.pointerType?Fi(Ce):function Zn(Ce){let an;switch(Ce.button){case 0:an=r.mouseButtons.LEFT;break;case 1:an=r.mouseButtons.MIDDLE;break;case 2:an=r.mouseButtons.RIGHT;break;default:an=-1}switch(an){case 1:if(!1===r.enableZoom)return;(function bs(Ce){mi(Ce.clientX,Ce.clientX),U.set(Ce.clientX,Ce.clientY)})(Ce),l=o.DOLLY;break;case 0:if(Ce.ctrlKey||Ce.metaKey||Ce.shiftKey){if(!1===r.enablePan)return;ws(Ce),l=o.PAN}else{if(!1===r.enableRotate)return;sr(Ce),l=o.ROTATE}break;case 2:if(Ce.ctrlKey||Ce.metaKey||Ce.shiftKey){if(!1===r.enableRotate)return;sr(Ce),l=o.ROTATE}else{if(!1===r.enablePan)return;ws(Ce),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(ya)}(Ce)))}function Be(Ce){!1!==r.enabled&&("touch"===Ce.pointerType?function Pr(Ce){switch(no(Ce),l){case o.TOUCH_ROTATE:if(!1===r.enableRotate)return;Yn(Ce),r.update();break;case o.TOUCH_PAN:if(!1===r.enablePan)return;Vi(Ce),r.update();break;case o.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;(function cr(Ce){r.enableZoom&&hi(Ce),r.enablePan&&Vi(Ce)})(Ce),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function $r(Ce){r.enableZoom&&hi(Ce),r.enableRotate&&Yn(Ce)})(Ce),r.update();break;default:l=o.NONE}}(Ce):function ui(Ce){switch(l){case o.ROTATE:if(!1===r.enableRotate)return;!function Bn(Ce){A.set(Ce.clientX,Ce.clientY),R.subVectors(A,S).multiplyScalar(r.rotateSpeed);const an=r.domElement;gn(2*Math.PI*R.x/an.clientHeight),Nt(2*Math.PI*R.y/an.clientHeight),S.copy(A),r.update()}(Ce);break;case o.DOLLY:if(!1===r.enableZoom)return;!function Mi(Ce){ae.set(Ce.clientX,Ce.clientY),ie.subVectors(ae,U),ie.y>0?Oi(Kt(ie.y)):ie.y<0&&Nn(Kt(ie.y)),U.copy(ae),r.update()}(Ce);break;case o.PAN:if(!1===r.enablePan)return;!function qi(Ce){K.set(Ce.clientX,Ce.clientY),H.subVectors(K,B).multiplyScalar(r.panSpeed),Wn(H.x,H.y),B.copy(K),r.update()}(Ce)}}(Ce))}function bn(Ce){switch(function tr(Ce){delete ht[Ce.pointerId];for(let an=0;an<We.length;an++)if(We[an]==Ce.pointerId)return void We.splice(an,1)}(Ce),We.length){case 0:r.domElement.releasePointerCapture(Ce.pointerId),r.domElement.removeEventListener("pointermove",Be),r.domElement.removeEventListener("pointerup",bn),r.dispatchEvent(uu),l=o.NONE;break;case 1:const an=We[0],vn=ht[an];Fi({pointerId:an,pageX:vn.x,pageY:vn.y})}}function ii(Ce){!1===r.enabled||!1===r.enableZoom||l!==o.NONE||(Ce.preventDefault(),r.dispatchEvent(ya),function Ti(Ce){mi(Ce.clientX,Ce.clientY),Ce.deltaY<0?Nn(Kt(Ce.deltaY)):Ce.deltaY>0&&Oi(Kt(Ce.deltaY)),r.update()}(function Lr(Ce){const vn={clientX:Ce.clientX,clientY:Ce.clientY,deltaY:Ce.deltaY};switch(Ce.deltaMode){case 1:vn.deltaY*=16;break;case 2:vn.deltaY*=100}return Ce.ctrlKey&&!Ne&&(vn.deltaY*=10),vn}(Ce)),r.dispatchEvent(uu))}function Ki(Ce){"Control"===Ce.key&&(Ne=!0,r.domElement.getRootNode().addEventListener("keyup",ji,{passive:!0,capture:!0}))}function ji(Ce){"Control"===Ce.key&&(Ne=!1,r.domElement.getRootNode().removeEventListener("keyup",ji,{passive:!0,capture:!0}))}function _s(Ce){!1===r.enabled||!1===r.enablePan||function is(Ce){let an=!1;switch(Ce.code){case r.keys.UP:Ce.ctrlKey||Ce.metaKey||Ce.shiftKey?Nt(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Wn(0,r.keyPanSpeed),an=!0;break;case r.keys.BOTTOM:Ce.ctrlKey||Ce.metaKey||Ce.shiftKey?Nt(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Wn(0,-r.keyPanSpeed),an=!0;break;case r.keys.LEFT:Ce.ctrlKey||Ce.metaKey||Ce.shiftKey?gn(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Wn(r.keyPanSpeed,0),an=!0;break;case r.keys.RIGHT:Ce.ctrlKey||Ce.metaKey||Ce.shiftKey?gn(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Wn(-r.keyPanSpeed,0),an=!0}an&&(Ce.preventDefault(),r.update())}(Ce)}function Fi(Ce){switch(no(Ce),We.length){case 1:switch(r.touches.ONE){case 0:if(!1===r.enableRotate)return;ys(Ce),l=o.TOUCH_ROTATE;break;case 1:if(!1===r.enablePan)return;tn(Ce),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case 2:if(!1===r.enableZoom&&!1===r.enablePan)return;(function qn(Ce){r.enableZoom&&ks(Ce),r.enablePan&&tn(Ce)})(Ce),l=o.TOUCH_DOLLY_PAN;break;case 3:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function _i(Ce){r.enableZoom&&ks(Ce),r.enableRotate&&ys(Ce)})(Ce),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(ya)}function Hs(Ce){!1!==r.enabled&&Ce.preventDefault()}function no(Ce){let an=ht[Ce.pointerId];void 0===an&&(an=new Vn,ht[Ce.pointerId]=an),an.set(Ce.pageX,Ce.pageY)}function zo(Ce){return ht[Ce.pointerId===We[0]?We[1]:We[0]]}r.domElement.addEventListener("contextmenu",Hs),r.domElement.addEventListener("pointerdown",ft),r.domElement.addEventListener("pointercancel",bn),r.domElement.addEventListener("wheel",ii,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",Ki,{passive:!0,capture:!0}),this.update()}}const Vd=["rendererContainer"];let _y=(()=>{var c;class e{constructor(){}ngAfterViewInit(){const r=this.rendererContainer.nativeElement,o=new kh;this.camera=new Ma(75,r.clientWidth/r.clientHeight,.1,1e3),this.renderer=new bm({antialias:!0}),this.renderer.setSize(r.clientWidth,r.clientHeight),r.appendChild(this.renderer.domElement),o.background=new vi(0);const l=new dp(16777215,.5);o.add(l);const f=new Pd(16777215,1);f.position.set(0,10,10),o.add(f);const h=new Pd(16777215,1);h.position.set(10,10,0),o.add(h);const g=new Pd(16777215,1);g.position.set(-10,10,0),o.add(g);const v=new Pd(16777215,1);v.position.set(0,-10,-10),o.add(v);const w=new Wl(16777215,1,100);w.position.set(5,5,5),o.add(w);const S=new Wl(16777215,1,100);S.position.set(-5,-5,5),o.add(S);const A=new Wl(16777215,1,100);A.position.set(-5,5,-5),o.add(A);const R=new Wl(16777215,1,100);R.position.set(5,-5,-5),o.add(R);const B=new Wl(16777215,1,100);B.position.set(5,5,-5),o.add(B);const K=new Wl(16777215,1,100);K.position.set(-5,-5,-5),o.add(K);const H=new Wl(16777215,1,100);H.position.set(-5,5,5),o.add(H);const U=new Wl(16777215,1,100);U.position.set(5,-5,5),o.add(U);const ae=new $0(16777215,4473924,1);ae.position.set(0,10,0),o.add(ae),this.controls=new jw(this.camera,this.renderer.domElement),(new BE).load("assets/gojo.glb",ot=>{o.add(ot.scene),ot.scene.position.set(0,0,0)},void 0,ot=>{console.error("An error happened while loading the model:",ot)}),this.camera.position.z=5;const ue=()=>{requestAnimationFrame(ue),this.controls.update(),this.renderer.render(o,this.camera)};ue(),r.addEventListener("click",()=>this.enterFullscreen(r))}enterFullscreen(r){r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen();const o=()=>{const l=r.clientWidth,f=r.clientHeight;this.renderer.setSize(l,f),this.camera.aspect=l/f,this.camera.updateProjectionMatrix()};window.addEventListener("resize",o),o()}}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275cmp=k.VBU({type:c,selectors:[["app-model-viewer"]],viewQuery:function(r,o){if(1&r&&k.GBs(Vd,5),2&r){let l;k.mGM(l=k.lsd())&&(o.rendererContainer=l.first)}},decls:2,vars:0,consts:[["rendererContainer",""],[1,"renderer-container"]],template:function(r,o){1&r&&k.nrm(0,"div",1,0)},styles:[".renderer-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;cursor:pointer}"]}),e})();const by=["swiper"],Ww=[{path:"",component:(()=>{var c;class e{constructor(r){this.router=r}segmentChanged(r){this.router.navigate([r.detail.value])}swiperReady(){var r;this.swiper=null===(r=this.swiperRef)||void 0===r?void 0:r.nativeElement.swiper}ngOnInit(){}}return(c=e).\u0275fac=function(r){return new(r||c)(k.rXU(Et.Ix))},c.\u0275cmp=k.VBU({type:c,selectors:[["app-tres"]],viewQuery:function(r,o){if(1&r&&k.GBs(by,5),2&r){let l;k.mGM(l=k.lsd())&&(o.swiperRef=l.first)}},decls:182,vars:4,consts:[["swiper",""],[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[2,"width","100%","height","300px","background-color","#151E26"],[2,"margin-left","35px","margin-right","35px","height","300px"],["size","3 ",2,"height","100%"],[1,"encabezado"],["src","assets/generador.png"],["size","6",2,"height","100%"],[2,"color","#f2f2f2"],[2,"color","rgb(7, 253, 19)"],[2,"width","100%","height","auto","background-color","#151E26"],["size","12",2,"padding-left","30px","padding-right","20px"],[2,"color","rgb(252, 249, 246)","font-family","'Times New Roman', Times, serif","font-size","21px"],[2,"width","100%","height","auto","padding-left","30px","font-family","'Times New Roman', Times, serif","background-color","#151E26"],[2,"color","rgb(7, 253, 19)","font-size","30px","padding-top","20px","padding-bottom","14px","background-color","151E26"],[2,"color","rgb(252, 249, 246)",";margin-left","30px","font-family","'Times New Roman', Times, serif","font-size","21px","margin-top","20px","margin-bottom","14px","background-color","151E26"],[2,"margin-left","30px","font-family","'Times New Roman', Times, serif","font-size","21px","color","rgb(252, 249, 246)"],[2,"color","rgb(7, 253, 19)","margin-left","30px","margin-top","25px","font-size","28px"],[1,"contenedor"],[1,"diagrama"],["src","assets/diagrama.jpg"],[2,"width","100%","height","auto","padding-left","35px","background-color","orange"],[2,"font-family","Georgia, 'Times New Roman', Times, serif","font-size","26px","color","rgb(7, 253, 19)","background-color","orange"],[2,"width","100%","height","auto","background-color","orange","position","relative","padding","20px 20px 20px 20px"],[2,"width","100%","height","auto",3,"swiper","loop","pagination"],[1,"af",2,"height","100%","display","flex","align-items","center","justify-content","center","text-align","center"],[2,"height","100%"],["size-lg","6","size","12"],[2,"border","none","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","border-radius","20px","background-color","#f2f2f2"],[2,"margin","20px","text-align","center"],["src","assets/batery.png",2,"width","80%","height","auto","border-radius","50%"],[2,"border","none","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","background-color","#f2f2f2"],[2,"font-size","1.3rem","text-align","justify","color","black"],[2,"color","rgb(15, 248, 105)","font-size","21px"],[2,"margin","20px"],["src","assets/breake.png",2,"width","80%","height","auto"],["src","assets/cable.png",2,"width","80%","height","auto"],["src","assets/cobre.png",2,"width","80%","height","auto"],["src","assets/Fusibles.png",2,"width","80%","height","auto"],["src","assets/cerbo.png",2,"width","80%","height","auto"],["src","assets/panelsolar.jpeg",2,"width","80%","height","auto"],["src","assets/azul.png",2,"width","80%","height","auto"],["src","assets/monica.png",2,"width","80%","height","auto"],[1,"model-viewer-wrapper"]],template:function(r,o){if(1&r){const l=k.RV6();k.j41(0,"ion-header",1)(1,"ion-segment",2),k.bIt("ionChange",function(h){return k.eBV(l),k.Njj(o.segmentChanged(h))}),k.j41(2,"ion-segment-button",3),k.nrm(3,"ion-icon",4),k.EFF(4,"Inicio "),k.k0s(),k.j41(5,"ion-segment-button",5),k.EFF(6,"Paneles Solares "),k.nrm(7,"ion-icon",6),k.k0s(),k.j41(8,"ion-segment-button",7),k.EFF(9,"Generador Solar "),k.nrm(10,"ion-icon",8),k.k0s()()(),k.j41(11,"ion-content")(12,"div",9)(13,"ion-grid")(14,"ion-row",10)(15,"ion-col",11)(16,"div",12),k.nrm(17,"ion-img",13),k.k0s()(),k.j41(18,"ion-col",14)(19,"h1",15),k.EFF(20,"Rural Energy mejor generador solar port\xe1til de 500w para acampar"),k.k0s(),k.j41(21,"h4",16),k.EFF(22,"Generador solar | Bater\xedas de Plomo Acido GEl de 12V "),k.k0s(),k.j41(23,"h4",16),k.EFF(24,"Regulador de carga | MPPT"),k.k0s(),k.j41(25,"h4",16),k.EFF(26," Inversor | Phoenix 12/500"),k.k0s()()()()(),k.j41(27,"div",17)(28,"ion-grid")(29,"ion-row")(30,"ion-col",18)(31,"p",19),k.EFF(32,"El generador solar port\xe1til Rural Energy de 500w es ideal para acampar y para lugares sin acceso a luz electrica."),k.k0s(),k.j41(33,"p",19),k.EFF(34," Es una estaci\xf3n de energ\xeda el\xe9ctrica multifunci\xf3nal, utiliza energ\xeda del sol para producir enegia electrica. Este generador solar integra una bateria de litio, un controlador de carga solar MPPT y un inversor en un sistema compacto para convertir la energ\xeda solar en corriente el\xe9ctrica. "),k.k0s(),k.j41(35,"p",19),k.EFF(36,"Cada componente est\xe1 dise\xf1ado para coincidir con la clasificaci\xf3n de electricidad del dispositivo que recibe energ\xeda."),k.k0s(),k.j41(37,"p",19),k.EFF(38,"La fuente de alimentaci\xf3n de litio con generador solar port\xe1til de 24v y 3000w de energ\xeda gratuita no solo proporciona salida de CC para aplicaciones de energ\xeda de CC como luz LED y ventilador de CC, sino que tambi\xe9n proporciona puertos USB para cargar r\xe1pidamente dispositivos electr\xf3nicos de consumo como tel\xe9fonos m\xf3viles. "),k.k0s()()()()(),k.nrm(39,"hr")(40,"hr")(41,"hr")(42,"hr")(43,"hr"),k.j41(44,"div",20)(45,"h2",21),k.EFF(46,"\xbfComo funciona?"),k.k0s(),k.j41(47,"p",22),k.EFF(48," El generador solar port\xe1til Rural Enegy tiene una sola forma de carga. Que es a trav\xe9s de los paneles solares incluidos El sistema de generador solar consta de 2 baterias de plomo de Acido (GEL) de 12V de que almacena la corriente CC que recibe de los paneles solares,incluye un controlador MPPT de \xfaltima generaci\xf3n cuya funcion es rastrear continuamente el punto de m\xe1xima potencia del panel solar y ajustar la operaci\xf3n del sistema para maximizar la producci\xf3n de energ\xeda , tambien cuenta con un Inversor para convetir la corriente CC a corriente CA.."),k.k0s(),k.j41(49,"p",23),k.EFF(50," Adem\xe1s, el generador no requiere gas para funcionar y no emite vapores t\xf3xicos como lo hacen los generadores de gas est\xe1ndar, sin mencionar que no produce ning\xfan sonido.En su cubierta metalica cuencta con toma corriente CA y puento USB para cargas tus dispositivos."),k.k0s(),k.j41(51,"h1",24),k.EFF(52,"Esquema"),k.k0s()(),k.nrm(53,"hr"),k.j41(54,"div",25)(55,"div",26),k.nrm(56,"ion-img",27),k.k0s()(),k.j41(57,"div",28)(58,"p",29),k.EFF(59,"Materiales"),k.k0s()(),k.j41(60,"div",30)(61,"swiper-container",31,0),k.bIt("swiper",function(){return k.eBV(l),k.Njj(o.swiperReady())}),k.j41(63,"swiper-slide")(64,"ion-grid",32)(65,"ion-row",33)(66,"ion-col",34)(67,"ion-card",35)(68,"ion-card-content",36),k.nrm(69,"ion-img",37),k.k0s()()(),k.j41(70,"ion-col",34)(71,"ion-card",38)(72,"ion-card-content",39)(73,"p",40),k.EFF(74,"1. Bater\xeda Aokly 12V 200AH:"),k.k0s(),k.EFF(75," La energ\xeda que los paneles solares fotovoltaicos logran generar se puede almacenar de manera qu\xedmica en bater\xedas. Estas bater\xedas de ciclo profundo nos permiten almacenar la energ\xeda generada, para poder utilizarla en cualquier momento. "),k.k0s()()()()()(),k.j41(76,"swiper-slide")(77,"ion-grid",32)(78,"ion-row",33)(79,"ion-col",34)(80,"ion-card",38)(81,"ion-card-content",39)(82,"p",40),k.EFF(83,"2. Breakers"),k.k0s(),k.EFF(84," Reducen el impacto que pueden traer algunos problemas con el servicio de electricidad, reduciendo as\xed la posibilidad de que los aparatos el\xe9ctricos anexados a la red sufran da\xf1os. "),k.k0s()()(),k.j41(85,"ion-col",34)(86,"ion-card",38)(87,"ion-card-content",41),k.nrm(88,"ion-img",42),k.k0s()()()()()(),k.j41(89,"swiper-slide")(90,"ion-grid",32)(91,"ion-row",33)(92,"ion-col",34)(93,"ion-card",38)(94,"ion-card-content",41),k.nrm(95,"ion-img",43),k.k0s()()(),k.j41(96,"ion-col",34)(97,"ion-card",38)(98,"ion-card-content",39)(99,"p",40),k.EFF(100,"3. Cable calibre 12 AWG:"),k.k0s(),k.EFF(101," Se utilizan principalmente en circuitos de iluminaci\xf3n, enchufes y electrodom\xe9sticos. "),k.k0s()()()()()(),k.j41(102,"swiper-slide")(103,"ion-grid",32)(104,"ion-row",33)(105,"ion-col",34)(106,"ion-card",38)(107,"ion-card-content",39)(108,"p",40),k.EFF(109,"4. Cable calibre 14 AWG:"),k.k0s(),k.EFF(110," Se utiliza en aplicaciones de baja potencia, como luces de bajo consumo y ventiladores, con capacidad de corriente de alrededor de 15 amperios. "),k.k0s()()(),k.j41(111,"ion-col",34)(112,"ion-card",38)(113,"ion-card-content",41),k.nrm(114,"ion-img",44),k.k0s()()()()()(),k.j41(115,"swiper-slide")(116,"ion-grid",32)(117,"ion-row",33)(118,"ion-col",34)(119,"ion-card",38)(120,"ion-card-content",41),k.nrm(121,"ion-img",45),k.k0s()()(),k.j41(122,"ion-col",34)(123,"ion-card",38)(124,"ion-card-content",39)(125,"p",40),k.EFF(126,"5. Fusibles"),k.k0s(),k.EFF(127," Este elemento est\xe1 ubicado en un punto estrat\xe9gico de la instalaci\xf3n el\xe9ctrica para que se funda si la intensidad de la corriente supera un cierto valor. As\xed, el fusible interrumpe la corriente y salvaguarda la integridad de los conductores minimizando el riesgo de incendio y/o aver\xeda. "),k.k0s()()()()()(),k.j41(128,"swiper-slide")(129,"ion-grid",32)(130,"ion-row",33)(131,"ion-col",34)(132,"ion-card",38)(133,"ion-card-content",41),k.nrm(134,"ion-img",46),k.k0s()()(),k.j41(135,"ion-col",34)(136,"ion-card",38)(137,"ion-card-content",39)(138,"p",40),k.EFF(139,"6. Cerbo GX:"),k.k0s(),k.EFF(140," Se puede controlar el estado de carga de la bater\xeda, el consumo, la captaci\xf3n de energ\xeda de los paneles fotovoltaicos, el generador y la red. "),k.k0s()()()()()(),k.j41(141,"swiper-slide")(142,"ion-grid",32)(143,"ion-row",33)(144,"ion-col",34)(145,"ion-card",38)(146,"ion-card-content",39)(147,"p",40),k.EFF(148,"7. Paneles solares"),k.k0s(),k.EFF(149," Capturan la luz del sol, provocando que los electrones que hay en las c\xe9lulas de silicio liberen energ\xeda que se convierte en electricidad en forma de corriente continua. "),k.k0s()()(),k.j41(150,"ion-col",34)(151,"ion-card",38)(152,"ion-card-content",41),k.nrm(153,"ion-img",47),k.k0s()()()()()(),k.j41(154,"swiper-slide")(155,"ion-grid",32)(156,"ion-row",33)(157,"ion-col",34)(158,"ion-card",38)(159,"ion-card-content",39)(160,"p",40),k.EFF(161,"8. Pure sinewave inverter Phoenix 12/500"),k.k0s(),k.EFF(162," El inversor de corriente es un equipo que toma la energ\xeda de la bater\xeda que est\xe1 en corriente continua y la transforma en corriente alterna. "),k.k0s()()(),k.j41(163,"ion-col",34)(164,"ion-card",38)(165,"ion-card-content",41),k.nrm(166,"ion-img",48),k.k0s()()()()()(),k.j41(167,"swiper-slide")(168,"ion-grid",32)(169,"ion-row",33)(170,"ion-col",34)(171,"ion-card",38)(172,"ion-card-content",39)(173,"p",40),k.EFF(174,"9. SmartSolar charge controller MPPT 100 20"),k.k0s(),k.EFF(175," La tecnolog\xeda MPPT garantiza la recogida y almacenamiento de cada part\xedcula de energ\xeda disponible en sus paneles. La ventaja de este proceso es cuando el cielo est\xe1 parcialmente nuboso y la intensidad de la luz cambia constantemente. "),k.k0s()()(),k.j41(176,"ion-col",34)(177,"ion-card",38)(178,"ion-card-content",41),k.nrm(179,"ion-img",49),k.k0s()()()()()()()(),k.j41(180,"div",50),k.nrm(181,"app-model-viewer"),k.k0s()()}2&r&&(k.Y8G("translucent",!0),k.R7$(),k.Y8G("scrollable",!0),k.R7$(60),k.Y8G("loop",!0)("pagination",!0))},dependencies:[ke.b_,ke.I9,ke.hU,ke.W9,ke.lO,ke.eU,ke.iq,ke.KW,ke.ln,ke.Gp,ke.eP,ke.Je,_y],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0}.encabezado[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;border:.1spx solid black-}.encabezado[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.contenedor[_ngcontent-%COMP%]{width:100%;height:700px;display:flex;justify-content:center;align-items:center;text-align:center;background-position:center;background-color:#151e26}.diagrama[_ngcontent-%COMP%]{width:610px;height:610px;display:flex;justify-content:center;align-items:center;text-align:center;margin:0 auto}ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.model-viewer-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin-top:30px}app-model-viewer[_ngcontent-%COMP%]{width:100%;height:100%;display:block}']}),e})()}];let Ra=(()=>{var c;class e{}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275mod=k.$C({type:c}),c.\u0275inj=k.G2t({imports:[Et.iI.forChild(Ww),Et.iI]}),e})(),wy=(()=>{var c;class e{}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275mod=k.$C({type:c}),c.\u0275inj=k.G2t({imports:[b.MD,m.YN,ke.bv,Ra]}),e})()},5394:(Zi,xn,pe)=>{"use strict";var b=pe(345),m=pe(4438),ke=pe(70),Et=pe(3656),k=pe(7863);function Xt(D){return null!==D&&"object"==typeof D&&"constructor"in D&&D.constructor===Object}function je(D,d){void 0===D&&(D={}),void 0===d&&(d={}),Object.keys(d).forEach(N=>{typeof D[N]>"u"?D[N]=d[N]:Xt(d[N])&&Xt(D[N])&&Object.keys(d[N]).length>0&&je(D[N],d[N])})}const $t={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Zt(){const D=typeof document<"u"?document:{};return je(D,$t),D}const Yt={document:$t,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:D=>typeof setTimeout>"u"?(D(),null):setTimeout(D,0),cancelAnimationFrame(D){typeof setTimeout>"u"||clearTimeout(D)}};function rt(){const D=typeof window<"u"?window:{};return je(D,Yt),D}function At(D){return void 0===D&&(D=""),D.trim().split(" ").filter(d=>!!d.trim())}function pt(D,d){return void 0===d&&(d=0),setTimeout(D,d)}function It(){return Date.now()}function Ut(D,d){void 0===d&&(d="x");const N=rt();let F,ee,Z;const Se=function rn(D){const d=rt();let N;return d.getComputedStyle&&(N=d.getComputedStyle(D,null)),!N&&D.currentStyle&&(N=D.currentStyle),N||(N=D.style),N}(D);return N.WebKitCSSMatrix?(ee=Se.transform||Se.webkitTransform,ee.split(",").length>6&&(ee=ee.split(", ").map(Te=>Te.replace(",",".")).join(", ")),Z=new N.WebKitCSSMatrix("none"===ee?"":ee)):(Z=Se.MozTransform||Se.OTransform||Se.MsTransform||Se.msTransform||Se.transform||Se.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),F=Z.toString().split(",")),"x"===d&&(ee=N.WebKitCSSMatrix?Z.m41:16===F.length?parseFloat(F[12]):parseFloat(F[4])),"y"===d&&(ee=N.WebKitCSSMatrix?Z.m42:16===F.length?parseFloat(F[13]):parseFloat(F[5])),ee||0}function Gt(D){return"object"==typeof D&&null!==D&&D.constructor&&"Object"===Object.prototype.toString.call(D).slice(8,-1)}function fn(D){return typeof window<"u"&&typeof window.HTMLElement<"u"?D instanceof HTMLElement:D&&(1===D.nodeType||11===D.nodeType)}function Tt(){const D=Object(arguments.length<=0?void 0:arguments[0]),d=["__proto__","constructor","prototype"];for(let N=1;N<arguments.length;N+=1){const F=N<0||arguments.length<=N?void 0:arguments[N];if(null!=F&&!fn(F)){const ee=Object.keys(Object(F)).filter(Z=>d.indexOf(Z)<0);for(let Z=0,Se=ee.length;Z<Se;Z+=1){const Te=ee[Z],le=Object.getOwnPropertyDescriptor(F,Te);void 0!==le&&le.enumerable&&(Gt(D[Te])&&Gt(F[Te])?F[Te].__swiper__?D[Te]=F[Te]:Tt(D[Te],F[Te]):!Gt(D[Te])&&Gt(F[Te])?(D[Te]={},F[Te].__swiper__?D[Te]=F[Te]:Tt(D[Te],F[Te])):D[Te]=F[Te])}}}return D}function jt(D,d,N){D.style.setProperty(d,N)}function st(D){let{swiper:d,targetPosition:N,side:F}=D;const ee=rt(),Z=-d.translate;let Te,Se=null;const le=d.params.speed;d.wrapperEl.style.scrollSnapType="none",ee.cancelAnimationFrame(d.cssModeFrameID);const Fe=N>Z?"next":"prev",fe=(Me,Xe)=>"next"===Fe&&Me>=Xe||"prev"===Fe&&Me<=Xe,he=()=>{Te=(new Date).getTime(),null===Se&&(Se=Te);const Me=Math.max(Math.min((Te-Se)/le,1),0),Xe=.5-Math.cos(Me*Math.PI)/2;let et=Z+Xe*(N-Z);if(fe(et,N)&&(et=N),d.wrapperEl.scrollTo({[F]:et}),fe(et,N))return d.wrapperEl.style.overflow="hidden",d.wrapperEl.style.scrollSnapType="",setTimeout(()=>{d.wrapperEl.style.overflow="",d.wrapperEl.scrollTo({[F]:et})}),void ee.cancelAnimationFrame(d.cssModeFrameID);d.cssModeFrameID=ee.requestAnimationFrame(he)};he()}function Bt(D){return D.querySelector(".swiper-slide-transform")||D.shadowRoot&&D.shadowRoot.querySelector(".swiper-slide-transform")||D}function Vt(D,d){return void 0===d&&(d=""),[...D.children].filter(N=>N.matches(d))}function Qt(D){try{return void console.warn(D)}catch{}}function en(D,d){void 0===d&&(d=[]);const N=document.createElement(D);return N.classList.add(...Array.isArray(d)?d:At(d)),N}function gt(D){const d=rt(),N=Zt(),F=D.getBoundingClientRect(),ee=N.body;return{top:F.top+(D===d?d.scrollY:D.scrollTop)-(D.clientTop||ee.clientTop||0),left:F.left+(D===d?d.scrollX:D.scrollLeft)-(D.clientLeft||ee.clientLeft||0)}}function pi(D,d){return rt().getComputedStyle(D,null).getPropertyValue(d)}function Ci(D){let N,d=D;if(d){for(N=0;null!==(d=d.previousSibling);)1===d.nodeType&&(N+=1);return N}}function An(D,d){const N=[];let F=D.parentElement;for(;F;)d?F.matches(d)&&N.push(F):N.push(F),F=F.parentElement;return N}function Ei(D,d){d&&D.addEventListener("transitionend",function N(F){F.target===D&&(d.call(D,F),D.removeEventListener("transitionend",N))})}function hn(D,d,N){const F=rt();return N?D["width"===d?"offsetWidth":"offsetHeight"]+parseFloat(F.getComputedStyle(D,null).getPropertyValue("width"===d?"margin-right":"margin-top"))+parseFloat(F.getComputedStyle(D,null).getPropertyValue("width"===d?"margin-left":"margin-bottom")):D.offsetWidth}function Ke(D){return(Array.isArray(D)?D:[D]).filter(d=>!!d)}let ve,at,yt;function Ie(){return ve||(ve=function me(){const D=rt(),d=Zt();return{smoothScroll:d.documentElement&&d.documentElement.style&&"scrollBehavior"in d.documentElement.style,touch:!!("ontouchstart"in D||D.DocumentTouch&&d instanceof D.DocumentTouch)}}()),ve}function Wt(D){return void 0===D&&(D={}),at||(at=function Pt(D){let{userAgent:d}=void 0===D?{}:D;const N=Ie(),F=rt(),ee=F.navigator.platform,Z=d||F.navigator.userAgent,Se={ios:!1,android:!1},Te=F.screen.width,le=F.screen.height,Fe=Z.match(/(Android);?[\s\/]+([\d.]+)?/);let fe=Z.match(/(iPad).*OS\s([\d_]+)/);const he=Z.match(/(iPod)(.*OS\s([\d_]+))?/),Me=!fe&&Z.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Xe="Win32"===ee;let et="MacIntel"===ee;return!fe&&et&&N.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${Te}x${le}`)>=0&&(fe=Z.match(/(Version)\/([\d.]+)/),fe||(fe=[0,1,"13_0_0"]),et=!1),Fe&&!Xe&&(Se.os="android",Se.android=!0),(fe||Me||he)&&(Se.os="ios",Se.ios=!0),Se}(D)),at}const Fr=(D,d,N)=>{d&&!D.classList.contains(N)?D.classList.add(N):!d&&D.classList.contains(N)&&D.classList.remove(N)},nn=(D,d,N)=>{d&&!D.classList.contains(N)?D.classList.add(N):!d&&D.classList.contains(N)&&D.classList.remove(N)},gi=(D,d)=>{if(!D||D.destroyed||!D.params)return;const F=d.closest(D.isElement?"swiper-slide":`.${D.params.slideClass}`);if(F){let ee=F.querySelector(`.${D.params.lazyPreloaderClass}`);!ee&&D.isElement&&(F.shadowRoot?ee=F.shadowRoot.querySelector(`.${D.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{F.shadowRoot&&(ee=F.shadowRoot.querySelector(`.${D.params.lazyPreloaderClass}`),ee&&ee.remove())})),ee&&ee.remove()}},hr=(D,d)=>{if(!D.slides[d])return;const N=D.slides[d].querySelector('[loading="lazy"]');N&&N.removeAttribute("loading")},zr=D=>{if(!D||D.destroyed||!D.params)return;let d=D.params.lazyPreloadPrevNext;const N=D.slides.length;if(!N||!d||d<0)return;d=Math.min(d,N);const F="auto"===D.params.slidesPerView?D.slidesPerViewDynamic():Math.ceil(D.params.slidesPerView),ee=D.activeIndex;if(D.params.grid&&D.params.grid.rows>1){const Se=ee,Te=[Se-d];return Te.push(...Array.from({length:d}).map((le,Fe)=>Se+F+Fe)),void D.slides.forEach((le,Fe)=>{Te.includes(le.column)&&hr(D,Fe)})}const Z=ee+F-1;if(D.params.rewind||D.params.loop)for(let Se=ee-d;Se<=Z+d;Se+=1){const Te=(Se%N+N)%N;(Te<ee||Te>Z)&&hr(D,Te)}else for(let Se=Math.max(ee-d,0);Se<=Math.min(Z+d,N-1);Se+=1)Se!==ee&&(Se>Z||Se<ee)&&hr(D,Se)};function Ir(D){let{swiper:d,runCallbacks:N,direction:F,step:ee}=D;const{activeIndex:Z,previousIndex:Se}=d;let Te=F;if(Te||(Te=Z>Se?"next":Z<Se?"prev":"reset"),d.emit(`transition${ee}`),N&&Z!==Se){if("reset"===Te)return void d.emit(`slideResetTransition${ee}`);d.emit(`slideChangeTransition${ee}`),d.emit("next"===Te?`slideNextTransition${ee}`:`slidePrevTransition${ee}`)}}function ro(D,d,N){const F=rt(),{params:ee}=D,Z=ee.edgeSwipeDetection,Se=ee.edgeSwipeThreshold;return!Z||!(N<=Se||N>=F.innerWidth-Se)||"prevent"===Z&&(d.preventDefault(),!0)}function aa(D){const d=this,N=Zt();let F=D;F.originalEvent&&(F=F.originalEvent);const ee=d.touchEventsData;if("pointerdown"===F.type){if(null!==ee.pointerId&&ee.pointerId!==F.pointerId)return;ee.pointerId=F.pointerId}else"touchstart"===F.type&&1===F.targetTouches.length&&(ee.touchId=F.targetTouches[0].identifier);if("touchstart"===F.type)return void ro(d,F,F.targetTouches[0].pageX);const{params:Z,touches:Se,enabled:Te}=d;if(!Te||!Z.simulateTouch&&"mouse"===F.pointerType||d.animating&&Z.preventInteractionOnTransition)return;!d.animating&&Z.cssMode&&Z.loop&&d.loopFix();let le=F.target;if("wrapper"===Z.touchEventsTarget&&!d.wrapperEl.contains(le)||"which"in F&&3===F.which||"button"in F&&F.button>0||ee.isTouched&&ee.isMoved)return;const Fe=!!Z.noSwipingClass&&""!==Z.noSwipingClass,fe=F.composedPath?F.composedPath():F.path;Fe&&F.target&&F.target.shadowRoot&&fe&&(le=fe[0]);const he=Z.noSwipingSelector?Z.noSwipingSelector:`.${Z.noSwipingClass}`;if(Z.noSwiping&&(F.target&&F.target.shadowRoot?function Vs(D,d){return void 0===d&&(d=this),function N(F){if(!F||F===Zt()||F===rt())return null;F.assignedSlot&&(F=F.assignedSlot);const ee=F.closest(D);return ee||F.getRootNode?ee||N(F.getRootNode().host):null}(d)}(he,le):le.closest(he)))return void(d.allowClick=!0);if(Z.swipeHandler&&!le.closest(Z.swipeHandler))return;Se.currentX=F.pageX,Se.currentY=F.pageY;const Xe=Se.currentX,et=Se.currentY;if(!ro(d,F,Xe))return;Object.assign(ee,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),Se.startX=Xe,Se.startY=et,ee.touchStartTime=It(),d.allowClick=!0,d.updateSize(),d.swipeDirection=void 0,Z.threshold>0&&(ee.allowThresholdMove=!1);let lt=!0;le.matches(ee.focusableElements)&&(lt=!1,"SELECT"===le.nodeName&&(ee.isTouched=!1)),N.activeElement&&N.activeElement.matches(ee.focusableElements)&&N.activeElement!==le&&N.activeElement.blur(),(Z.touchStartForcePreventDefault||lt&&d.allowTouchMove&&Z.touchStartPreventDefault)&&!le.isContentEditable&&F.preventDefault(),Z.freeMode&&Z.freeMode.enabled&&d.freeMode&&d.animating&&!Z.cssMode&&d.freeMode.onTouchStart(),d.emit("touchStart",F)}function so(D){const d=Zt(),N=this,F=N.touchEventsData,{params:ee,touches:Z,rtlTranslate:Se,enabled:Te}=N;if(!Te||!ee.simulateTouch&&"mouse"===D.pointerType)return;let Fe,le=D;if(le.originalEvent&&(le=le.originalEvent),"pointermove"===le.type&&(null!==F.touchId||le.pointerId!==F.pointerId))return;if("touchmove"===le.type){if(Fe=[...le.changedTouches].filter(X=>X.identifier===F.touchId)[0],!Fe||Fe.identifier!==F.touchId)return}else Fe=le;if(!F.isTouched)return void(F.startMoving&&F.isScrolling&&N.emit("touchMoveOpposite",le));const fe=Fe.pageX,he=Fe.pageY;if(le.preventedByNestedSwiper)return Z.startX=fe,void(Z.startY=he);if(!N.allowTouchMove)return le.target.matches(F.focusableElements)||(N.allowClick=!1),void(F.isTouched&&(Object.assign(Z,{startX:fe,startY:he,currentX:fe,currentY:he}),F.touchStartTime=It()));if(ee.touchReleaseOnEdges&&!ee.loop)if(N.isVertical()){if(he<Z.startY&&N.translate<=N.maxTranslate()||he>Z.startY&&N.translate>=N.minTranslate())return F.isTouched=!1,void(F.isMoved=!1)}else if(fe<Z.startX&&N.translate<=N.maxTranslate()||fe>Z.startX&&N.translate>=N.minTranslate())return;if(d.activeElement&&le.target===d.activeElement&&le.target.matches(F.focusableElements))return F.isMoved=!0,void(N.allowClick=!1);F.allowTouchCallbacks&&N.emit("touchMove",le),Z.previousX=Z.currentX,Z.previousY=Z.currentY,Z.currentX=fe,Z.currentY=he;const Me=Z.currentX-Z.startX,Xe=Z.currentY-Z.startY;if(N.params.threshold&&Math.sqrt(Me**2+Xe**2)<N.params.threshold)return;if(typeof F.isScrolling>"u"){let X;N.isHorizontal()&&Z.currentY===Z.startY||N.isVertical()&&Z.currentX===Z.startX?F.isScrolling=!1:Me*Me+Xe*Xe>=25&&(X=180*Math.atan2(Math.abs(Xe),Math.abs(Me))/Math.PI,F.isScrolling=N.isHorizontal()?X>ee.touchAngle:90-X>ee.touchAngle)}if(F.isScrolling&&N.emit("touchMoveOpposite",le),typeof F.startMoving>"u"&&(Z.currentX!==Z.startX||Z.currentY!==Z.startY)&&(F.startMoving=!0),F.isScrolling||"touchmove"===le.type&&F.preventTouchMoveFromPointerMove)return void(F.isTouched=!1);if(!F.startMoving)return;N.allowClick=!1,!ee.cssMode&&le.cancelable&&le.preventDefault(),ee.touchMoveStopPropagation&&!ee.nested&&le.stopPropagation();let et=N.isHorizontal()?Me:Xe,lt=N.isHorizontal()?Z.currentX-Z.previousX:Z.currentY-Z.previousY;ee.oneWayMovement&&(et=Math.abs(et)*(Se?1:-1),lt=Math.abs(lt)*(Se?1:-1)),Z.diff=et,et*=ee.touchRatio,Se&&(et=-et,lt=-lt);const ct=N.touchesDirection;N.swipeDirection=et>0?"prev":"next",N.touchesDirection=lt>0?"prev":"next";const Ue=N.params.loop&&!ee.cssMode,dt="next"===N.touchesDirection&&N.allowSlideNext||"prev"===N.touchesDirection&&N.allowSlidePrev;if(!F.isMoved){if(Ue&&dt&&N.loopFix({direction:N.swipeDirection}),F.startTranslate=N.getTranslate(),N.setTransition(0),N.animating){const X=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});N.wrapperEl.dispatchEvent(X)}F.allowMomentumBounce=!1,ee.grabCursor&&(!0===N.allowSlideNext||!0===N.allowSlidePrev)&&N.setGrabCursor(!0),N.emit("sliderFirstMove",le)}if((new Date).getTime(),F.isMoved&&F.allowThresholdMove&&ct!==N.touchesDirection&&Ue&&dt&&Math.abs(et)>=1)return Object.assign(Z,{startX:fe,startY:he,currentX:fe,currentY:he,startTranslate:F.currentTranslate}),F.loopSwapReset=!0,void(F.startTranslate=F.currentTranslate);N.emit("sliderMove",le),F.isMoved=!0,F.currentTranslate=et+F.startTranslate;let Ht=!0,Rn=ee.resistanceRatio;if(ee.touchReleaseOnEdges&&(Rn=0),et>0?(Ue&&dt&&F.allowThresholdMove&&F.currentTranslate>(ee.centeredSlides?N.minTranslate()-N.slidesSizesGrid[N.activeIndex+1]:N.minTranslate())&&N.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),F.currentTranslate>N.minTranslate()&&(Ht=!1,ee.resistance&&(F.currentTranslate=N.minTranslate()-1+(-N.minTranslate()+F.startTranslate+et)**Rn))):et<0&&(Ue&&dt&&F.allowThresholdMove&&F.currentTranslate<(ee.centeredSlides?N.maxTranslate()+N.slidesSizesGrid[N.slidesSizesGrid.length-1]:N.maxTranslate())&&N.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:N.slides.length-("auto"===ee.slidesPerView?N.slidesPerViewDynamic():Math.ceil(parseFloat(ee.slidesPerView,10)))}),F.currentTranslate<N.maxTranslate()&&(Ht=!1,ee.resistance&&(F.currentTranslate=N.maxTranslate()+1-(N.maxTranslate()-F.startTranslate-et)**Rn))),Ht&&(le.preventedByNestedSwiper=!0),!N.allowSlideNext&&"next"===N.swipeDirection&&F.currentTranslate<F.startTranslate&&(F.currentTranslate=F.startTranslate),!N.allowSlidePrev&&"prev"===N.swipeDirection&&F.currentTranslate>F.startTranslate&&(F.currentTranslate=F.startTranslate),!N.allowSlidePrev&&!N.allowSlideNext&&(F.currentTranslate=F.startTranslate),ee.threshold>0){if(!(Math.abs(et)>ee.threshold||F.allowThresholdMove))return void(F.currentTranslate=F.startTranslate);if(!F.allowThresholdMove)return F.allowThresholdMove=!0,Z.startX=Z.currentX,Z.startY=Z.currentY,F.currentTranslate=F.startTranslate,void(Z.diff=N.isHorizontal()?Z.currentX-Z.startX:Z.currentY-Z.startY)}!ee.followFinger||ee.cssMode||((ee.freeMode&&ee.freeMode.enabled&&N.freeMode||ee.watchSlidesProgress)&&(N.updateActiveIndex(),N.updateSlidesClasses()),ee.freeMode&&ee.freeMode.enabled&&N.freeMode&&N.freeMode.onTouchMove(),N.updateProgress(F.currentTranslate),N.setTranslate(F.currentTranslate))}function Cs(D){const d=this,N=d.touchEventsData;let ee,F=D;if(F.originalEvent&&(F=F.originalEvent),"touchend"===F.type||"touchcancel"===F.type){if(ee=[...F.changedTouches].filter(Rn=>Rn.identifier===N.touchId)[0],!ee||ee.identifier!==N.touchId)return}else{if(null!==N.touchId||F.pointerId!==N.pointerId)return;ee=F}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(F.type)&&(!["pointercancel","contextmenu"].includes(F.type)||!d.browser.isSafari&&!d.browser.isWebView))return;N.pointerId=null,N.touchId=null;const{params:Se,touches:Te,rtlTranslate:le,slidesGrid:Fe,enabled:fe}=d;if(!fe||!Se.simulateTouch&&"mouse"===F.pointerType)return;if(N.allowTouchCallbacks&&d.emit("touchEnd",F),N.allowTouchCallbacks=!1,!N.isTouched)return N.isMoved&&Se.grabCursor&&d.setGrabCursor(!1),N.isMoved=!1,void(N.startMoving=!1);Se.grabCursor&&N.isMoved&&N.isTouched&&(!0===d.allowSlideNext||!0===d.allowSlidePrev)&&d.setGrabCursor(!1);const he=It(),Me=he-N.touchStartTime;if(d.allowClick){const Rn=F.path||F.composedPath&&F.composedPath();d.updateClickedSlide(Rn&&Rn[0]||F.target,Rn),d.emit("tap click",F),Me<300&&he-N.lastClickTime<300&&d.emit("doubleTap doubleClick",F)}if(N.lastClickTime=It(),pt(()=>{d.destroyed||(d.allowClick=!0)}),!N.isTouched||!N.isMoved||!d.swipeDirection||0===Te.diff&&!N.loopSwapReset||N.currentTranslate===N.startTranslate&&!N.loopSwapReset)return N.isTouched=!1,N.isMoved=!1,void(N.startMoving=!1);let Xe;if(N.isTouched=!1,N.isMoved=!1,N.startMoving=!1,Xe=Se.followFinger?le?d.translate:-d.translate:-N.currentTranslate,Se.cssMode)return;if(Se.freeMode&&Se.freeMode.enabled)return void d.freeMode.onTouchEnd({currentPos:Xe});const et=Xe>=-d.maxTranslate()&&!d.params.loop;let lt=0,ct=d.slidesSizesGrid[0];for(let Rn=0;Rn<Fe.length;Rn+=Rn<Se.slidesPerGroupSkip?1:Se.slidesPerGroup){const X=Rn<Se.slidesPerGroupSkip-1?1:Se.slidesPerGroup;typeof Fe[Rn+X]<"u"?(et||Xe>=Fe[Rn]&&Xe<Fe[Rn+X])&&(lt=Rn,ct=Fe[Rn+X]-Fe[Rn]):(et||Xe>=Fe[Rn])&&(lt=Rn,ct=Fe[Fe.length-1]-Fe[Fe.length-2])}let Ue=null,dt=null;Se.rewind&&(d.isBeginning?dt=Se.virtual&&Se.virtual.enabled&&d.virtual?d.virtual.slides.length-1:d.slides.length-1:d.isEnd&&(Ue=0));const Ze=(Xe-Fe[lt])/ct,Ht=lt<Se.slidesPerGroupSkip-1?1:Se.slidesPerGroup;if(Me>Se.longSwipesMs){if(!Se.longSwipes)return void d.slideTo(d.activeIndex);"next"===d.swipeDirection&&d.slideTo(Ze>=Se.longSwipesRatio?Se.rewind&&d.isEnd?Ue:lt+Ht:lt),"prev"===d.swipeDirection&&(Ze>1-Se.longSwipesRatio?d.slideTo(lt+Ht):null!==dt&&Ze<0&&Math.abs(Ze)>Se.longSwipesRatio?d.slideTo(dt):d.slideTo(lt))}else{if(!Se.shortSwipes)return void d.slideTo(d.activeIndex);!d.navigation||F.target!==d.navigation.nextEl&&F.target!==d.navigation.prevEl?("next"===d.swipeDirection&&d.slideTo(null!==Ue?Ue:lt+Ht),"prev"===d.swipeDirection&&d.slideTo(null!==dt?dt:lt)):d.slideTo(F.target===d.navigation.nextEl?lt+Ht:lt)}}function Ji(){const D=this,{params:d,el:N}=D;if(N&&0===N.offsetWidth)return;d.breakpoints&&D.setBreakpoint();const{allowSlideNext:F,allowSlidePrev:ee,snapGrid:Z}=D,Se=D.virtual&&D.params.virtual.enabled;D.allowSlideNext=!0,D.allowSlidePrev=!0,D.updateSize(),D.updateSlides(),D.updateSlidesClasses(),!("auto"===d.slidesPerView||d.slidesPerView>1)||!D.isEnd||D.isBeginning||D.params.centeredSlides||Se&&d.loop?D.params.loop&&!Se?D.slideToLoop(D.realIndex,0,!1,!0):D.slideTo(D.activeIndex,0,!1,!0):D.slideTo(D.slides.length-1,0,!1,!0),D.autoplay&&D.autoplay.running&&D.autoplay.paused&&(clearTimeout(D.autoplay.resizeTimeout),D.autoplay.resizeTimeout=setTimeout(()=>{D.autoplay&&D.autoplay.running&&D.autoplay.paused&&D.autoplay.resume()},500)),D.allowSlidePrev=ee,D.allowSlideNext=F,D.params.watchOverflow&&Z!==D.snapGrid&&D.checkOverflow()}function Fo(D){const d=this;d.enabled&&(d.allowClick||(d.params.preventClicks&&D.preventDefault(),d.params.preventClicksPropagation&&d.animating&&(D.stopPropagation(),D.stopImmediatePropagation())))}function So(){const D=this,{wrapperEl:d,rtlTranslate:N,enabled:F}=D;if(!F)return;let ee;D.previousTranslate=D.translate,D.translate=D.isHorizontal()?-d.scrollLeft:-d.scrollTop,0===D.translate&&(D.translate=0),D.updateActiveIndex(),D.updateSlidesClasses();const Z=D.maxTranslate()-D.minTranslate();ee=0===Z?0:(D.translate-D.minTranslate())/Z,ee!==D.progress&&D.updateProgress(N?-D.translate:D.translate),D.emit("setTranslate",D.translate,!1)}function Ho(D){const d=this;gi(d,D.target),!d.params.cssMode&&("auto"===d.params.slidesPerView||d.params.autoHeight)&&d.update()}function wa(){const D=this;D.documentTouchHandlerProceeded||(D.documentTouchHandlerProceeded=!0,D.params.touchReleaseOnEdges&&(D.el.style.touchAction="auto"))}const ko=(D,d)=>{const N=Zt(),{params:F,el:ee,wrapperEl:Z,device:Se}=D,Te=!!F.nested,le="on"===d?"addEventListener":"removeEventListener",Fe=d;N[le]("touchstart",D.onDocumentTouchStart,{passive:!1,capture:Te}),ee[le]("touchstart",D.onTouchStart,{passive:!1}),ee[le]("pointerdown",D.onTouchStart,{passive:!1}),N[le]("touchmove",D.onTouchMove,{passive:!1,capture:Te}),N[le]("pointermove",D.onTouchMove,{passive:!1,capture:Te}),N[le]("touchend",D.onTouchEnd,{passive:!0}),N[le]("pointerup",D.onTouchEnd,{passive:!0}),N[le]("pointercancel",D.onTouchEnd,{passive:!0}),N[le]("touchcancel",D.onTouchEnd,{passive:!0}),N[le]("pointerout",D.onTouchEnd,{passive:!0}),N[le]("pointerleave",D.onTouchEnd,{passive:!0}),N[le]("contextmenu",D.onTouchEnd,{passive:!0}),(F.preventClicks||F.preventClicksPropagation)&&ee[le]("click",D.onClick,!0),F.cssMode&&Z[le]("scroll",D.onScroll),D[Fe](F.updateOnWindowResize?Se.ios||Se.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Ji,!0),ee[le]("load",D.onLoad,{capture:!0})},Ps=(D,d)=>D.grid&&d.grid&&d.grid.rows>1;var Je={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Lt(D,d){return function(F){void 0===F&&(F={});const ee=Object.keys(F)[0],Z=F[ee];"object"==typeof Z&&null!==Z?(!0===D[ee]&&(D[ee]={enabled:!0}),"navigation"===ee&&D[ee]&&D[ee].enabled&&!D[ee].prevEl&&!D[ee].nextEl&&(D[ee].auto=!0),["pagination","scrollbar"].indexOf(ee)>=0&&D[ee]&&D[ee].enabled&&!D[ee].el&&(D[ee].auto=!0),ee in D&&"enabled"in Z?("object"==typeof D[ee]&&!("enabled"in D[ee])&&(D[ee].enabled=!0),D[ee]||(D[ee]={enabled:!1}),Tt(d,F)):Tt(d,F)):Tt(d,F)}}const Ln={eventsEmitter:{on(D,d,N){const F=this;if(!F.eventsListeners||F.destroyed||"function"!=typeof d)return F;const ee=N?"unshift":"push";return D.split(" ").forEach(Z=>{F.eventsListeners[Z]||(F.eventsListeners[Z]=[]),F.eventsListeners[Z][ee](d)}),F},once(D,d,N){const F=this;if(!F.eventsListeners||F.destroyed||"function"!=typeof d)return F;function ee(){F.off(D,ee),ee.__emitterProxy&&delete ee.__emitterProxy;for(var Z=arguments.length,Se=new Array(Z),Te=0;Te<Z;Te++)Se[Te]=arguments[Te];d.apply(F,Se)}return ee.__emitterProxy=d,F.on(D,ee,N)},onAny(D,d){const N=this;if(!N.eventsListeners||N.destroyed||"function"!=typeof D)return N;const F=d?"unshift":"push";return N.eventsAnyListeners.indexOf(D)<0&&N.eventsAnyListeners[F](D),N},offAny(D){const d=this;if(!d.eventsListeners||d.destroyed||!d.eventsAnyListeners)return d;const N=d.eventsAnyListeners.indexOf(D);return N>=0&&d.eventsAnyListeners.splice(N,1),d},off(D,d){const N=this;return!N.eventsListeners||N.destroyed||!N.eventsListeners||D.split(" ").forEach(F=>{typeof d>"u"?N.eventsListeners[F]=[]:N.eventsListeners[F]&&N.eventsListeners[F].forEach((ee,Z)=>{(ee===d||ee.__emitterProxy&&ee.__emitterProxy===d)&&N.eventsListeners[F].splice(Z,1)})}),N},emit(){const D=this;if(!D.eventsListeners||D.destroyed||!D.eventsListeners)return D;let d,N,F;for(var ee=arguments.length,Z=new Array(ee),Se=0;Se<ee;Se++)Z[Se]=arguments[Se];return"string"==typeof Z[0]||Array.isArray(Z[0])?(d=Z[0],N=Z.slice(1,Z.length),F=D):(d=Z[0].events,N=Z[0].data,F=Z[0].context||D),N.unshift(F),(Array.isArray(d)?d:d.split(" ")).forEach(le=>{D.eventsAnyListeners&&D.eventsAnyListeners.length&&D.eventsAnyListeners.forEach(Fe=>{Fe.apply(F,[le,...N])}),D.eventsListeners&&D.eventsListeners[le]&&D.eventsListeners[le].forEach(Fe=>{Fe.apply(F,N)})}),D}},update:{updateSize:function fr(){const D=this;let d,N;const F=D.el;d=typeof D.params.width<"u"&&null!==D.params.width?D.params.width:F.clientWidth,N=typeof D.params.height<"u"&&null!==D.params.height?D.params.height:F.clientHeight,!(0===d&&D.isHorizontal()||0===N&&D.isVertical())&&(d=d-parseInt(pi(F,"padding-left")||0,10)-parseInt(pi(F,"padding-right")||0,10),N=N-parseInt(pi(F,"padding-top")||0,10)-parseInt(pi(F,"padding-bottom")||0,10),Number.isNaN(d)&&(d=0),Number.isNaN(N)&&(N=0),Object.assign(D,{width:d,height:N,size:D.isHorizontal()?d:N}))},updateSlides:function Vr(){const D=this;function d(ce,Dt){return parseFloat(ce.getPropertyValue(D.getDirectionLabel(Dt))||0)}const N=D.params,{wrapperEl:F,slidesEl:ee,size:Z,rtlTranslate:Se,wrongRTL:Te}=D,le=D.virtual&&N.virtual.enabled,Fe=le?D.virtual.slides.length:D.slides.length,fe=Vt(ee,`.${D.params.slideClass}, swiper-slide`),he=le?D.virtual.slides.length:fe.length;let Me=[];const Xe=[],et=[];let lt=N.slidesOffsetBefore;"function"==typeof lt&&(lt=N.slidesOffsetBefore.call(D));let ct=N.slidesOffsetAfter;"function"==typeof ct&&(ct=N.slidesOffsetAfter.call(D));const Ue=D.snapGrid.length,dt=D.slidesGrid.length;let Ze=N.spaceBetween,Ht=-lt,Rn=0,X=0;if(typeof Z>"u")return;"string"==typeof Ze&&Ze.indexOf("%")>=0?Ze=parseFloat(Ze.replace("%",""))/100*Z:"string"==typeof Ze&&(Ze=parseFloat(Ze)),D.virtualSize=-Ze,fe.forEach(ce=>{Se?ce.style.marginLeft="":ce.style.marginRight="",ce.style.marginBottom="",ce.style.marginTop=""}),N.centeredSlides&&N.cssMode&&(jt(F,"--swiper-centered-offset-before",""),jt(F,"--swiper-centered-offset-after",""));const z=N.grid&&N.grid.rows>1&&D.grid;let ne;z?D.grid.initSlides(fe):D.grid&&D.grid.unsetSlides();const G="auto"===N.slidesPerView&&N.breakpoints&&Object.keys(N.breakpoints).filter(ce=>typeof N.breakpoints[ce].slidesPerView<"u").length>0;for(let ce=0;ce<he;ce+=1){let Dt;if(ne=0,fe[ce]&&(Dt=fe[ce]),z&&D.grid.updateSlide(ce,Dt,fe),!fe[ce]||"none"!==pi(Dt,"display")){if("auto"===N.slidesPerView){G&&(fe[ce].style[D.getDirectionLabel("width")]="");const Ct=getComputedStyle(Dt),St=Dt.style.transform,yn=Dt.style.webkitTransform;if(St&&(Dt.style.transform="none"),yn&&(Dt.style.webkitTransform="none"),N.roundLengths)ne=D.isHorizontal()?hn(Dt,"width",!0):hn(Dt,"height",!0);else{const ai=d(Ct,"width"),Xi=d(Ct,"padding-left"),Cn=d(Ct,"padding-right"),Fn=d(Ct,"margin-left"),Gi=d(Ct,"margin-right"),as=Ct.getPropertyValue("box-sizing");if(as&&"border-box"===as)ne=ai+Fn+Gi;else{const{clientWidth:fi,offsetWidth:Ni}=Dt;ne=ai+Xi+Cn+Fn+Gi+(Ni-fi)}}St&&(Dt.style.transform=St),yn&&(Dt.style.webkitTransform=yn),N.roundLengths&&(ne=Math.floor(ne))}else ne=(Z-(N.slidesPerView-1)*Ze)/N.slidesPerView,N.roundLengths&&(ne=Math.floor(ne)),fe[ce]&&(fe[ce].style[D.getDirectionLabel("width")]=`${ne}px`);fe[ce]&&(fe[ce].swiperSlideSize=ne),et.push(ne),N.centeredSlides?(Ht=Ht+ne/2+Rn/2+Ze,0===Rn&&0!==ce&&(Ht=Ht-Z/2-Ze),0===ce&&(Ht=Ht-Z/2-Ze),Math.abs(Ht)<.001&&(Ht=0),N.roundLengths&&(Ht=Math.floor(Ht)),X%N.slidesPerGroup==0&&Me.push(Ht),Xe.push(Ht)):(N.roundLengths&&(Ht=Math.floor(Ht)),(X-Math.min(D.params.slidesPerGroupSkip,X))%D.params.slidesPerGroup==0&&Me.push(Ht),Xe.push(Ht),Ht=Ht+ne+Ze),D.virtualSize+=ne+Ze,Rn=ne,X+=1}}if(D.virtualSize=Math.max(D.virtualSize,Z)+ct,Se&&Te&&("slide"===N.effect||"coverflow"===N.effect)&&(F.style.width=`${D.virtualSize+Ze}px`),N.setWrapperSize&&(F.style[D.getDirectionLabel("width")]=`${D.virtualSize+Ze}px`),z&&D.grid.updateWrapperSize(ne,Me),!N.centeredSlides){const ce=[];for(let Dt=0;Dt<Me.length;Dt+=1){let Ct=Me[Dt];N.roundLengths&&(Ct=Math.floor(Ct)),Me[Dt]<=D.virtualSize-Z&&ce.push(Ct)}Me=ce,Math.floor(D.virtualSize-Z)-Math.floor(Me[Me.length-1])>1&&Me.push(D.virtualSize-Z)}if(le&&N.loop){const ce=et[0]+Ze;if(N.slidesPerGroup>1){const Dt=Math.ceil((D.virtual.slidesBefore+D.virtual.slidesAfter)/N.slidesPerGroup),Ct=ce*N.slidesPerGroup;for(let St=0;St<Dt;St+=1)Me.push(Me[Me.length-1]+Ct)}for(let Dt=0;Dt<D.virtual.slidesBefore+D.virtual.slidesAfter;Dt+=1)1===N.slidesPerGroup&&Me.push(Me[Me.length-1]+ce),Xe.push(Xe[Xe.length-1]+ce),D.virtualSize+=ce}if(0===Me.length&&(Me=[0]),0!==Ze){const ce=D.isHorizontal()&&Se?"marginLeft":D.getDirectionLabel("marginRight");fe.filter((Dt,Ct)=>!(N.cssMode&&!N.loop)||Ct!==fe.length-1).forEach(Dt=>{Dt.style[ce]=`${Ze}px`})}if(N.centeredSlides&&N.centeredSlidesBounds){let ce=0;et.forEach(Ct=>{ce+=Ct+(Ze||0)}),ce-=Ze;const Dt=ce-Z;Me=Me.map(Ct=>Ct<=0?-lt:Ct>Dt?Dt+ct:Ct)}if(N.centerInsufficientSlides){let ce=0;et.forEach(Ct=>{ce+=Ct+(Ze||0)}),ce-=Ze;const Dt=(N.slidesOffsetBefore||0)+(N.slidesOffsetAfter||0);if(ce+Dt<Z){const Ct=(Z-ce-Dt)/2;Me.forEach((St,yn)=>{Me[yn]=St-Ct}),Xe.forEach((St,yn)=>{Xe[yn]=St+Ct})}}if(Object.assign(D,{slides:fe,snapGrid:Me,slidesGrid:Xe,slidesSizesGrid:et}),N.centeredSlides&&N.cssMode&&!N.centeredSlidesBounds){jt(F,"--swiper-centered-offset-before",-Me[0]+"px"),jt(F,"--swiper-centered-offset-after",D.size/2-et[et.length-1]/2+"px");const ce=-D.snapGrid[0],Dt=-D.slidesGrid[0];D.snapGrid=D.snapGrid.map(Ct=>Ct+ce),D.slidesGrid=D.slidesGrid.map(Ct=>Ct+Dt)}if(he!==Fe&&D.emit("slidesLengthChange"),Me.length!==Ue&&(D.params.watchOverflow&&D.checkOverflow(),D.emit("snapGridLengthChange")),Xe.length!==dt&&D.emit("slidesGridLengthChange"),N.watchSlidesProgress&&D.updateSlidesOffset(),D.emit("slidesUpdated"),!(le||N.cssMode||"slide"!==N.effect&&"fade"!==N.effect)){const ce=`${N.containerModifierClass}backface-hidden`,Dt=D.el.classList.contains(ce);he<=N.maxBackfaceHiddenSlides?Dt||D.el.classList.add(ce):Dt&&D.el.classList.remove(ce)}},updateAutoHeight:function _r(D){const d=this,N=[],F=d.virtual&&d.params.virtual.enabled;let Z,ee=0;"number"==typeof D?d.setTransition(D):!0===D&&d.setTransition(d.params.speed);const Se=Te=>F?d.slides[d.getSlideIndexByData(Te)]:d.slides[Te];if("auto"!==d.params.slidesPerView&&d.params.slidesPerView>1)if(d.params.centeredSlides)(d.visibleSlides||[]).forEach(Te=>{N.push(Te)});else for(Z=0;Z<Math.ceil(d.params.slidesPerView);Z+=1){const Te=d.activeIndex+Z;if(Te>d.slides.length&&!F)break;N.push(Se(Te))}else N.push(Se(d.activeIndex));for(Z=0;Z<N.length;Z+=1)if(typeof N[Z]<"u"){const Te=N[Z].offsetHeight;ee=Te>ee?Te:ee}(ee||0===ee)&&(d.wrapperEl.style.height=`${ee}px`)},updateSlidesOffset:function cs(){const D=this,d=D.slides,N=D.isElement?D.isHorizontal()?D.wrapperEl.offsetLeft:D.wrapperEl.offsetTop:0;for(let F=0;F<d.length;F+=1)d[F].swiperSlideOffset=(D.isHorizontal()?d[F].offsetLeft:d[F].offsetTop)-N-D.cssOverflowAdjustment()},updateSlidesProgress:function ri(D){void 0===D&&(D=this&&this.translate||0);const d=this,N=d.params,{slides:F,rtlTranslate:ee,snapGrid:Z}=d;if(0===F.length)return;typeof F[0].swiperSlideOffset>"u"&&d.updateSlidesOffset();let Se=-D;ee&&(Se=D),d.visibleSlidesIndexes=[],d.visibleSlides=[];let Te=N.spaceBetween;"string"==typeof Te&&Te.indexOf("%")>=0?Te=parseFloat(Te.replace("%",""))/100*d.size:"string"==typeof Te&&(Te=parseFloat(Te));for(let le=0;le<F.length;le+=1){const Fe=F[le];let fe=Fe.swiperSlideOffset;N.cssMode&&N.centeredSlides&&(fe-=F[0].swiperSlideOffset);const he=(Se+(N.centeredSlides?d.minTranslate():0)-fe)/(Fe.swiperSlideSize+Te),Me=(Se-Z[0]+(N.centeredSlides?d.minTranslate():0)-fe)/(Fe.swiperSlideSize+Te),Xe=-(Se-fe),et=Xe+d.slidesSizesGrid[le],lt=Xe>=0&&Xe<=d.size-d.slidesSizesGrid[le],ct=Xe>=0&&Xe<d.size-1||et>1&&et<=d.size||Xe<=0&&et>=d.size;ct&&(d.visibleSlides.push(Fe),d.visibleSlidesIndexes.push(le)),Fr(Fe,ct,N.slideVisibleClass),Fr(Fe,lt,N.slideFullyVisibleClass),Fe.progress=ee?-he:he,Fe.originalProgress=ee?-Me:Me}},updateProgress:function Ft(D){const d=this;typeof D>"u"&&(D=d&&d.translate&&d.translate*(d.rtlTranslate?-1:1)||0);const N=d.params,F=d.maxTranslate()-d.minTranslate();let{progress:ee,isBeginning:Z,isEnd:Se,progressLoop:Te}=d;const le=Z,Fe=Se;if(0===F)ee=0,Z=!0,Se=!0;else{ee=(D-d.minTranslate())/F;const fe=Math.abs(D-d.minTranslate())<1,he=Math.abs(D-d.maxTranslate())<1;Z=fe||ee<=0,Se=he||ee>=1,fe&&(ee=0),he&&(ee=1)}if(N.loop){const fe=d.getSlideIndexByData(0),he=d.getSlideIndexByData(d.slides.length-1),Me=d.slidesGrid[fe],Xe=d.slidesGrid[he],et=d.slidesGrid[d.slidesGrid.length-1],lt=Math.abs(D);Te=lt>=Me?(lt-Me)/et:(lt+et-Xe)/et,Te>1&&(Te-=1)}Object.assign(d,{progress:ee,progressLoop:Te,isBeginning:Z,isEnd:Se}),(N.watchSlidesProgress||N.centeredSlides&&N.autoHeight)&&d.updateSlidesProgress(D),Z&&!le&&d.emit("reachBeginning toEdge"),Se&&!Fe&&d.emit("reachEnd toEdge"),(le&&!Z||Fe&&!Se)&&d.emit("fromEdge"),d.emit("progress",ee)},updateSlidesClasses:function cn(){const D=this,{slides:d,params:N,slidesEl:F,activeIndex:ee}=D,Se=D.grid&&N.grid&&N.grid.rows>1,Te=he=>Vt(F,`.${N.slideClass}${he}, swiper-slide${he}`)[0];let le,Fe,fe;if(D.virtual&&N.virtual.enabled)if(N.loop){let he=ee-D.virtual.slidesBefore;he<0&&(he=D.virtual.slides.length+he),he>=D.virtual.slides.length&&(he-=D.virtual.slides.length),le=Te(`[data-swiper-slide-index="${he}"]`)}else le=Te(`[data-swiper-slide-index="${ee}"]`);else Se?(le=d.filter(he=>he.column===ee)[0],fe=d.filter(he=>he.column===ee+1)[0],Fe=d.filter(he=>he.column===ee-1)[0]):le=d[ee];le&&(Se||(fe=function Tn(D,d){const N=[];for(;D.nextElementSibling;){const F=D.nextElementSibling;d?F.matches(d)&&N.push(F):N.push(F),D=F}return N}(le,`.${N.slideClass}, swiper-slide`)[0],N.loop&&!fe&&(fe=d[0]),Fe=function pn(D,d){const N=[];for(;D.previousElementSibling;){const F=D.previousElementSibling;d?F.matches(d)&&N.push(F):N.push(F),D=F}return N}(le,`.${N.slideClass}, swiper-slide`)[0],N.loop&&0===!Fe&&(Fe=d[d.length-1]))),d.forEach(he=>{nn(he,he===le,N.slideActiveClass),nn(he,he===fe,N.slideNextClass),nn(he,he===Fe,N.slidePrevClass)}),D.emitSlidesClasses()},updateActiveIndex:function Di(D){const d=this,N=d.rtlTranslate?d.translate:-d.translate,{snapGrid:F,params:ee,activeIndex:Z,realIndex:Se,snapIndex:Te}=d;let Fe,le=D;const fe=Xe=>{let et=Xe-d.virtual.slidesBefore;return et<0&&(et=d.virtual.slides.length+et),et>=d.virtual.slides.length&&(et-=d.virtual.slides.length),et};if(typeof le>"u"&&(le=function kr(D){const{slidesGrid:d,params:N}=D,F=D.rtlTranslate?D.translate:-D.translate;let ee;for(let Z=0;Z<d.length;Z+=1)typeof d[Z+1]<"u"?F>=d[Z]&&F<d[Z+1]-(d[Z+1]-d[Z])/2?ee=Z:F>=d[Z]&&F<d[Z+1]&&(ee=Z+1):F>=d[Z]&&(ee=Z);return N.normalizeSlideIndex&&(ee<0||typeof ee>"u")&&(ee=0),ee}(d)),F.indexOf(N)>=0)Fe=F.indexOf(N);else{const Xe=Math.min(ee.slidesPerGroupSkip,le);Fe=Xe+Math.floor((le-Xe)/ee.slidesPerGroup)}if(Fe>=F.length&&(Fe=F.length-1),le===Z&&!d.params.loop)return void(Fe!==Te&&(d.snapIndex=Fe,d.emit("snapIndexChange")));if(le===Z&&d.params.loop&&d.virtual&&d.params.virtual.enabled)return void(d.realIndex=fe(le));const he=d.grid&&ee.grid&&ee.grid.rows>1;let Me;if(d.virtual&&ee.virtual.enabled&&ee.loop)Me=fe(le);else if(he){const Xe=d.slides.filter(lt=>lt.column===le)[0];let et=parseInt(Xe.getAttribute("data-swiper-slide-index"),10);Number.isNaN(et)&&(et=Math.max(d.slides.indexOf(Xe),0)),Me=Math.floor(et/ee.grid.rows)}else if(d.slides[le]){const Xe=d.slides[le].getAttribute("data-swiper-slide-index");Me=Xe?parseInt(Xe,10):le}else Me=le;Object.assign(d,{previousSnapIndex:Te,snapIndex:Fe,previousRealIndex:Se,realIndex:Me,previousIndex:Z,activeIndex:le}),d.initialized&&zr(d),d.emit("activeIndexChange"),d.emit("snapIndexChange"),(d.initialized||d.params.runCallbacksOnInit)&&(Se!==Me&&d.emit("realIndexChange"),d.emit("slideChange"))},updateClickedSlide:function wi(D,d){const N=this,F=N.params;let ee=D.closest(`.${F.slideClass}, swiper-slide`);!ee&&N.isElement&&d&&d.length>1&&d.includes(D)&&[...d.slice(d.indexOf(D)+1,d.length)].forEach(Te=>{!ee&&Te.matches&&Te.matches(`.${F.slideClass}, swiper-slide`)&&(ee=Te)});let Se,Z=!1;if(ee)for(let Te=0;Te<N.slides.length;Te+=1)if(N.slides[Te]===ee){Z=!0,Se=Te;break}if(!ee||!Z)return N.clickedSlide=void 0,void(N.clickedIndex=void 0);N.clickedSlide=ee,N.clickedIndex=N.virtual&&N.params.virtual.enabled?parseInt(ee.getAttribute("data-swiper-slide-index"),10):Se,F.slideToClickedSlide&&void 0!==N.clickedIndex&&N.clickedIndex!==N.activeIndex&&N.slideToClickedSlide()}},translate:{getTranslate:function Hr(D){void 0===D&&(D=this.isHorizontal()?"x":"y");const{params:N,rtlTranslate:F,translate:ee,wrapperEl:Z}=this;if(N.virtualTranslate)return F?-ee:ee;if(N.cssMode)return ee;let Se=Ut(Z,D);return Se+=this.cssOverflowAdjustment(),F&&(Se=-Se),Se||0},setTranslate:function wr(D,d){const N=this,{rtlTranslate:F,params:ee,wrapperEl:Z,progress:Se}=N;let fe,Te=0,le=0;N.isHorizontal()?Te=F?-D:D:le=D,ee.roundLengths&&(Te=Math.floor(Te),le=Math.floor(le)),N.previousTranslate=N.translate,N.translate=N.isHorizontal()?Te:le,ee.cssMode?Z[N.isHorizontal()?"scrollLeft":"scrollTop"]=N.isHorizontal()?-Te:-le:ee.virtualTranslate||(N.isHorizontal()?Te-=N.cssOverflowAdjustment():le-=N.cssOverflowAdjustment(),Z.style.transform=`translate3d(${Te}px, ${le}px, 0px)`);const he=N.maxTranslate()-N.minTranslate();fe=0===he?0:(D-N.minTranslate())/he,fe!==Se&&N.updateProgress(D),N.emit("setTranslate",N.translate,d)},minTranslate:function Jr(){return-this.snapGrid[0]},maxTranslate:function Es(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function io(D,d,N,F,ee){void 0===D&&(D=0),void 0===d&&(d=this.params.speed),void 0===N&&(N=!0),void 0===F&&(F=!0);const Z=this,{params:Se,wrapperEl:Te}=Z;if(Z.animating&&Se.preventInteractionOnTransition)return!1;const le=Z.minTranslate(),Fe=Z.maxTranslate();let fe;if(fe=F&&D>le?le:F&&D<Fe?Fe:D,Z.updateProgress(fe),Se.cssMode){const he=Z.isHorizontal();if(0===d)Te[he?"scrollLeft":"scrollTop"]=-fe;else{if(!Z.support.smoothScroll)return st({swiper:Z,targetPosition:-fe,side:he?"left":"top"}),!0;Te.scrollTo({[he?"left":"top"]:-fe,behavior:"smooth"})}return!0}return 0===d?(Z.setTransition(0),Z.setTranslate(fe),N&&(Z.emit("beforeTransitionStart",d,ee),Z.emit("transitionEnd"))):(Z.setTransition(d),Z.setTranslate(fe),N&&(Z.emit("beforeTransitionStart",d,ee),Z.emit("transitionStart")),Z.animating||(Z.animating=!0,Z.onTranslateToWrapperTransitionEnd||(Z.onTranslateToWrapperTransitionEnd=function(Me){!Z||Z.destroyed||Me.target===this&&(Z.wrapperEl.removeEventListener("transitionend",Z.onTranslateToWrapperTransitionEnd),Z.onTranslateToWrapperTransitionEnd=null,delete Z.onTranslateToWrapperTransitionEnd,Z.animating=!1,N&&Z.emit("transitionEnd"))}),Z.wrapperEl.addEventListener("transitionend",Z.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function _o(D,d){const N=this;N.params.cssMode||(N.wrapperEl.style.transitionDuration=`${D}ms`,N.wrapperEl.style.transitionDelay=0===D?"0ms":""),N.emit("setTransition",D,d)},transitionStart:function xr(D,d){void 0===D&&(D=!0);const N=this,{params:F}=N;F.cssMode||(F.autoHeight&&N.updateAutoHeight(),Ir({swiper:N,runCallbacks:D,direction:d,step:"Start"}))},transitionEnd:function ds(D,d){void 0===D&&(D=!0);const N=this,{params:F}=N;N.animating=!1,!F.cssMode&&(N.setTransition(0),Ir({swiper:N,runCallbacks:D,direction:d,step:"End"}))}},slide:{slideTo:function Xr(D,d,N,F,ee){void 0===D&&(D=0),void 0===N&&(N=!0),"string"==typeof D&&(D=parseInt(D,10));const Z=this;let Se=D;Se<0&&(Se=0);const{params:Te,snapGrid:le,slidesGrid:Fe,previousIndex:fe,activeIndex:he,rtlTranslate:Me,wrapperEl:Xe,enabled:et}=Z;if(!et&&!F&&!ee||Z.destroyed||Z.animating&&Te.preventInteractionOnTransition)return!1;typeof d>"u"&&(d=Z.params.speed);const lt=Math.min(Z.params.slidesPerGroupSkip,Se);let ct=lt+Math.floor((Se-lt)/Z.params.slidesPerGroup);ct>=le.length&&(ct=le.length-1);const Ue=-le[ct];if(Te.normalizeSlideIndex)for(let Ze=0;Ze<Fe.length;Ze+=1){const Ht=-Math.floor(100*Ue),Rn=Math.floor(100*Fe[Ze]),X=Math.floor(100*Fe[Ze+1]);typeof Fe[Ze+1]<"u"?Ht>=Rn&&Ht<X-(X-Rn)/2?Se=Ze:Ht>=Rn&&Ht<X&&(Se=Ze+1):Ht>=Rn&&(Se=Ze)}if(Z.initialized&&Se!==he&&(!Z.allowSlideNext&&(Me?Ue>Z.translate&&Ue>Z.minTranslate():Ue<Z.translate&&Ue<Z.minTranslate())||!Z.allowSlidePrev&&Ue>Z.translate&&Ue>Z.maxTranslate()&&(he||0)!==Se))return!1;let dt;if(Se!==(fe||0)&&N&&Z.emit("beforeSlideChangeStart"),Z.updateProgress(Ue),dt=Se>he?"next":Se<he?"prev":"reset",Me&&-Ue===Z.translate||!Me&&Ue===Z.translate)return Z.updateActiveIndex(Se),Te.autoHeight&&Z.updateAutoHeight(),Z.updateSlidesClasses(),"slide"!==Te.effect&&Z.setTranslate(Ue),"reset"!==dt&&(Z.transitionStart(N,dt),Z.transitionEnd(N,dt)),!1;if(Te.cssMode){const Ze=Z.isHorizontal(),Ht=Me?Ue:-Ue;if(0===d){const Rn=Z.virtual&&Z.params.virtual.enabled;Rn&&(Z.wrapperEl.style.scrollSnapType="none",Z._immediateVirtual=!0),Rn&&!Z._cssModeVirtualInitialSet&&Z.params.initialSlide>0?(Z._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{Xe[Ze?"scrollLeft":"scrollTop"]=Ht})):Xe[Ze?"scrollLeft":"scrollTop"]=Ht,Rn&&requestAnimationFrame(()=>{Z.wrapperEl.style.scrollSnapType="",Z._immediateVirtual=!1})}else{if(!Z.support.smoothScroll)return st({swiper:Z,targetPosition:Ht,side:Ze?"left":"top"}),!0;Xe.scrollTo({[Ze?"left":"top"]:Ht,behavior:"smooth"})}return!0}return Z.setTransition(d),Z.setTranslate(Ue),Z.updateActiveIndex(Se),Z.updateSlidesClasses(),Z.emit("beforeTransitionStart",d,F),Z.transitionStart(N,dt),0===d?Z.transitionEnd(N,dt):Z.animating||(Z.animating=!0,Z.onSlideToWrapperTransitionEnd||(Z.onSlideToWrapperTransitionEnd=function(Ht){!Z||Z.destroyed||Ht.target===this&&(Z.wrapperEl.removeEventListener("transitionend",Z.onSlideToWrapperTransitionEnd),Z.onSlideToWrapperTransitionEnd=null,delete Z.onSlideToWrapperTransitionEnd,Z.transitionEnd(N,dt))}),Z.wrapperEl.addEventListener("transitionend",Z.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function jo(D,d,N,F){void 0===D&&(D=0),void 0===N&&(N=!0),"string"==typeof D&&(D=parseInt(D,10));const ee=this;if(ee.destroyed)return;typeof d>"u"&&(d=ee.params.speed);const Z=ee.grid&&ee.params.grid&&ee.params.grid.rows>1;let Se=D;if(ee.params.loop)if(ee.virtual&&ee.params.virtual.enabled)Se+=ee.virtual.slidesBefore;else{let Te;if(Z){const Me=Se*ee.params.grid.rows;Te=ee.slides.filter(Xe=>1*Xe.getAttribute("data-swiper-slide-index")===Me)[0].column}else Te=ee.getSlideIndexByData(Se);const le=Z?Math.ceil(ee.slides.length/ee.params.grid.rows):ee.slides.length,{centeredSlides:Fe}=ee.params;let fe=ee.params.slidesPerView;"auto"===fe?fe=ee.slidesPerViewDynamic():(fe=Math.ceil(parseFloat(ee.params.slidesPerView,10)),Fe&&fe%2==0&&(fe+=1));let he=le-Te<fe;if(Fe&&(he=he||Te<Math.ceil(fe/2)),F&&Fe&&"auto"!==ee.params.slidesPerView&&!Z&&(he=!1),he){const Me=Fe?Te<ee.activeIndex?"prev":"next":Te-ee.activeIndex-1<ee.params.slidesPerView?"next":"prev";ee.loopFix({direction:Me,slideTo:!0,activeSlideIndex:"next"===Me?Te+1:Te-le+1,slideRealIndex:"next"===Me?ee.realIndex:void 0})}if(Z){const Me=Se*ee.params.grid.rows;Se=ee.slides.filter(Xe=>1*Xe.getAttribute("data-swiper-slide-index")===Me)[0].column}else Se=ee.getSlideIndexByData(Se)}return requestAnimationFrame(()=>{ee.slideTo(Se,d,N,F)}),ee},slideNext:function ss(D,d,N){void 0===d&&(d=!0);const F=this,{enabled:ee,params:Z,animating:Se}=F;if(!ee||F.destroyed)return F;typeof D>"u"&&(D=F.params.speed);let Te=Z.slidesPerGroup;"auto"===Z.slidesPerView&&1===Z.slidesPerGroup&&Z.slidesPerGroupAuto&&(Te=Math.max(F.slidesPerViewDynamic("current",!0),1));const le=F.activeIndex<Z.slidesPerGroupSkip?1:Te;if(Z.loop){if(Se&&(!F.virtual||!Z.virtual.enabled)&&Z.loopPreventsSliding)return!1;if(F.loopFix({direction:"next"}),F._clientLeft=F.wrapperEl.clientLeft,F.activeIndex===F.slides.length-1&&Z.cssMode)return requestAnimationFrame(()=>{F.slideTo(F.activeIndex+le,D,d,N)}),!0}return F.slideTo(Z.rewind&&F.isEnd?0:F.activeIndex+le,D,d,N)},slidePrev:function po(D,d,N){void 0===d&&(d=!0);const F=this,{params:ee,snapGrid:Z,slidesGrid:Se,rtlTranslate:Te,enabled:le,animating:Fe}=F;if(!le||F.destroyed)return F;if(typeof D>"u"&&(D=F.params.speed),ee.loop){if(Fe&&(!F.virtual||!ee.virtual.enabled)&&ee.loopPreventsSliding)return!1;F.loopFix({direction:"prev"}),F._clientLeft=F.wrapperEl.clientLeft}function Me(Ue){return Ue<0?-Math.floor(Math.abs(Ue)):Math.floor(Ue)}const Xe=Me(Te?F.translate:-F.translate),et=Z.map(Ue=>Me(Ue));let lt=Z[et.indexOf(Xe)-1];if(typeof lt>"u"&&ee.cssMode){let Ue;Z.forEach((dt,Ze)=>{Xe>=dt&&(Ue=Ze)}),typeof Ue<"u"&&(lt=Z[Ue>0?Ue-1:Ue])}let ct=0;return typeof lt<"u"&&(ct=Se.indexOf(lt),ct<0&&(ct=F.activeIndex-1),"auto"===ee.slidesPerView&&1===ee.slidesPerGroup&&ee.slidesPerGroupAuto&&(ct=ct-F.slidesPerViewDynamic("previous",!0)+1,ct=Math.max(ct,0))),ee.rewind&&F.isBeginning?F.slideTo(F.params.virtual&&F.params.virtual.enabled&&F.virtual?F.virtual.slides.length-1:F.slides.length-1,D,d,N):ee.loop&&0===F.activeIndex&&ee.cssMode?(requestAnimationFrame(()=>{F.slideTo(ct,D,d,N)}),!0):F.slideTo(ct,D,d,N)},slideReset:function Rt(D,d,N){void 0===d&&(d=!0);const F=this;if(!F.destroyed)return typeof D>"u"&&(D=F.params.speed),F.slideTo(F.activeIndex,D,d,N)},slideToClosest:function vt(D,d,N,F){void 0===d&&(d=!0),void 0===F&&(F=.5);const ee=this;if(ee.destroyed)return;typeof D>"u"&&(D=ee.params.speed);let Z=ee.activeIndex;const Se=Math.min(ee.params.slidesPerGroupSkip,Z),Te=Se+Math.floor((Z-Se)/ee.params.slidesPerGroup),le=ee.rtlTranslate?ee.translate:-ee.translate;if(le>=ee.snapGrid[Te]){const Fe=ee.snapGrid[Te];le-Fe>(ee.snapGrid[Te+1]-Fe)*F&&(Z+=ee.params.slidesPerGroup)}else{const Fe=ee.snapGrid[Te-1];le-Fe<=(ee.snapGrid[Te]-Fe)*F&&(Z-=ee.params.slidesPerGroup)}return Z=Math.max(Z,0),Z=Math.min(Z,ee.slidesGrid.length-1),ee.slideTo(Z,D,d,N)},slideToClickedSlide:function sn(){const D=this;if(D.destroyed)return;const{params:d,slidesEl:N}=D,F="auto"===d.slidesPerView?D.slidesPerViewDynamic():d.slidesPerView;let Z,ee=D.clickedIndex;const Se=D.isElement?"swiper-slide":`.${d.slideClass}`;if(d.loop){if(D.animating)return;Z=parseInt(D.clickedSlide.getAttribute("data-swiper-slide-index"),10),d.centeredSlides?ee<D.loopedSlides-F/2||ee>D.slides.length-D.loopedSlides+F/2?(D.loopFix(),ee=D.getSlideIndex(Vt(N,`${Se}[data-swiper-slide-index="${Z}"]`)[0]),pt(()=>{D.slideTo(ee)})):D.slideTo(ee):ee>D.slides.length-F?(D.loopFix(),ee=D.getSlideIndex(Vt(N,`${Se}[data-swiper-slide-index="${Z}"]`)[0]),pt(()=>{D.slideTo(ee)})):D.slideTo(ee)}else D.slideTo(ee)}},loop:{loopCreate:function on(D){const d=this,{params:N,slidesEl:F}=d;if(!N.loop||d.virtual&&d.params.virtual.enabled)return;const ee=()=>{Vt(F,`.${N.slideClass}, swiper-slide`).forEach((he,Me)=>{he.setAttribute("data-swiper-slide-index",Me)})},Z=d.grid&&N.grid&&N.grid.rows>1,Se=N.slidesPerGroup*(Z?N.grid.rows:1),le=Z&&d.slides.length%N.grid.rows!=0,Fe=fe=>{for(let he=0;he<fe;he+=1){const Me=d.isElement?en("swiper-slide",[N.slideBlankClass]):en("div",[N.slideClass,N.slideBlankClass]);d.slidesEl.append(Me)}};d.slides.length%Se!=0?(N.loopAddBlankSlides?(Fe(Se-d.slides.length%Se),d.recalcSlides(),d.updateSlides()):Qt("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ee()):le?(N.loopAddBlankSlides?(Fe(N.grid.rows-d.slides.length%N.grid.rows),d.recalcSlides(),d.updateSlides()):Qt("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),ee()):ee(),d.loopFix({slideRealIndex:D,direction:N.centeredSlides?void 0:"next"})},loopFix:function Gn(D){let{slideRealIndex:d,slideTo:N=!0,direction:F,setTranslate:ee,activeSlideIndex:Z,byController:Se,byMousewheel:Te}=void 0===D?{}:D;const le=this;if(!le.params.loop)return;le.emit("beforeLoopFix");const{slides:Fe,allowSlidePrev:fe,allowSlideNext:he,slidesEl:Me,params:Xe}=le,{centeredSlides:et}=Xe;if(le.allowSlidePrev=!0,le.allowSlideNext=!0,le.virtual&&Xe.virtual.enabled)return N&&(Xe.centeredSlides||0!==le.snapIndex?Xe.centeredSlides&&le.snapIndex<Xe.slidesPerView?le.slideTo(le.virtual.slides.length+le.snapIndex,0,!1,!0):le.snapIndex===le.snapGrid.length-1&&le.slideTo(le.virtual.slidesBefore,0,!1,!0):le.slideTo(le.virtual.slides.length,0,!1,!0)),le.allowSlidePrev=fe,le.allowSlideNext=he,void le.emit("loopFix");let lt=Xe.slidesPerView;"auto"===lt?lt=le.slidesPerViewDynamic():(lt=Math.ceil(parseFloat(Xe.slidesPerView,10)),et&&lt%2==0&&(lt+=1));const ct=Xe.slidesPerGroupAuto?lt:Xe.slidesPerGroup;let Ue=ct;Ue%ct!=0&&(Ue+=ct-Ue%ct),Ue+=Xe.loopAdditionalSlides,le.loopedSlides=Ue;const dt=le.grid&&Xe.grid&&Xe.grid.rows>1;Fe.length<lt+Ue?Qt("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):dt&&"row"===Xe.grid.fill&&Qt("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Ze=[],Ht=[];let Rn=le.activeIndex;typeof Z>"u"?Z=le.getSlideIndex(Fe.filter(St=>St.classList.contains(Xe.slideActiveClass))[0]):Rn=Z;const X="next"===F||!F,z="prev"===F||!F;let ne=0,G=0;const ce=dt?Math.ceil(Fe.length/Xe.grid.rows):Fe.length,Ct=(dt?Fe[Z].column:Z)+(et&&typeof ee>"u"?-lt/2+.5:0);if(Ct<Ue){ne=Math.max(Ue-Ct,ct);for(let St=0;St<Ue-Ct;St+=1){const yn=St-Math.floor(St/ce)*ce;if(dt){const ai=ce-yn-1;for(let Xi=Fe.length-1;Xi>=0;Xi-=1)Fe[Xi].column===ai&&Ze.push(Xi)}else Ze.push(ce-yn-1)}}else if(Ct+lt>ce-Ue){G=Math.max(Ct-(ce-2*Ue),ct);for(let St=0;St<G;St+=1){const yn=St-Math.floor(St/ce)*ce;dt?Fe.forEach((ai,Xi)=>{ai.column===yn&&Ht.push(Xi)}):Ht.push(yn)}}if(le.__preventObserver__=!0,requestAnimationFrame(()=>{le.__preventObserver__=!1}),z&&Ze.forEach(St=>{Fe[St].swiperLoopMoveDOM=!0,Me.prepend(Fe[St]),Fe[St].swiperLoopMoveDOM=!1}),X&&Ht.forEach(St=>{Fe[St].swiperLoopMoveDOM=!0,Me.append(Fe[St]),Fe[St].swiperLoopMoveDOM=!1}),le.recalcSlides(),"auto"===Xe.slidesPerView?le.updateSlides():dt&&(Ze.length>0&&z||Ht.length>0&&X)&&le.slides.forEach((St,yn)=>{le.grid.updateSlide(yn,St,le.slides)}),Xe.watchSlidesProgress&&le.updateSlidesOffset(),N)if(Ze.length>0&&z)if(typeof d>"u"){const ai=le.slidesGrid[Rn+ne]-le.slidesGrid[Rn];Te?le.setTranslate(le.translate-ai):(le.slideTo(Rn+Math.ceil(ne),0,!1,!0),ee&&(le.touchEventsData.startTranslate=le.touchEventsData.startTranslate-ai,le.touchEventsData.currentTranslate=le.touchEventsData.currentTranslate-ai))}else ee&&(le.slideTo(le.activeIndex+(dt?Ze.length/Xe.grid.rows:Ze.length),0,!1,!0),le.touchEventsData.currentTranslate=le.translate);else if(Ht.length>0&&X)if(typeof d>"u"){const ai=le.slidesGrid[Rn-G]-le.slidesGrid[Rn];Te?le.setTranslate(le.translate-ai):(le.slideTo(Rn-G,0,!1,!0),ee&&(le.touchEventsData.startTranslate=le.touchEventsData.startTranslate-ai,le.touchEventsData.currentTranslate=le.touchEventsData.currentTranslate-ai))}else le.slideTo(le.activeIndex-(dt?Ht.length/Xe.grid.rows:Ht.length),0,!1,!0);if(le.allowSlidePrev=fe,le.allowSlideNext=he,le.controller&&le.controller.control&&!Se){const St={slideRealIndex:d,direction:F,setTranslate:ee,activeSlideIndex:Z,byController:!0};Array.isArray(le.controller.control)?le.controller.control.forEach(yn=>{!yn.destroyed&&yn.params.loop&&yn.loopFix({...St,slideTo:yn.params.slidesPerView===Xe.slidesPerView&&N})}):le.controller.control instanceof le.constructor&&le.controller.control.params.loop&&le.controller.control.loopFix({...St,slideTo:le.controller.control.params.slidesPerView===Xe.slidesPerView&&N})}le.emit("loopFix")},loopDestroy:function si(){const D=this,{params:d,slidesEl:N}=D;if(!d.loop||D.virtual&&D.params.virtual.enabled)return;D.recalcSlides();const F=[];D.slides.forEach(ee=>{const Z=typeof ee.swiperSlideIndex>"u"?1*ee.getAttribute("data-swiper-slide-index"):ee.swiperSlideIndex;F[Z]=ee}),D.slides.forEach(ee=>{ee.removeAttribute("data-swiper-slide-index")}),F.forEach(ee=>{N.append(ee)}),D.recalcSlides(),D.slideTo(D.realIndex,0)}},grabCursor:{setGrabCursor:function Mr(D){const d=this;if(!d.params.simulateTouch||d.params.watchOverflow&&d.isLocked||d.params.cssMode)return;const N="container"===d.params.touchEventsTarget?d.el:d.wrapperEl;d.isElement&&(d.__preventObserver__=!0),N.style.cursor="move",N.style.cursor=D?"grabbing":"grab",d.isElement&&requestAnimationFrame(()=>{d.__preventObserver__=!1})},unsetGrabCursor:function os(){const D=this;D.params.watchOverflow&&D.isLocked||D.params.cssMode||(D.isElement&&(D.__preventObserver__=!0),D["container"===D.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",D.isElement&&requestAnimationFrame(()=>{D.__preventObserver__=!1}))}},events:{attachEvents:function br(){const D=this,{params:d}=D;D.onTouchStart=aa.bind(D),D.onTouchMove=so.bind(D),D.onTouchEnd=Cs.bind(D),D.onDocumentTouchStart=wa.bind(D),d.cssMode&&(D.onScroll=So.bind(D)),D.onClick=Fo.bind(D),D.onLoad=Ho.bind(D),ko(D,"on")},detachEvents:function la(){ko(this,"off")}},breakpoints:{setBreakpoint:function Os(){const D=this,{realIndex:d,initialized:N,params:F,el:ee}=D,Z=F.breakpoints;if(!Z||Z&&0===Object.keys(Z).length)return;const Se=D.getBreakpoint(Z,D.params.breakpointsBase,D.el);if(!Se||D.currentBreakpoint===Se)return;const le=(Se in Z?Z[Se]:void 0)||D.originalParams,Fe=Ps(D,F),fe=Ps(D,le),he=D.params.grabCursor,Me=le.grabCursor,Xe=F.enabled;Fe&&!fe?(ee.classList.remove(`${F.containerModifierClass}grid`,`${F.containerModifierClass}grid-column`),D.emitContainerClasses()):!Fe&&fe&&(ee.classList.add(`${F.containerModifierClass}grid`),(le.grid.fill&&"column"===le.grid.fill||!le.grid.fill&&"column"===F.grid.fill)&&ee.classList.add(`${F.containerModifierClass}grid-column`),D.emitContainerClasses()),he&&!Me?D.unsetGrabCursor():!he&&Me&&D.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Ze=>{if(typeof le[Ze]>"u")return;const Ht=F[Ze]&&F[Ze].enabled,Rn=le[Ze]&&le[Ze].enabled;Ht&&!Rn&&D[Ze].disable(),!Ht&&Rn&&D[Ze].enable()});const et=le.direction&&le.direction!==F.direction,lt=F.loop&&(le.slidesPerView!==F.slidesPerView||et),ct=F.loop;et&&N&&D.changeDirection(),Tt(D.params,le);const Ue=D.params.enabled,dt=D.params.loop;Object.assign(D,{allowTouchMove:D.params.allowTouchMove,allowSlideNext:D.params.allowSlideNext,allowSlidePrev:D.params.allowSlidePrev}),Xe&&!Ue?D.disable():!Xe&&Ue&&D.enable(),D.currentBreakpoint=Se,D.emit("_beforeBreakpoint",le),N&&(lt?(D.loopDestroy(),D.loopCreate(d),D.updateSlides()):!ct&&dt?(D.loopCreate(d),D.updateSlides()):ct&&!dt&&D.loopDestroy()),D.emit("breakpoint",le)},getBreakpoint:function Io(D,d,N){if(void 0===d&&(d="window"),!D||"container"===d&&!N)return;let F=!1;const ee=rt(),Z="window"===d?ee.innerHeight:N.clientHeight,Se=Object.keys(D).map(Te=>{if("string"==typeof Te&&0===Te.indexOf("@")){const le=parseFloat(Te.substr(1));return{value:Z*le,point:Te}}return{value:Te,point:Te}});Se.sort((Te,le)=>parseInt(Te.value,10)-parseInt(le.value,10));for(let Te=0;Te<Se.length;Te+=1){const{point:le,value:Fe}=Se[Te];"window"===d?ee.matchMedia(`(min-width: ${Fe}px)`).matches&&(F=le):Fe<=N.clientWidth&&(F=le)}return F||"max"}},checkOverflow:{checkOverflow:function ut(){const D=this,{isLocked:d,params:N}=D,{slidesOffsetBefore:F}=N;if(F){const ee=D.slides.length-1;D.isLocked=D.size>D.slidesGrid[ee]+D.slidesSizesGrid[ee]+2*F}else D.isLocked=1===D.snapGrid.length;!0===N.allowSlideNext&&(D.allowSlideNext=!D.isLocked),!0===N.allowSlidePrev&&(D.allowSlidePrev=!D.isLocked),d&&d!==D.isLocked&&(D.isEnd=!1),d!==D.isLocked&&D.emit(D.isLocked?"lock":"unlock")}},classes:{addClasses:function Wo(){const D=this,{classNames:d,params:N,rtl:F,el:ee,device:Z}=D,Se=function ca(D,d){const N=[];return D.forEach(F=>{"object"==typeof F?Object.keys(F).forEach(ee=>{F[ee]&&N.push(d+ee)}):"string"==typeof F&&N.push(d+F)}),N}(["initialized",N.direction,{"free-mode":D.params.freeMode&&N.freeMode.enabled},{autoheight:N.autoHeight},{rtl:F},{grid:N.grid&&N.grid.rows>1},{"grid-column":N.grid&&N.grid.rows>1&&"column"===N.grid.fill},{android:Z.android},{ios:Z.ios},{"css-mode":N.cssMode},{centered:N.cssMode&&N.centeredSlides},{"watch-progress":N.watchSlidesProgress}],N.containerModifierClass);d.push(...Se),ee.classList.add(...d),D.emitContainerClasses()},removeClasses:function ye(){const{el:d,classNames:N}=this;d.classList.remove(...N),this.emitContainerClasses()}}},ti={};class Si{constructor(){let d,N;for(var F=arguments.length,ee=new Array(F),Z=0;Z<F;Z++)ee[Z]=arguments[Z];1===ee.length&&ee[0].constructor&&"Object"===Object.prototype.toString.call(ee[0]).slice(8,-1)?N=ee[0]:[d,N]=ee,N||(N={}),N=Tt({},N),d&&!N.el&&(N.el=d);const Se=Zt();if(N.el&&"string"==typeof N.el&&Se.querySelectorAll(N.el).length>1){const fe=[];return Se.querySelectorAll(N.el).forEach(he=>{const Me=Tt({},N,{el:he});fe.push(new Si(Me))}),fe}const Te=this;Te.__swiper__=!0,Te.support=Ie(),Te.device=Wt({userAgent:N.userAgent}),Te.browser=function dr(){return yt||(yt=function Xn(){const D=rt(),d=Wt();let N=!1;function F(){const Te=D.navigator.userAgent.toLowerCase();return Te.indexOf("safari")>=0&&Te.indexOf("chrome")<0&&Te.indexOf("android")<0}if(F()){const Te=String(D.navigator.userAgent);if(Te.includes("Version/")){const[le,Fe]=Te.split("Version/")[1].split(" ")[0].split(".").map(fe=>Number(fe));N=le<16||16===le&&Fe<2}}const ee=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(D.navigator.userAgent),Z=F();return{isSafari:N||Z,needPerspectiveFix:N,need3dFix:Z||ee&&d.ios,isWebView:ee}}()),yt}(),Te.eventsListeners={},Te.eventsAnyListeners=[],Te.modules=[...Te.__modules__],N.modules&&Array.isArray(N.modules)&&Te.modules.push(...N.modules);const le={};Te.modules.forEach(fe=>{fe({params:N,swiper:Te,extendParams:Lt(N,le),on:Te.on.bind(Te),once:Te.once.bind(Te),off:Te.off.bind(Te),emit:Te.emit.bind(Te)})});const Fe=Tt({},Je,le);return Te.params=Tt({},Fe,ti,N),Te.originalParams=Tt({},Te.params),Te.passedParams=Tt({},N),Te.params&&Te.params.on&&Object.keys(Te.params.on).forEach(fe=>{Te.on(fe,Te.params.on[fe])}),Te.params&&Te.params.onAny&&Te.onAny(Te.params.onAny),Object.assign(Te,{enabled:Te.params.enabled,el:d,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===Te.params.direction,isVertical:()=>"vertical"===Te.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:Te.params.allowSlideNext,allowSlidePrev:Te.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:Te.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:Te.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),Te.emit("_swiper"),Te.params.init&&Te.init(),Te}getDirectionLabel(d){return this.isHorizontal()?d:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[d]}getSlideIndex(d){const{slidesEl:N,params:F}=this,Z=Ci(Vt(N,`.${F.slideClass}, swiper-slide`)[0]);return Ci(d)-Z}getSlideIndexByData(d){return this.getSlideIndex(this.slides.filter(N=>1*N.getAttribute("data-swiper-slide-index")===d)[0])}recalcSlides(){const{slidesEl:N,params:F}=this;this.slides=Vt(N,`.${F.slideClass}, swiper-slide`)}enable(){const d=this;d.enabled||(d.enabled=!0,d.params.grabCursor&&d.setGrabCursor(),d.emit("enable"))}disable(){const d=this;d.enabled&&(d.enabled=!1,d.params.grabCursor&&d.unsetGrabCursor(),d.emit("disable"))}setProgress(d,N){const F=this;d=Math.min(Math.max(d,0),1);const ee=F.minTranslate(),Se=(F.maxTranslate()-ee)*d+ee;F.translateTo(Se,typeof N>"u"?0:N),F.updateActiveIndex(),F.updateSlidesClasses()}emitContainerClasses(){const d=this;if(!d.params._emitClasses||!d.el)return;const N=d.el.className.split(" ").filter(F=>0===F.indexOf("swiper")||0===F.indexOf(d.params.containerModifierClass));d.emit("_containerClasses",N.join(" "))}getSlideClasses(d){const N=this;return N.destroyed?"":d.className.split(" ").filter(F=>0===F.indexOf("swiper-slide")||0===F.indexOf(N.params.slideClass)).join(" ")}emitSlidesClasses(){const d=this;if(!d.params._emitClasses||!d.el)return;const N=[];d.slides.forEach(F=>{const ee=d.getSlideClasses(F);N.push({slideEl:F,classNames:ee}),d.emit("_slideClass",F,ee)}),d.emit("_slideClasses",N)}slidesPerViewDynamic(d,N){void 0===d&&(d="current"),void 0===N&&(N=!1);const{params:ee,slides:Z,slidesGrid:Se,slidesSizesGrid:Te,size:le,activeIndex:Fe}=this;let fe=1;if("number"==typeof ee.slidesPerView)return ee.slidesPerView;if(ee.centeredSlides){let Me,he=Z[Fe]?Math.ceil(Z[Fe].swiperSlideSize):0;for(let Xe=Fe+1;Xe<Z.length;Xe+=1)Z[Xe]&&!Me&&(he+=Math.ceil(Z[Xe].swiperSlideSize),fe+=1,he>le&&(Me=!0));for(let Xe=Fe-1;Xe>=0;Xe-=1)Z[Xe]&&!Me&&(he+=Z[Xe].swiperSlideSize,fe+=1,he>le&&(Me=!0))}else if("current"===d)for(let he=Fe+1;he<Z.length;he+=1)(N?Se[he]+Te[he]-Se[Fe]<le:Se[he]-Se[Fe]<le)&&(fe+=1);else for(let he=Fe-1;he>=0;he-=1)Se[Fe]-Se[he]<le&&(fe+=1);return fe}update(){const d=this;if(!d||d.destroyed)return;const{snapGrid:N,params:F}=d;function ee(){const Te=Math.min(Math.max(d.rtlTranslate?-1*d.translate:d.translate,d.maxTranslate()),d.minTranslate());d.setTranslate(Te),d.updateActiveIndex(),d.updateSlidesClasses()}let Z;F.breakpoints&&d.setBreakpoint(),[...d.el.querySelectorAll('[loading="lazy"]')].forEach(Se=>{Se.complete&&gi(d,Se)}),d.updateSize(),d.updateSlides(),d.updateProgress(),d.updateSlidesClasses(),F.freeMode&&F.freeMode.enabled&&!F.cssMode?(ee(),F.autoHeight&&d.updateAutoHeight()):(Z=d.slideTo(("auto"===F.slidesPerView||F.slidesPerView>1)&&d.isEnd&&!F.centeredSlides?(d.virtual&&F.virtual.enabled?d.virtual.slides:d.slides).length-1:d.activeIndex,0,!1,!0),Z||ee()),F.watchOverflow&&N!==d.snapGrid&&d.checkOverflow(),d.emit("update")}changeDirection(d,N){void 0===N&&(N=!0);const F=this,ee=F.params.direction;return d||(d="horizontal"===ee?"vertical":"horizontal"),d===ee||"horizontal"!==d&&"vertical"!==d||(F.el.classList.remove(`${F.params.containerModifierClass}${ee}`),F.el.classList.add(`${F.params.containerModifierClass}${d}`),F.emitContainerClasses(),F.params.direction=d,F.slides.forEach(Z=>{"vertical"===d?Z.style.width="":Z.style.height=""}),F.emit("changeDirection"),N&&F.update()),F}changeLanguageDirection(d){const N=this;N.rtl&&"rtl"===d||!N.rtl&&"ltr"===d||(N.rtl="rtl"===d,N.rtlTranslate="horizontal"===N.params.direction&&N.rtl,N.rtl?(N.el.classList.add(`${N.params.containerModifierClass}rtl`),N.el.dir="rtl"):(N.el.classList.remove(`${N.params.containerModifierClass}rtl`),N.el.dir="ltr"),N.update())}mount(d){const N=this;if(N.mounted)return!0;let F=d||N.params.el;if("string"==typeof F&&(F=document.querySelector(F)),!F)return!1;F.swiper=N,F.parentNode&&F.parentNode.host&&F.parentNode.host.nodeName===N.params.swiperElementNodeName.toUpperCase()&&(N.isElement=!0);const ee=()=>`.${(N.params.wrapperClass||"").trim().split(" ").join(".")}`;let Se=F&&F.shadowRoot&&F.shadowRoot.querySelector?F.shadowRoot.querySelector(ee()):Vt(F,ee())[0];return!Se&&N.params.createElements&&(Se=en("div",N.params.wrapperClass),F.append(Se),Vt(F,`.${N.params.slideClass}`).forEach(Te=>{Se.append(Te)})),Object.assign(N,{el:F,wrapperEl:Se,slidesEl:N.isElement&&!F.parentNode.host.slideSlots?F.parentNode.host:Se,hostEl:N.isElement?F.parentNode.host:F,mounted:!0,rtl:"rtl"===F.dir.toLowerCase()||"rtl"===pi(F,"direction"),rtlTranslate:"horizontal"===N.params.direction&&("rtl"===F.dir.toLowerCase()||"rtl"===pi(F,"direction")),wrongRTL:"-webkit-box"===pi(Se,"display")}),!0}init(d){const N=this;if(N.initialized||!1===N.mount(d))return N;N.emit("beforeInit"),N.params.breakpoints&&N.setBreakpoint(),N.addClasses(),N.updateSize(),N.updateSlides(),N.params.watchOverflow&&N.checkOverflow(),N.params.grabCursor&&N.enabled&&N.setGrabCursor(),N.slideTo(N.params.loop&&N.virtual&&N.params.virtual.enabled?N.params.initialSlide+N.virtual.slidesBefore:N.params.initialSlide,0,N.params.runCallbacksOnInit,!1,!0),N.params.loop&&N.loopCreate(),N.attachEvents();const ee=[...N.el.querySelectorAll('[loading="lazy"]')];return N.isElement&&ee.push(...N.hostEl.querySelectorAll('[loading="lazy"]')),ee.forEach(Z=>{Z.complete?gi(N,Z):Z.addEventListener("load",Se=>{gi(N,Se.target)})}),zr(N),N.initialized=!0,zr(N),N.emit("init"),N.emit("afterInit"),N}destroy(d,N){void 0===d&&(d=!0),void 0===N&&(N=!0);const F=this,{params:ee,el:Z,wrapperEl:Se,slides:Te}=F;return typeof F.params>"u"||F.destroyed||(F.emit("beforeDestroy"),F.initialized=!1,F.detachEvents(),ee.loop&&F.loopDestroy(),N&&(F.removeClasses(),Z.removeAttribute("style"),Se.removeAttribute("style"),Te&&Te.length&&Te.forEach(le=>{le.classList.remove(ee.slideVisibleClass,ee.slideFullyVisibleClass,ee.slideActiveClass,ee.slideNextClass,ee.slidePrevClass),le.removeAttribute("style"),le.removeAttribute("data-swiper-slide-index")})),F.emit("destroy"),Object.keys(F.eventsListeners).forEach(le=>{F.off(le)}),!1!==d&&(F.el.swiper=null,function xt(D){const d=D;Object.keys(d).forEach(N=>{try{d[N]=null}catch{}try{delete d[N]}catch{}})}(F)),F.destroyed=!0),null}static extendDefaults(d){Tt(ti,d)}static get extendedDefaults(){return ti}static get defaults(){return Je}static installModule(d){Si.prototype.__modules__||(Si.prototype.__modules__=[]);const N=Si.prototype.__modules__;"function"==typeof d&&N.indexOf(d)<0&&N.push(d)}static use(d){return Array.isArray(d)?(d.forEach(N=>Si.installModule(N)),Si):(Si.installModule(d),Si)}}function bo(D,d,N,F){return D.params.createElements&&Object.keys(F).forEach(ee=>{if(!N[ee]&&!0===N.auto){let Z=Vt(D.el,`.${F[ee]}`)[0];Z||(Z=en("div",F[ee]),Z.className=F[ee],D.el.append(Z)),N[ee]=Z,d[ee]=Z}}),N}function us(D){return void 0===D&&(D=""),`.${D.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function al(D){const d=this,{params:N,slidesEl:F}=d;N.loop&&d.loopDestroy();const ee=Z=>{if("string"==typeof Z){const Se=document.createElement("div");Se.innerHTML=Z,F.append(Se.children[0]),Se.innerHTML=""}else F.append(Z)};if("object"==typeof D&&"length"in D)for(let Z=0;Z<D.length;Z+=1)D[Z]&&ee(D[Z]);else ee(D);d.recalcSlides(),N.loop&&d.loopCreate(),(!N.observer||d.isElement)&&d.update()}function Ba(D){const d=this,{params:N,activeIndex:F,slidesEl:ee}=d;N.loop&&d.loopDestroy();let Z=F+1;const Se=Te=>{if("string"==typeof Te){const le=document.createElement("div");le.innerHTML=Te,ee.prepend(le.children[0]),le.innerHTML=""}else ee.prepend(Te)};if("object"==typeof D&&"length"in D){for(let Te=0;Te<D.length;Te+=1)D[Te]&&Se(D[Te]);Z=F+D.length}else Se(D);d.recalcSlides(),N.loop&&d.loopCreate(),(!N.observer||d.isElement)&&d.update(),d.slideTo(Z,0,!1)}function Va(D,d){const N=this,{params:F,activeIndex:ee,slidesEl:Z}=N;let Se=ee;F.loop&&(Se-=N.loopedSlides,N.loopDestroy(),N.recalcSlides());const Te=N.slides.length;if(D<=0)return void N.prependSlide(d);if(D>=Te)return void N.appendSlide(d);let le=Se>D?Se+1:Se;const Fe=[];for(let fe=Te-1;fe>=D;fe-=1){const he=N.slides[fe];he.remove(),Fe.unshift(he)}if("object"==typeof d&&"length"in d){for(let fe=0;fe<d.length;fe+=1)d[fe]&&Z.append(d[fe]);le=Se>D?Se+d.length:Se}else Z.append(d);for(let fe=0;fe<Fe.length;fe+=1)Z.append(Fe[fe]);N.recalcSlides(),F.loop&&N.loopCreate(),(!F.observer||N.isElement)&&N.update(),N.slideTo(F.loop?le+N.loopedSlides:le,0,!1)}function pr(D){const d=this,{params:N,activeIndex:F}=d;let ee=F;N.loop&&(ee-=d.loopedSlides,d.loopDestroy());let Se,Z=ee;if("object"==typeof D&&"length"in D){for(let Te=0;Te<D.length;Te+=1)Se=D[Te],d.slides[Se]&&d.slides[Se].remove(),Se<Z&&(Z-=1);Z=Math.max(Z,0)}else Se=D,d.slides[Se]&&d.slides[Se].remove(),Se<Z&&(Z-=1),Z=Math.max(Z,0);d.recalcSlides(),N.loop&&d.loopCreate(),(!N.observer||d.isElement)&&d.update(),d.slideTo(N.loop?Z+d.loopedSlides:Z,0,!1)}function mo(){const D=this,d=[];for(let N=0;N<D.slides.length;N+=1)d.push(N);D.removeSlide(d)}function ar(D){const{effect:d,swiper:N,on:F,setTranslate:ee,setTransition:Z,overwriteParams:Se,perspective:Te,recreateShadows:le,getEffectParams:Fe}=D;let fe;F("beforeInit",()=>{if(N.params.effect!==d)return;N.classNames.push(`${N.params.containerModifierClass}${d}`),Te&&Te()&&N.classNames.push(`${N.params.containerModifierClass}3d`);const he=Se?Se():{};Object.assign(N.params,he),Object.assign(N.originalParams,he)}),F("setTranslate",()=>{N.params.effect===d&&ee()}),F("setTransition",(he,Me)=>{N.params.effect===d&&Z(Me)}),F("transitionEnd",()=>{if(N.params.effect===d&&le){if(!Fe||!Fe().slideShadows)return;N.slides.forEach(he=>{he.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Me=>Me.remove())}),le()}}),F("virtualUpdate",()=>{N.params.effect===d&&(N.slides.length||(fe=!0),requestAnimationFrame(()=>{fe&&N.slides&&N.slides.length&&(ee(),fe=!1)}))})}function Mo(D,d){const N=Bt(d);return N!==d&&(N.style.backfaceVisibility="hidden",N.style["-webkit-backface-visibility"]="hidden"),N}function Ta(D){let{swiper:d,duration:N,transformElements:F,allSlides:ee}=D;const{activeIndex:Z}=d;if(d.params.virtualTranslate&&0!==N){let le,Te=!1;le=ee?F:F.filter(Fe=>{const fe=Fe.classList.contains("swiper-slide-transform")?(Te=>Te.parentElement?Te.parentElement:d.slides.filter(Fe=>Fe.shadowRoot&&Fe.shadowRoot===Te.parentNode)[0])(Fe):Fe;return d.getSlideIndex(fe)===Z}),le.forEach(Fe=>{Ei(Fe,()=>{if(Te||!d||d.destroyed)return;Te=!0,d.animating=!1;const fe=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});d.wrapperEl.dispatchEvent(fe)})})}}function ea(D,d,N){const F=`swiper-slide-shadow${N?`-${N}`:""}${D?` swiper-slide-shadow-${D}`:""}`,ee=Bt(d);let Z=ee.querySelector(`.${F.split(" ").join(".")}`);return Z||(Z=en("div",F.split(" ")),ee.append(Z)),Z}Object.keys(Ln).forEach(D=>{Object.keys(Ln[D]).forEach(d=>{Si.prototype[d]=Ln[D][d]})}),Si.use([function bi(D){let{swiper:d,on:N,emit:F}=D;const ee=rt();let Z=null,Se=null;const Te=()=>{!d||d.destroyed||!d.initialized||(F("beforeResize"),F("resize"))},fe=()=>{!d||d.destroyed||!d.initialized||F("orientationchange")};N("init",()=>{d.params.resizeObserver&&typeof ee.ResizeObserver<"u"?!d||d.destroyed||!d.initialized||(Z=new ResizeObserver(he=>{Se=ee.requestAnimationFrame(()=>{const{width:Me,height:Xe}=d;let et=Me,lt=Xe;he.forEach(ct=>{let{contentBoxSize:Ue,contentRect:dt,target:Ze}=ct;Ze&&Ze!==d.el||(et=dt?dt.width:(Ue[0]||Ue).inlineSize,lt=dt?dt.height:(Ue[0]||Ue).blockSize)}),(et!==Me||lt!==Xe)&&Te()})}),Z.observe(d.el)):(ee.addEventListener("resize",Te),ee.addEventListener("orientationchange",fe))}),N("destroy",()=>{Se&&ee.cancelAnimationFrame(Se),Z&&Z.unobserve&&d.el&&(Z.unobserve(d.el),Z=null),ee.removeEventListener("resize",Te),ee.removeEventListener("orientationchange",fe)})},function or(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z=[],Se=rt(),Te=function(fe,he){void 0===he&&(he={});const Xe=new(Se.MutationObserver||Se.WebkitMutationObserver)(et=>{if(d.__preventObserver__)return;if(1===et.length)return void ee("observerUpdate",et[0]);const lt=function(){ee("observerUpdate",et[0])};Se.requestAnimationFrame?Se.requestAnimationFrame(lt):Se.setTimeout(lt,0)});Xe.observe(fe,{attributes:typeof he.attributes>"u"||he.attributes,childList:typeof he.childList>"u"||he.childList,characterData:typeof he.characterData>"u"||he.characterData}),Z.push(Xe)};N({observer:!1,observeParents:!1,observeSlideChildren:!1}),F("init",()=>{if(d.params.observer){if(d.params.observeParents){const fe=An(d.hostEl);for(let he=0;he<fe.length;he+=1)Te(fe[he])}Te(d.hostEl,{childList:d.params.observeSlideChildren}),Te(d.wrapperEl,{attributes:!1})}}),F("destroy",()=>{Z.forEach(fe=>{fe.disconnect()}),Z.splice(0,Z.length)})}]),Si.use([function qr(D){let Z,{swiper:d,extendParams:N,on:F,emit:ee}=D;N({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const Se=Zt();d.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const Te=Se.createElement("div");function le(et,lt){const ct=d.params.virtual;if(ct.cache&&d.virtual.cache[lt])return d.virtual.cache[lt];let Ue;return ct.renderSlide?(Ue=ct.renderSlide.call(d,et,lt),"string"==typeof Ue&&(Te.innerHTML=Ue,Ue=Te.children[0])):Ue=d.isElement?en("swiper-slide"):en("div",d.params.slideClass),Ue.setAttribute("data-swiper-slide-index",lt),ct.renderSlide||(Ue.innerHTML=et),ct.cache&&(d.virtual.cache[lt]=Ue),Ue}function Fe(et,lt){const{slidesPerView:ct,slidesPerGroup:Ue,centeredSlides:dt,loop:Ze,initialSlide:Ht}=d.params;if(lt&&!Ze&&Ht>0)return;const{addSlidesBefore:Rn,addSlidesAfter:X}=d.params.virtual,{from:z,to:ne,slides:G,slidesGrid:ce,offset:Dt}=d.virtual;d.params.cssMode||d.updateActiveIndex();const Ct=d.activeIndex||0;let St,yn,ai;St=d.rtlTranslate?"right":d.isHorizontal()?"left":"top",dt?(yn=Math.floor(ct/2)+Ue+X,ai=Math.floor(ct/2)+Ue+Rn):(yn=ct+(Ue-1)+X,ai=(Ze?ct:Ue)+Rn);let Xi=Ct-ai,Cn=Ct+yn;Ze||(Xi=Math.max(Xi,0),Cn=Math.min(Cn,G.length-1));let Fn=(d.slidesGrid[Xi]||0)-(d.slidesGrid[0]||0);function Gi(){d.updateSlides(),d.updateProgress(),d.updateSlidesClasses(),ee("virtualUpdate")}if(Ze&&Ct>=ai?(Xi-=ai,dt||(Fn+=d.slidesGrid[0])):Ze&&Ct<ai&&(Xi=-ai,dt&&(Fn+=d.slidesGrid[0])),Object.assign(d.virtual,{from:Xi,to:Cn,offset:Fn,slidesGrid:d.slidesGrid,slidesBefore:ai,slidesAfter:yn}),z===Xi&&ne===Cn&&!et)return d.slidesGrid!==ce&&Fn!==Dt&&d.slides.forEach(lr=>{lr.style[St]=Fn-Math.abs(d.cssOverflowAdjustment())+"px"}),d.updateProgress(),void ee("virtualUpdate");if(d.params.virtual.renderExternal)return d.params.virtual.renderExternal.call(d,{offset:Fn,from:Xi,to:Cn,slides:function(){const Ui=[];for(let Ns=Xi;Ns<=Cn;Ns+=1)Ui.push(G[Ns]);return Ui}()}),void(d.params.virtual.renderExternalUpdate?Gi():ee("virtualUpdate"));const as=[],fi=[],Ni=lr=>{let Ui=lr;return lr<0?Ui=G.length+lr:Ui>=G.length&&(Ui-=G.length),Ui};if(et)d.slides.filter(lr=>lr.matches(`.${d.params.slideClass}, swiper-slide`)).forEach(lr=>{lr.remove()});else for(let lr=z;lr<=ne;lr+=1)if(lr<Xi||lr>Cn){const Ui=Ni(lr);d.slides.filter(Ns=>Ns.matches(`.${d.params.slideClass}[data-swiper-slide-index="${Ui}"], swiper-slide[data-swiper-slide-index="${Ui}"]`)).forEach(Ns=>{Ns.remove()})}const qs=Ze?2*G.length:G.length;for(let lr=Ze?-G.length:0;lr<qs;lr+=1)if(lr>=Xi&&lr<=Cn){const Ui=Ni(lr);typeof ne>"u"||et?fi.push(Ui):(lr>ne&&fi.push(Ui),lr<z&&as.push(Ui))}if(fi.forEach(lr=>{d.slidesEl.append(le(G[lr],lr))}),Ze)for(let lr=as.length-1;lr>=0;lr-=1){const Ui=as[lr];d.slidesEl.prepend(le(G[Ui],Ui))}else as.sort((lr,Ui)=>Ui-lr),as.forEach(lr=>{d.slidesEl.prepend(le(G[lr],lr))});Vt(d.slidesEl,".swiper-slide, swiper-slide").forEach(lr=>{lr.style[St]=Fn-Math.abs(d.cssOverflowAdjustment())+"px"}),Gi()}F("beforeInit",()=>{if(!d.params.virtual.enabled)return;let et;if(typeof d.passedParams.virtual.slides>"u"){const lt=[...d.slidesEl.children].filter(ct=>ct.matches(`.${d.params.slideClass}, swiper-slide`));lt&&lt.length&&(d.virtual.slides=[...lt],et=!0,lt.forEach((ct,Ue)=>{ct.setAttribute("data-swiper-slide-index",Ue),d.virtual.cache[Ue]=ct,ct.remove()}))}et||(d.virtual.slides=d.params.virtual.slides),d.classNames.push(`${d.params.containerModifierClass}virtual`),d.params.watchSlidesProgress=!0,d.originalParams.watchSlidesProgress=!0,Fe(!1,!0)}),F("setTranslate",()=>{d.params.virtual.enabled&&(d.params.cssMode&&!d._immediateVirtual?(clearTimeout(Z),Z=setTimeout(()=>{Fe()},100)):Fe())}),F("init update resize",()=>{d.params.virtual.enabled&&d.params.cssMode&&jt(d.wrapperEl,"--swiper-virtual-size",`${d.virtualSize}px`)}),Object.assign(d.virtual,{appendSlide:function fe(et){if("object"==typeof et&&"length"in et)for(let lt=0;lt<et.length;lt+=1)et[lt]&&d.virtual.slides.push(et[lt]);else d.virtual.slides.push(et);Fe(!0)},prependSlide:function he(et){const lt=d.activeIndex;let ct=lt+1,Ue=1;if(Array.isArray(et)){for(let dt=0;dt<et.length;dt+=1)et[dt]&&d.virtual.slides.unshift(et[dt]);ct=lt+et.length,Ue=et.length}else d.virtual.slides.unshift(et);if(d.params.virtual.cache){const dt=d.virtual.cache,Ze={};Object.keys(dt).forEach(Ht=>{const Rn=dt[Ht],X=Rn.getAttribute("data-swiper-slide-index");X&&Rn.setAttribute("data-swiper-slide-index",parseInt(X,10)+Ue),Ze[parseInt(Ht,10)+Ue]=Rn}),d.virtual.cache=Ze}Fe(!0),d.slideTo(ct,0)},removeSlide:function Me(et){if(typeof et>"u"||null===et)return;let lt=d.activeIndex;if(Array.isArray(et))for(let ct=et.length-1;ct>=0;ct-=1)d.params.virtual.cache&&(delete d.virtual.cache[et[ct]],Object.keys(d.virtual.cache).forEach(Ue=>{Ue>et&&(d.virtual.cache[Ue-1]=d.virtual.cache[Ue],d.virtual.cache[Ue-1].setAttribute("data-swiper-slide-index",Ue-1),delete d.virtual.cache[Ue])})),d.virtual.slides.splice(et[ct],1),et[ct]<lt&&(lt-=1),lt=Math.max(lt,0);else d.params.virtual.cache&&(delete d.virtual.cache[et],Object.keys(d.virtual.cache).forEach(ct=>{ct>et&&(d.virtual.cache[ct-1]=d.virtual.cache[ct],d.virtual.cache[ct-1].setAttribute("data-swiper-slide-index",ct-1),delete d.virtual.cache[ct])})),d.virtual.slides.splice(et,1),et<lt&&(lt-=1),lt=Math.max(lt,0);Fe(!0),d.slideTo(lt,0)},removeAllSlides:function Xe(){d.virtual.slides=[],d.params.virtual.cache&&(d.virtual.cache={}),Fe(!0),d.slideTo(0,0)},update:Fe})},function es(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z=Zt(),Se=rt();function Te(fe){if(!d.enabled)return;const{rtlTranslate:he}=d;let Me=fe;Me.originalEvent&&(Me=Me.originalEvent);const Xe=Me.keyCode||Me.charCode,et=d.params.keyboard.pageUpDown,lt=et&&33===Xe,ct=et&&34===Xe,Ue=37===Xe,dt=39===Xe,Ze=38===Xe,Ht=40===Xe;if(!d.allowSlideNext&&(d.isHorizontal()&&dt||d.isVertical()&&Ht||ct)||!d.allowSlidePrev&&(d.isHorizontal()&&Ue||d.isVertical()&&Ze||lt))return!1;if(!(Me.shiftKey||Me.altKey||Me.ctrlKey||Me.metaKey||Z.activeElement&&Z.activeElement.nodeName&&("input"===Z.activeElement.nodeName.toLowerCase()||"textarea"===Z.activeElement.nodeName.toLowerCase()))){if(d.params.keyboard.onlyInViewport&&(lt||ct||Ue||dt||Ze||Ht)){let Rn=!1;if(An(d.el,`.${d.params.slideClass}, swiper-slide`).length>0&&0===An(d.el,`.${d.params.slideActiveClass}`).length)return;const X=d.el,z=X.clientWidth,ne=X.clientHeight,G=Se.innerWidth,ce=Se.innerHeight,Dt=gt(X);he&&(Dt.left-=X.scrollLeft);const Ct=[[Dt.left,Dt.top],[Dt.left+z,Dt.top],[Dt.left,Dt.top+ne],[Dt.left+z,Dt.top+ne]];for(let St=0;St<Ct.length;St+=1){const yn=Ct[St];if(yn[0]>=0&&yn[0]<=G&&yn[1]>=0&&yn[1]<=ce){if(0===yn[0]&&0===yn[1])continue;Rn=!0}}if(!Rn)return}d.isHorizontal()?((lt||ct||Ue||dt)&&(Me.preventDefault?Me.preventDefault():Me.returnValue=!1),((ct||dt)&&!he||(lt||Ue)&&he)&&d.slideNext(),((lt||Ue)&&!he||(ct||dt)&&he)&&d.slidePrev()):((lt||ct||Ze||Ht)&&(Me.preventDefault?Me.preventDefault():Me.returnValue=!1),(ct||Ht)&&d.slideNext(),(lt||Ze)&&d.slidePrev()),ee("keyPress",Xe)}}function le(){d.keyboard.enabled||(Z.addEventListener("keydown",Te),d.keyboard.enabled=!0)}function Fe(){d.keyboard.enabled&&(Z.removeEventListener("keydown",Te),d.keyboard.enabled=!1)}d.keyboard={enabled:!1},N({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),F("init",()=>{d.params.keyboard.enabled&&le()}),F("destroy",()=>{d.keyboard.enabled&&Fe()}),Object.assign(d.keyboard,{enable:le,disable:Fe})},function $o(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z=rt();N({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),d.mousewheel={enabled:!1};let Se,le,Te=It();const Fe=[];function he(){d.enabled&&(d.mouseEntered=!0)}function Me(){d.enabled&&(d.mouseEntered=!1)}function Xe(Ze){return!(d.params.mousewheel.thresholdDelta&&Ze.delta<d.params.mousewheel.thresholdDelta||d.params.mousewheel.thresholdTime&&It()-Te<d.params.mousewheel.thresholdTime)&&(Ze.delta>=6&&It()-Te<60||(Ze.direction<0?(!d.isEnd||d.params.loop)&&!d.animating&&(d.slideNext(),ee("scroll",Ze.raw)):(!d.isBeginning||d.params.loop)&&!d.animating&&(d.slidePrev(),ee("scroll",Ze.raw)),Te=(new Z.Date).getTime(),!1))}function lt(Ze){let Ht=Ze,Rn=!0;if(!d.enabled||Ze.target.closest(`.${d.params.mousewheel.noMousewheelClass}`))return;const X=d.params.mousewheel;d.params.cssMode&&Ht.preventDefault();let z=d.el;"container"!==d.params.mousewheel.eventsTarget&&(z=document.querySelector(d.params.mousewheel.eventsTarget));const ne=z&&z.contains(Ht.target);if(!d.mouseEntered&&!ne&&!X.releaseOnEdges)return!0;Ht.originalEvent&&(Ht=Ht.originalEvent);let G=0;const ce=d.rtlTranslate?-1:1,Dt=function fe(Ze){let z=0,ne=0,G=0,ce=0;return"detail"in Ze&&(ne=Ze.detail),"wheelDelta"in Ze&&(ne=-Ze.wheelDelta/120),"wheelDeltaY"in Ze&&(ne=-Ze.wheelDeltaY/120),"wheelDeltaX"in Ze&&(z=-Ze.wheelDeltaX/120),"axis"in Ze&&Ze.axis===Ze.HORIZONTAL_AXIS&&(z=ne,ne=0),G=10*z,ce=10*ne,"deltaY"in Ze&&(ce=Ze.deltaY),"deltaX"in Ze&&(G=Ze.deltaX),Ze.shiftKey&&!G&&(G=ce,ce=0),(G||ce)&&Ze.deltaMode&&(1===Ze.deltaMode?(G*=40,ce*=40):(G*=800,ce*=800)),G&&!z&&(z=G<1?-1:1),ce&&!ne&&(ne=ce<1?-1:1),{spinX:z,spinY:ne,pixelX:G,pixelY:ce}}(Ht);if(X.forceToAxis)if(d.isHorizontal()){if(!(Math.abs(Dt.pixelX)>Math.abs(Dt.pixelY)))return!0;G=-Dt.pixelX*ce}else{if(!(Math.abs(Dt.pixelY)>Math.abs(Dt.pixelX)))return!0;G=-Dt.pixelY}else G=Math.abs(Dt.pixelX)>Math.abs(Dt.pixelY)?-Dt.pixelX*ce:-Dt.pixelY;if(0===G)return!0;X.invert&&(G=-G);let Ct=d.getTranslate()+G*X.sensitivity;if(Ct>=d.minTranslate()&&(Ct=d.minTranslate()),Ct<=d.maxTranslate()&&(Ct=d.maxTranslate()),Rn=!!d.params.loop||!(Ct===d.minTranslate()||Ct===d.maxTranslate()),Rn&&d.params.nested&&Ht.stopPropagation(),d.params.freeMode&&d.params.freeMode.enabled){const St={time:It(),delta:Math.abs(G),direction:Math.sign(G)},yn=le&&St.time<le.time+500&&St.delta<=le.delta&&St.direction===le.direction;if(!yn){le=void 0;let ai=d.getTranslate()+G*X.sensitivity;const Xi=d.isBeginning,Cn=d.isEnd;if(ai>=d.minTranslate()&&(ai=d.minTranslate()),ai<=d.maxTranslate()&&(ai=d.maxTranslate()),d.setTransition(0),d.setTranslate(ai),d.updateProgress(),d.updateActiveIndex(),d.updateSlidesClasses(),(!Xi&&d.isBeginning||!Cn&&d.isEnd)&&d.updateSlidesClasses(),d.params.loop&&d.loopFix({direction:St.direction<0?"next":"prev",byMousewheel:!0}),d.params.freeMode.sticky){clearTimeout(Se),Se=void 0,Fe.length>=15&&Fe.shift();const Fn=Fe.length?Fe[Fe.length-1]:void 0,Gi=Fe[0];if(Fe.push(St),Fn&&(St.delta>Fn.delta||St.direction!==Fn.direction))Fe.splice(0);else if(Fe.length>=15&&St.time-Gi.time<500&&Gi.delta-St.delta>=1&&St.delta<=6){const as=G>0?.8:.2;le=St,Fe.splice(0),Se=pt(()=>{d.slideToClosest(d.params.speed,!0,void 0,as)},0)}Se||(Se=pt(()=>{le=St,Fe.splice(0),d.slideToClosest(d.params.speed,!0,void 0,.5)},500))}if(yn||ee("scroll",Ht),d.params.autoplay&&d.params.autoplayDisableOnInteraction&&d.autoplay.stop(),X.releaseOnEdges&&(ai===d.minTranslate()||ai===d.maxTranslate()))return!0}}else{const St={time:It(),delta:Math.abs(G),direction:Math.sign(G),raw:Ze};Fe.length>=2&&Fe.shift();const yn=Fe.length?Fe[Fe.length-1]:void 0;if(Fe.push(St),yn?(St.direction!==yn.direction||St.delta>yn.delta||St.time>yn.time+150)&&Xe(St):Xe(St),function et(Ze){const Ht=d.params.mousewheel;if(Ze.direction<0){if(d.isEnd&&!d.params.loop&&Ht.releaseOnEdges)return!0}else if(d.isBeginning&&!d.params.loop&&Ht.releaseOnEdges)return!0;return!1}(St))return!0}return Ht.preventDefault?Ht.preventDefault():Ht.returnValue=!1,!1}function ct(Ze){let Ht=d.el;"container"!==d.params.mousewheel.eventsTarget&&(Ht=document.querySelector(d.params.mousewheel.eventsTarget)),Ht[Ze]("mouseenter",he),Ht[Ze]("mouseleave",Me),Ht[Ze]("wheel",lt)}function Ue(){return d.params.cssMode?(d.wrapperEl.removeEventListener("wheel",lt),!0):!d.mousewheel.enabled&&(ct("addEventListener"),d.mousewheel.enabled=!0,!0)}function dt(){return d.params.cssMode?(d.wrapperEl.addEventListener(event,lt),!0):!!d.mousewheel.enabled&&(ct("removeEventListener"),d.mousewheel.enabled=!1,!0)}F("init",()=>{!d.params.mousewheel.enabled&&d.params.cssMode&&dt(),d.params.mousewheel.enabled&&Ue()}),F("destroy",()=>{d.params.cssMode&&Ue(),d.mousewheel.enabled&&dt()}),Object.assign(d.mousewheel,{enable:Ue,disable:dt})},function Uo(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;function Z(et){let lt;return et&&"string"==typeof et&&d.isElement&&(lt=d.el.querySelector(et),lt)?lt:(et&&("string"==typeof et&&(lt=[...document.querySelectorAll(et)]),d.params.uniqueNavElements&&"string"==typeof et&&lt&&lt.length>1&&1===d.el.querySelectorAll(et).length?lt=d.el.querySelector(et):lt&&1===lt.length&&(lt=lt[0])),et&&!lt?et:lt)}function Se(et,lt){const ct=d.params.navigation;(et=Ke(et)).forEach(Ue=>{Ue&&(Ue.classList[lt?"add":"remove"](...ct.disabledClass.split(" ")),"BUTTON"===Ue.tagName&&(Ue.disabled=lt),d.params.watchOverflow&&d.enabled&&Ue.classList[d.isLocked?"add":"remove"](ct.lockClass))})}function Te(){const{nextEl:et,prevEl:lt}=d.navigation;if(d.params.loop)return Se(lt,!1),void Se(et,!1);Se(lt,d.isBeginning&&!d.params.rewind),Se(et,d.isEnd&&!d.params.rewind)}function le(et){et.preventDefault(),(!d.isBeginning||d.params.loop||d.params.rewind)&&(d.slidePrev(),ee("navigationPrev"))}function Fe(et){et.preventDefault(),(!d.isEnd||d.params.loop||d.params.rewind)&&(d.slideNext(),ee("navigationNext"))}function fe(){const et=d.params.navigation;if(d.params.navigation=bo(d,d.originalParams.navigation,d.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!et.nextEl&&!et.prevEl)return;let lt=Z(et.nextEl),ct=Z(et.prevEl);Object.assign(d.navigation,{nextEl:lt,prevEl:ct}),lt=Ke(lt),ct=Ke(ct);const Ue=(dt,Ze)=>{dt&&dt.addEventListener("click","next"===Ze?Fe:le),!d.enabled&&dt&&dt.classList.add(...et.lockClass.split(" "))};lt.forEach(dt=>Ue(dt,"next")),ct.forEach(dt=>Ue(dt,"prev"))}function he(){let{nextEl:et,prevEl:lt}=d.navigation;et=Ke(et),lt=Ke(lt);const ct=(Ue,dt)=>{Ue.removeEventListener("click","next"===dt?Fe:le),Ue.classList.remove(...d.params.navigation.disabledClass.split(" "))};et.forEach(Ue=>ct(Ue,"next")),lt.forEach(Ue=>ct(Ue,"prev"))}N({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),d.navigation={nextEl:null,prevEl:null},F("init",()=>{!1===d.params.navigation.enabled?Xe():(fe(),Te())}),F("toEdge fromEdge lock unlock",()=>{Te()}),F("destroy",()=>{he()}),F("enable disable",()=>{let{nextEl:et,prevEl:lt}=d.navigation;et=Ke(et),lt=Ke(lt),d.enabled?Te():[...et,...lt].filter(ct=>!!ct).forEach(ct=>ct.classList.add(d.params.navigation.lockClass))}),F("click",(et,lt)=>{let{nextEl:ct,prevEl:Ue}=d.navigation;ct=Ke(ct),Ue=Ke(Ue);const dt=lt.target;if(d.params.navigation.hideOnClick&&!Ue.includes(dt)&&!ct.includes(dt)){if(d.pagination&&d.params.pagination&&d.params.pagination.clickable&&(d.pagination.el===dt||d.pagination.el.contains(dt)))return;let Ze;ct.length?Ze=ct[0].classList.contains(d.params.navigation.hiddenClass):Ue.length&&(Ze=Ue[0].classList.contains(d.params.navigation.hiddenClass)),ee(!0===Ze?"navigationShow":"navigationHide"),[...ct,...Ue].filter(Ht=>!!Ht).forEach(Ht=>Ht.classList.toggle(d.params.navigation.hiddenClass))}});const Xe=()=>{d.el.classList.add(...d.params.navigation.navigationDisabledClass.split(" ")),he()};Object.assign(d.navigation,{enable:()=>{d.el.classList.remove(...d.params.navigation.navigationDisabledClass.split(" ")),fe(),Te()},disable:Xe,update:Te,init:fe,destroy:he})},function As(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z="swiper-pagination";N({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:Ue=>Ue,formatFractionTotal:Ue=>Ue,bulletClass:`${Z}-bullet`,bulletActiveClass:`${Z}-bullet-active`,modifierClass:`${Z}-`,currentClass:`${Z}-current`,totalClass:`${Z}-total`,hiddenClass:`${Z}-hidden`,progressbarFillClass:`${Z}-progressbar-fill`,progressbarOppositeClass:`${Z}-progressbar-opposite`,clickableClass:`${Z}-clickable`,lockClass:`${Z}-lock`,horizontalClass:`${Z}-horizontal`,verticalClass:`${Z}-vertical`,paginationDisabledClass:`${Z}-disabled`}}),d.pagination={el:null,bullets:[]};let Se,Te=0;function le(){return!d.params.pagination.el||!d.pagination.el||Array.isArray(d.pagination.el)&&0===d.pagination.el.length}function Fe(Ue,dt){const{bulletActiveClass:Ze}=d.params.pagination;Ue&&(Ue=Ue[("prev"===dt?"previous":"next")+"ElementSibling"])&&(Ue.classList.add(`${Ze}-${dt}`),(Ue=Ue[("prev"===dt?"previous":"next")+"ElementSibling"])&&Ue.classList.add(`${Ze}-${dt}-${dt}`))}function fe(Ue){const dt=Ue.target.closest(us(d.params.pagination.bulletClass));if(!dt)return;Ue.preventDefault();const Ze=Ci(dt)*d.params.slidesPerGroup;if(d.params.loop){if(d.realIndex===Ze)return;d.slideToLoop(Ze)}else d.slideTo(Ze)}function he(){const Ue=d.rtl,dt=d.params.pagination;if(le())return;let Ht,Rn,Ze=d.pagination.el;Ze=Ke(Ze);const z=d.params.loop?Math.ceil((d.virtual&&d.params.virtual.enabled?d.virtual.slides.length:d.slides.length)/d.params.slidesPerGroup):d.snapGrid.length;if(d.params.loop?(Rn=d.previousRealIndex||0,Ht=d.params.slidesPerGroup>1?Math.floor(d.realIndex/d.params.slidesPerGroup):d.realIndex):typeof d.snapIndex<"u"?(Ht=d.snapIndex,Rn=d.previousSnapIndex):(Rn=d.previousIndex||0,Ht=d.activeIndex||0),"bullets"===dt.type&&d.pagination.bullets&&d.pagination.bullets.length>0){const ne=d.pagination.bullets;let G,ce,Dt;if(dt.dynamicBullets&&(Se=hn(ne[0],d.isHorizontal()?"width":"height",!0),Ze.forEach(Ct=>{Ct.style[d.isHorizontal()?"width":"height"]=Se*(dt.dynamicMainBullets+4)+"px"}),dt.dynamicMainBullets>1&&void 0!==Rn&&(Te+=Ht-(Rn||0),Te>dt.dynamicMainBullets-1?Te=dt.dynamicMainBullets-1:Te<0&&(Te=0)),G=Math.max(Ht-Te,0),ce=G+(Math.min(ne.length,dt.dynamicMainBullets)-1),Dt=(ce+G)/2),ne.forEach(Ct=>{const St=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(yn=>`${dt.bulletActiveClass}${yn}`)].map(yn=>"string"==typeof yn&&yn.includes(" ")?yn.split(" "):yn).flat();Ct.classList.remove(...St)}),Ze.length>1)ne.forEach(Ct=>{const St=Ci(Ct);St===Ht?Ct.classList.add(...dt.bulletActiveClass.split(" ")):d.isElement&&Ct.setAttribute("part","bullet"),dt.dynamicBullets&&(St>=G&&St<=ce&&Ct.classList.add(...`${dt.bulletActiveClass}-main`.split(" ")),St===G&&Fe(Ct,"prev"),St===ce&&Fe(Ct,"next"))});else{const Ct=ne[Ht];if(Ct&&Ct.classList.add(...dt.bulletActiveClass.split(" ")),d.isElement&&ne.forEach((St,yn)=>{St.setAttribute("part",yn===Ht?"bullet-active":"bullet")}),dt.dynamicBullets){const St=ne[G],yn=ne[ce];for(let ai=G;ai<=ce;ai+=1)ne[ai]&&ne[ai].classList.add(...`${dt.bulletActiveClass}-main`.split(" "));Fe(St,"prev"),Fe(yn,"next")}}if(dt.dynamicBullets){const Ct=Math.min(ne.length,dt.dynamicMainBullets+4),St=(Se*Ct-Se)/2-Dt*Se,yn=Ue?"right":"left";ne.forEach(ai=>{ai.style[d.isHorizontal()?yn:"top"]=`${St}px`})}}Ze.forEach((ne,G)=>{if("fraction"===dt.type&&(ne.querySelectorAll(us(dt.currentClass)).forEach(ce=>{ce.textContent=dt.formatFractionCurrent(Ht+1)}),ne.querySelectorAll(us(dt.totalClass)).forEach(ce=>{ce.textContent=dt.formatFractionTotal(z)})),"progressbar"===dt.type){let ce;ce=dt.progressbarOpposite?d.isHorizontal()?"vertical":"horizontal":d.isHorizontal()?"horizontal":"vertical";const Dt=(Ht+1)/z;let Ct=1,St=1;"horizontal"===ce?Ct=Dt:St=Dt,ne.querySelectorAll(us(dt.progressbarFillClass)).forEach(yn=>{yn.style.transform=`translate3d(0,0,0) scaleX(${Ct}) scaleY(${St})`,yn.style.transitionDuration=`${d.params.speed}ms`})}"custom"===dt.type&&dt.renderCustom?(ne.innerHTML=dt.renderCustom(d,Ht+1,z),0===G&&ee("paginationRender",ne)):(0===G&&ee("paginationRender",ne),ee("paginationUpdate",ne)),d.params.watchOverflow&&d.enabled&&ne.classList[d.isLocked?"add":"remove"](dt.lockClass)})}function Me(){const Ue=d.params.pagination;if(le())return;const dt=d.virtual&&d.params.virtual.enabled?d.virtual.slides.length:d.grid&&d.params.grid.rows>1?d.slides.length/Math.ceil(d.params.grid.rows):d.slides.length;let Ze=d.pagination.el;Ze=Ke(Ze);let Ht="";if("bullets"===Ue.type){let Rn=d.params.loop?Math.ceil(dt/d.params.slidesPerGroup):d.snapGrid.length;d.params.freeMode&&d.params.freeMode.enabled&&Rn>dt&&(Rn=dt);for(let X=0;X<Rn;X+=1)Ht+=Ue.renderBullet?Ue.renderBullet.call(d,X,Ue.bulletClass):`<${Ue.bulletElement} ${d.isElement?'part="bullet"':""} class="${Ue.bulletClass}"></${Ue.bulletElement}>`}"fraction"===Ue.type&&(Ht=Ue.renderFraction?Ue.renderFraction.call(d,Ue.currentClass,Ue.totalClass):`<span class="${Ue.currentClass}"></span> / <span class="${Ue.totalClass}"></span>`),"progressbar"===Ue.type&&(Ht=Ue.renderProgressbar?Ue.renderProgressbar.call(d,Ue.progressbarFillClass):`<span class="${Ue.progressbarFillClass}"></span>`),d.pagination.bullets=[],Ze.forEach(Rn=>{"custom"!==Ue.type&&(Rn.innerHTML=Ht||""),"bullets"===Ue.type&&d.pagination.bullets.push(...Rn.querySelectorAll(us(Ue.bulletClass)))}),"custom"!==Ue.type&&ee("paginationRender",Ze[0])}function Xe(){d.params.pagination=bo(d,d.originalParams.pagination,d.params.pagination,{el:"swiper-pagination"});const Ue=d.params.pagination;if(!Ue.el)return;let dt;"string"==typeof Ue.el&&d.isElement&&(dt=d.el.querySelector(Ue.el)),!dt&&"string"==typeof Ue.el&&(dt=[...document.querySelectorAll(Ue.el)]),dt||(dt=Ue.el),dt&&0!==dt.length&&(d.params.uniqueNavElements&&"string"==typeof Ue.el&&Array.isArray(dt)&&dt.length>1&&(dt=[...d.el.querySelectorAll(Ue.el)],dt.length>1&&(dt=dt.filter(Ze=>An(Ze,".swiper")[0]===d.el)[0])),Array.isArray(dt)&&1===dt.length&&(dt=dt[0]),Object.assign(d.pagination,{el:dt}),dt=Ke(dt),dt.forEach(Ze=>{"bullets"===Ue.type&&Ue.clickable&&Ze.classList.add(...(Ue.clickableClass||"").split(" ")),Ze.classList.add(Ue.modifierClass+Ue.type),Ze.classList.add(d.isHorizontal()?Ue.horizontalClass:Ue.verticalClass),"bullets"===Ue.type&&Ue.dynamicBullets&&(Ze.classList.add(`${Ue.modifierClass}${Ue.type}-dynamic`),Te=0,Ue.dynamicMainBullets<1&&(Ue.dynamicMainBullets=1)),"progressbar"===Ue.type&&Ue.progressbarOpposite&&Ze.classList.add(Ue.progressbarOppositeClass),Ue.clickable&&Ze.addEventListener("click",fe),d.enabled||Ze.classList.add(Ue.lockClass)}))}function et(){const Ue=d.params.pagination;if(le())return;let dt=d.pagination.el;dt&&(dt=Ke(dt),dt.forEach(Ze=>{Ze.classList.remove(Ue.hiddenClass),Ze.classList.remove(Ue.modifierClass+Ue.type),Ze.classList.remove(d.isHorizontal()?Ue.horizontalClass:Ue.verticalClass),Ue.clickable&&(Ze.classList.remove(...(Ue.clickableClass||"").split(" ")),Ze.removeEventListener("click",fe))})),d.pagination.bullets&&d.pagination.bullets.forEach(Ze=>Ze.classList.remove(...Ue.bulletActiveClass.split(" ")))}F("changeDirection",()=>{if(!d.pagination||!d.pagination.el)return;const Ue=d.params.pagination;let{el:dt}=d.pagination;dt=Ke(dt),dt.forEach(Ze=>{Ze.classList.remove(Ue.horizontalClass,Ue.verticalClass),Ze.classList.add(d.isHorizontal()?Ue.horizontalClass:Ue.verticalClass)})}),F("init",()=>{!1===d.params.pagination.enabled?ct():(Xe(),Me(),he())}),F("activeIndexChange",()=>{typeof d.snapIndex>"u"&&he()}),F("snapIndexChange",()=>{he()}),F("snapGridLengthChange",()=>{Me(),he()}),F("destroy",()=>{et()}),F("enable disable",()=>{let{el:Ue}=d.pagination;Ue&&(Ue=Ke(Ue),Ue.forEach(dt=>dt.classList[d.enabled?"remove":"add"](d.params.pagination.lockClass)))}),F("lock unlock",()=>{he()}),F("click",(Ue,dt)=>{const Ze=dt.target,Ht=Ke(d.pagination.el);if(d.params.pagination.el&&d.params.pagination.hideOnClick&&Ht&&Ht.length>0&&!Ze.classList.contains(d.params.pagination.bulletClass)){if(d.navigation&&(d.navigation.nextEl&&Ze===d.navigation.nextEl||d.navigation.prevEl&&Ze===d.navigation.prevEl))return;const Rn=Ht[0].classList.contains(d.params.pagination.hiddenClass);ee(!0===Rn?"paginationShow":"paginationHide"),Ht.forEach(X=>X.classList.toggle(d.params.pagination.hiddenClass))}});const ct=()=>{d.el.classList.add(d.params.pagination.paginationDisabledClass);let{el:Ue}=d.pagination;Ue&&(Ue=Ke(Ue),Ue.forEach(dt=>dt.classList.add(d.params.pagination.paginationDisabledClass))),et()};Object.assign(d.pagination,{enable:()=>{d.el.classList.remove(d.params.pagination.paginationDisabledClass);let{el:Ue}=d.pagination;Ue&&(Ue=Ke(Ue),Ue.forEach(dt=>dt.classList.remove(d.params.pagination.paginationDisabledClass))),Xe(),Me(),he()},disable:ct,render:Me,update:he,init:Xe,destroy:et})},function Ko(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z=Zt();let Fe,fe,he,Me,Se=!1,Te=null,le=null;function Xe(){if(!d.params.scrollbar.el||!d.scrollbar.el)return;const{scrollbar:Ct,rtlTranslate:St}=d,{dragEl:yn,el:ai}=Ct,Xi=d.params.scrollbar;let Fn=fe,Gi=(he-fe)*(d.params.loop?d.progressLoop:d.progress);St?(Gi=-Gi,Gi>0?(Fn=fe-Gi,Gi=0):-Gi+fe>he&&(Fn=he+Gi)):Gi<0?(Fn=fe+Gi,Gi=0):Gi+fe>he&&(Fn=he-Gi),d.isHorizontal()?(yn.style.transform=`translate3d(${Gi}px, 0, 0)`,yn.style.width=`${Fn}px`):(yn.style.transform=`translate3d(0px, ${Gi}px, 0)`,yn.style.height=`${Fn}px`),Xi.hide&&(clearTimeout(Te),ai.style.opacity=1,Te=setTimeout(()=>{ai.style.opacity=0,ai.style.transitionDuration="400ms"},1e3))}function lt(){if(!d.params.scrollbar.el||!d.scrollbar.el)return;const{scrollbar:Ct}=d,{dragEl:St,el:yn}=Ct;St.style.width="",St.style.height="",he=d.isHorizontal()?yn.offsetWidth:yn.offsetHeight,Me=d.size/(d.virtualSize+d.params.slidesOffsetBefore-(d.params.centeredSlides?d.snapGrid[0]:0)),fe="auto"===d.params.scrollbar.dragSize?he*Me:parseInt(d.params.scrollbar.dragSize,10),d.isHorizontal()?St.style.width=`${fe}px`:St.style.height=`${fe}px`,yn.style.display=Me>=1?"none":"",d.params.scrollbar.hide&&(yn.style.opacity=0),d.params.watchOverflow&&d.enabled&&Ct.el.classList[d.isLocked?"add":"remove"](d.params.scrollbar.lockClass)}function ct(Ct){return d.isHorizontal()?Ct.clientX:Ct.clientY}function Ue(Ct){const{scrollbar:St,rtlTranslate:yn}=d,{el:ai}=St;let Xi;Xi=(ct(Ct)-gt(ai)[d.isHorizontal()?"left":"top"]-(null!==Fe?Fe:fe/2))/(he-fe),Xi=Math.max(Math.min(Xi,1),0),yn&&(Xi=1-Xi);const Cn=d.minTranslate()+(d.maxTranslate()-d.minTranslate())*Xi;d.updateProgress(Cn),d.setTranslate(Cn),d.updateActiveIndex(),d.updateSlidesClasses()}function dt(Ct){const St=d.params.scrollbar,{scrollbar:yn,wrapperEl:ai}=d,{el:Xi,dragEl:Cn}=yn;Se=!0,Fe=Ct.target===Cn?ct(Ct)-Ct.target.getBoundingClientRect()[d.isHorizontal()?"left":"top"]:null,Ct.preventDefault(),Ct.stopPropagation(),ai.style.transitionDuration="100ms",Cn.style.transitionDuration="100ms",Ue(Ct),clearTimeout(le),Xi.style.transitionDuration="0ms",St.hide&&(Xi.style.opacity=1),d.params.cssMode&&(d.wrapperEl.style["scroll-snap-type"]="none"),ee("scrollbarDragStart",Ct)}function Ze(Ct){const{scrollbar:St,wrapperEl:yn}=d,{el:ai,dragEl:Xi}=St;Se&&(Ct.preventDefault&&Ct.cancelable?Ct.preventDefault():Ct.returnValue=!1,Ue(Ct),yn.style.transitionDuration="0ms",ai.style.transitionDuration="0ms",Xi.style.transitionDuration="0ms",ee("scrollbarDragMove",Ct))}function Ht(Ct){const St=d.params.scrollbar,{scrollbar:yn,wrapperEl:ai}=d,{el:Xi}=yn;Se&&(Se=!1,d.params.cssMode&&(d.wrapperEl.style["scroll-snap-type"]="",ai.style.transitionDuration=""),St.hide&&(clearTimeout(le),le=pt(()=>{Xi.style.opacity=0,Xi.style.transitionDuration="400ms"},1e3)),ee("scrollbarDragEnd",Ct),St.snapOnRelease&&d.slideToClosest())}function Rn(Ct){const{scrollbar:St,params:yn}=d,ai=St.el;if(!ai)return;const Cn=!!yn.passiveListeners&&{passive:!1,capture:!1},Fn=!!yn.passiveListeners&&{passive:!0,capture:!1};if(!ai)return;const Gi="on"===Ct?"addEventListener":"removeEventListener";ai[Gi]("pointerdown",dt,Cn),Z[Gi]("pointermove",Ze,Cn),Z[Gi]("pointerup",Ht,Fn)}function ne(){const{scrollbar:Ct,el:St}=d;d.params.scrollbar=bo(d,d.originalParams.scrollbar,d.params.scrollbar,{el:"swiper-scrollbar"});const yn=d.params.scrollbar;if(!yn.el)return;let ai,Xi;if("string"==typeof yn.el&&d.isElement&&(ai=d.el.querySelector(yn.el)),ai||"string"!=typeof yn.el)ai||(ai=yn.el);else if(ai=Z.querySelectorAll(yn.el),!ai.length)return;d.params.uniqueNavElements&&"string"==typeof yn.el&&ai.length>1&&1===St.querySelectorAll(yn.el).length&&(ai=St.querySelector(yn.el)),ai.length>0&&(ai=ai[0]),ai.classList.add(d.isHorizontal()?yn.horizontalClass:yn.verticalClass),ai&&(Xi=ai.querySelector(us(d.params.scrollbar.dragClass)),Xi||(Xi=en("div",d.params.scrollbar.dragClass),ai.append(Xi))),Object.assign(Ct,{el:ai,dragEl:Xi}),yn.draggable&&function X(){!d.params.scrollbar.el||!d.scrollbar.el||Rn("on")}(),ai&&ai.classList[d.enabled?"remove":"add"](...At(d.params.scrollbar.lockClass))}function G(){const Ct=d.params.scrollbar,St=d.scrollbar.el;St&&St.classList.remove(...At(d.isHorizontal()?Ct.horizontalClass:Ct.verticalClass)),function z(){!d.params.scrollbar.el||!d.scrollbar.el||Rn("off")}()}N({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),d.scrollbar={el:null,dragEl:null},F("changeDirection",()=>{if(!d.scrollbar||!d.scrollbar.el)return;const Ct=d.params.scrollbar;let{el:St}=d.scrollbar;St=Ke(St),St.forEach(yn=>{yn.classList.remove(Ct.horizontalClass,Ct.verticalClass),yn.classList.add(d.isHorizontal()?Ct.horizontalClass:Ct.verticalClass)})}),F("init",()=>{!1===d.params.scrollbar.enabled?Dt():(ne(),lt(),Xe())}),F("update resize observerUpdate lock unlock changeDirection",()=>{lt()}),F("setTranslate",()=>{Xe()}),F("setTransition",(Ct,St)=>{!function et(Ct){!d.params.scrollbar.el||!d.scrollbar.el||(d.scrollbar.dragEl.style.transitionDuration=`${Ct}ms`)}(St)}),F("enable disable",()=>{const{el:Ct}=d.scrollbar;Ct&&Ct.classList[d.enabled?"remove":"add"](...At(d.params.scrollbar.lockClass))}),F("destroy",()=>{G()});const Dt=()=>{d.el.classList.add(...At(d.params.scrollbar.scrollbarDisabledClass)),d.scrollbar.el&&d.scrollbar.el.classList.add(...At(d.params.scrollbar.scrollbarDisabledClass)),G()};Object.assign(d.scrollbar,{enable:()=>{d.el.classList.remove(...At(d.params.scrollbar.scrollbarDisabledClass)),d.scrollbar.el&&d.scrollbar.el.classList.remove(...At(d.params.scrollbar.scrollbarDisabledClass)),ne(),lt(),Xe()},disable:Dt,updateSize:lt,setTranslate:Xe,init:ne,destroy:G})},function Cr(D){let{swiper:d,extendParams:N,on:F}=D;N({parallax:{enabled:!1}});const ee="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",Z=(le,Fe)=>{const{rtl:fe}=d,he=fe?-1:1,Me=le.getAttribute("data-swiper-parallax")||"0";let Xe=le.getAttribute("data-swiper-parallax-x"),et=le.getAttribute("data-swiper-parallax-y");const lt=le.getAttribute("data-swiper-parallax-scale"),ct=le.getAttribute("data-swiper-parallax-opacity"),Ue=le.getAttribute("data-swiper-parallax-rotate");if(Xe||et?(Xe=Xe||"0",et=et||"0"):d.isHorizontal()?(Xe=Me,et="0"):(et=Me,Xe="0"),Xe=Xe.indexOf("%")>=0?parseInt(Xe,10)*Fe*he+"%":Xe*Fe*he+"px",et=et.indexOf("%")>=0?parseInt(et,10)*Fe+"%":et*Fe+"px",typeof ct<"u"&&null!==ct){const Ze=ct-(ct-1)*(1-Math.abs(Fe));le.style.opacity=Ze}let dt=`translate3d(${Xe}, ${et}, 0px)`;typeof lt<"u"&&null!==lt&&(dt+=` scale(${lt-(lt-1)*(1-Math.abs(Fe))})`),Ue&&typeof Ue<"u"&&null!==Ue&&(dt+=` rotate(${Ue*Fe*-1}deg)`),le.style.transform=dt},Se=()=>{const{el:le,slides:Fe,progress:fe,snapGrid:he}=d,Xe=Vt(le,ee);d.isElement&&Xe.push(...Vt(d.hostEl,ee)),Xe.forEach(et=>{Z(et,fe)}),Fe.forEach((et,lt)=>{let ct=et.progress;d.params.slidesPerGroup>1&&"auto"!==d.params.slidesPerView&&(ct+=Math.ceil(lt/2)-fe*(he.length-1)),ct=Math.min(Math.max(ct,-1),1),et.querySelectorAll(`${ee}, [data-swiper-parallax-rotate]`).forEach(Ue=>{Z(Ue,ct)})})};F("beforeInit",()=>{d.params.parallax.enabled&&(d.params.watchSlidesProgress=!0,d.originalParams.watchSlidesProgress=!0)}),F("init",()=>{d.params.parallax.enabled&&Se()}),F("setTranslate",()=>{d.params.parallax.enabled&&Se()}),F("setTransition",(le,Fe)=>{d.params.parallax.enabled&&function(le){void 0===le&&(le=d.params.speed);const{el:Fe,hostEl:fe}=d,he=[...Fe.querySelectorAll(ee)];d.isElement&&he.push(...fe.querySelectorAll(ee)),he.forEach(Me=>{let Xe=parseInt(Me.getAttribute("data-swiper-parallax-duration"),10)||le;0===le&&(Xe=0),Me.style.transitionDuration=`${Xe}ms`})}(Fe)})},function Ro(D){let{swiper:d,extendParams:N,on:F,emit:ee}=D;const Z=rt();N({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),d.zoom={enabled:!1};let le,Fe,Se=1,Te=!1;const fe=[],he={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},Me={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},Xe={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let ne,et=1;function lt(){return fe.length<2?1:Math.sqrt((fe[1].pageX-fe[0].pageX)**2+(fe[1].pageY-fe[0].pageY)**2)}function ct(){const fi=d.params.zoom,Ni=he.imageWrapEl.getAttribute("data-swiper-zoom")||fi.maxRatio;return fi.limitToOriginalSize&&he.imageEl&&he.imageEl.naturalWidth?Math.min(he.imageEl.naturalWidth/he.imageEl.offsetWidth,Ni):Ni}function Ze(fi){const Ni=function dt(){return d.isElement?"swiper-slide":`.${d.params.slideClass}`}();return!!(fi.target.matches(Ni)||d.slides.filter(ki=>ki.contains(fi.target)).length>0)}function Rn(fi){if("mouse"===fi.pointerType&&fe.splice(0,fe.length),!Ze(fi))return;const Ni=d.params.zoom;if(le=!1,Fe=!1,fe.push(fi),!(fe.length<2)){if(le=!0,he.scaleStart=lt(),!he.slideEl){he.slideEl=fi.target.closest(`.${d.params.slideClass}, swiper-slide`),he.slideEl||(he.slideEl=d.slides[d.activeIndex]);let ki=he.slideEl.querySelector(`.${Ni.containerClass}`);if(ki&&(ki=ki.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),he.imageEl=ki,he.imageWrapEl=ki?An(he.imageEl,`.${Ni.containerClass}`)[0]:void 0,!he.imageWrapEl)return void(he.imageEl=void 0);he.maxRatio=ct()}if(he.imageEl){const[ki,qs]=function Ue(){if(fe.length<2)return{x:null,y:null};const fi=he.imageEl.getBoundingClientRect();return[(fe[0].pageX+(fe[1].pageX-fe[0].pageX)/2-fi.x-Z.scrollX)/Se,(fe[0].pageY+(fe[1].pageY-fe[0].pageY)/2-fi.y-Z.scrollY)/Se]}();he.originX=ki,he.originY=qs,he.imageEl.style.transitionDuration="0ms"}Te=!0}}function X(fi){if(!Ze(fi))return;const Ni=d.params.zoom,ki=d.zoom,qs=fe.findIndex(lr=>lr.pointerId===fi.pointerId);qs>=0&&(fe[qs]=fi),!(fe.length<2)&&(Fe=!0,he.scaleMove=lt(),he.imageEl&&(ki.scale=he.scaleMove/he.scaleStart*Se,ki.scale>he.maxRatio&&(ki.scale=he.maxRatio-1+(ki.scale-he.maxRatio+1)**.5),ki.scale<Ni.minRatio&&(ki.scale=Ni.minRatio+1-(Ni.minRatio-ki.scale+1)**.5),he.imageEl.style.transform=`translate3d(0,0,0) scale(${ki.scale})`))}function z(fi){if(!Ze(fi)||"mouse"===fi.pointerType&&"pointerout"===fi.type)return;const Ni=d.params.zoom,ki=d.zoom,qs=fe.findIndex(lr=>lr.pointerId===fi.pointerId);qs>=0&&fe.splice(qs,1),le&&Fe&&(le=!1,Fe=!1,he.imageEl&&(ki.scale=Math.max(Math.min(ki.scale,he.maxRatio),Ni.minRatio),he.imageEl.style.transitionDuration=`${d.params.speed}ms`,he.imageEl.style.transform=`translate3d(0,0,0) scale(${ki.scale})`,Se=ki.scale,Te=!1,ki.scale>1&&he.slideEl?he.slideEl.classList.add(`${Ni.zoomedSlideClass}`):ki.scale<=1&&he.slideEl&&he.slideEl.classList.remove(`${Ni.zoomedSlideClass}`),1===ki.scale&&(he.originX=0,he.originY=0,he.slideEl=void 0)))}function G(){d.touchEventsData.preventTouchMoveFromPointerMove=!1}function Ct(fi){if(!Ze(fi)||!function Ht(fi){const Ni=`.${d.params.zoom.containerClass}`;return!!(fi.target.matches(Ni)||[...d.hostEl.querySelectorAll(Ni)].filter(ki=>ki.contains(fi.target)).length>0)}(fi))return;const Ni=d.zoom;if(!he.imageEl||!Me.isTouched||!he.slideEl)return;Me.isMoved||(Me.width=he.imageEl.offsetWidth||he.imageEl.clientWidth,Me.height=he.imageEl.offsetHeight||he.imageEl.clientHeight,Me.startX=Ut(he.imageWrapEl,"x")||0,Me.startY=Ut(he.imageWrapEl,"y")||0,he.slideWidth=he.slideEl.offsetWidth,he.slideHeight=he.slideEl.offsetHeight,he.imageWrapEl.style.transitionDuration="0ms");const ki=Me.width*Ni.scale,qs=Me.height*Ni.scale;if(ki<he.slideWidth&&qs<he.slideHeight)return void G();if(Me.minX=Math.min(he.slideWidth/2-ki/2,0),Me.maxX=-Me.minX,Me.minY=Math.min(he.slideHeight/2-qs/2,0),Me.maxY=-Me.minY,Me.touchesCurrent.x=fe.length>0?fe[0].pageX:fi.pageX,Me.touchesCurrent.y=fe.length>0?fe[0].pageY:fi.pageY,Math.max(Math.abs(Me.touchesCurrent.x-Me.touchesStart.x),Math.abs(Me.touchesCurrent.y-Me.touchesStart.y))>5&&(d.allowClick=!1),!Me.isMoved&&!Te){if(d.isHorizontal()&&(Math.floor(Me.minX)===Math.floor(Me.startX)&&Me.touchesCurrent.x<Me.touchesStart.x||Math.floor(Me.maxX)===Math.floor(Me.startX)&&Me.touchesCurrent.x>Me.touchesStart.x))return Me.isTouched=!1,void G();if(!d.isHorizontal()&&(Math.floor(Me.minY)===Math.floor(Me.startY)&&Me.touchesCurrent.y<Me.touchesStart.y||Math.floor(Me.maxY)===Math.floor(Me.startY)&&Me.touchesCurrent.y>Me.touchesStart.y))return Me.isTouched=!1,void G()}fi.cancelable&&fi.preventDefault(),fi.stopPropagation(),function ce(){clearTimeout(ne),d.touchEventsData.preventTouchMoveFromPointerMove=!0,ne=setTimeout(()=>{G()})}(),Me.isMoved=!0;const Ui=(Ni.scale-Se)/(he.maxRatio-d.params.zoom.minRatio),{originX:Ns,originY:yo}=he;Me.currentX=Me.touchesCurrent.x-Me.touchesStart.x+Me.startX+Ui*(Me.width-2*Ns),Me.currentY=Me.touchesCurrent.y-Me.touchesStart.y+Me.startY+Ui*(Me.height-2*yo),Me.currentX<Me.minX&&(Me.currentX=Me.minX+1-(Me.minX-Me.currentX+1)**.8),Me.currentX>Me.maxX&&(Me.currentX=Me.maxX-1+(Me.currentX-Me.maxX+1)**.8),Me.currentY<Me.minY&&(Me.currentY=Me.minY+1-(Me.minY-Me.currentY+1)**.8),Me.currentY>Me.maxY&&(Me.currentY=Me.maxY-1+(Me.currentY-Me.maxY+1)**.8),Xe.prevPositionX||(Xe.prevPositionX=Me.touchesCurrent.x),Xe.prevPositionY||(Xe.prevPositionY=Me.touchesCurrent.y),Xe.prevTime||(Xe.prevTime=Date.now()),Xe.x=(Me.touchesCurrent.x-Xe.prevPositionX)/(Date.now()-Xe.prevTime)/2,Xe.y=(Me.touchesCurrent.y-Xe.prevPositionY)/(Date.now()-Xe.prevTime)/2,Math.abs(Me.touchesCurrent.x-Xe.prevPositionX)<2&&(Xe.x=0),Math.abs(Me.touchesCurrent.y-Xe.prevPositionY)<2&&(Xe.y=0),Xe.prevPositionX=Me.touchesCurrent.x,Xe.prevPositionY=Me.touchesCurrent.y,Xe.prevTime=Date.now(),he.imageWrapEl.style.transform=`translate3d(${Me.currentX}px, ${Me.currentY}px,0)`}function yn(){const fi=d.zoom;he.slideEl&&d.activeIndex!==d.slides.indexOf(he.slideEl)&&(he.imageEl&&(he.imageEl.style.transform="translate3d(0,0,0) scale(1)"),he.imageWrapEl&&(he.imageWrapEl.style.transform="translate3d(0,0,0)"),he.slideEl.classList.remove(`${d.params.zoom.zoomedSlideClass}`),fi.scale=1,Se=1,he.slideEl=void 0,he.imageEl=void 0,he.imageWrapEl=void 0,he.originX=0,he.originY=0)}function ai(fi){const Ni=d.zoom,ki=d.params.zoom;if(!he.slideEl){fi&&fi.target&&(he.slideEl=fi.target.closest(`.${d.params.slideClass}, swiper-slide`)),he.slideEl||(he.slideEl=d.params.virtual&&d.params.virtual.enabled&&d.virtual?Vt(d.slidesEl,`.${d.params.slideActiveClass}`)[0]:d.slides[d.activeIndex]);let ll=he.slideEl.querySelector(`.${ki.containerClass}`);ll&&(ll=ll.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),he.imageEl=ll,he.imageWrapEl=ll?An(he.imageEl,`.${ki.containerClass}`)[0]:void 0}if(!he.imageEl||!he.imageWrapEl)return;let qs,lr,Ui,Ns,yo,ta,wo,na,ao,Sr,dl,Vn,Or,Ya,fl,ha,Na,xl;d.params.cssMode&&(d.wrapperEl.style.overflow="hidden",d.wrapperEl.style.touchAction="none"),he.slideEl.classList.add(`${ki.zoomedSlideClass}`),typeof Me.touchesStart.x>"u"&&fi?(qs=fi.pageX,lr=fi.pageY):(qs=Me.touchesStart.x,lr=Me.touchesStart.y);const El="number"==typeof fi?fi:null;1===Se&&El&&(qs=void 0,lr=void 0);const lc=ct();Ni.scale=El||lc,Se=El||lc,!fi||1===Se&&El?(wo=0,na=0):(Na=he.slideEl.offsetWidth,xl=he.slideEl.offsetHeight,Ui=gt(he.slideEl).left+Z.scrollX,Ns=gt(he.slideEl).top+Z.scrollY,yo=Ui+Na/2-qs,ta=Ns+xl/2-lr,ao=he.imageEl.offsetWidth||he.imageEl.clientWidth,Sr=he.imageEl.offsetHeight||he.imageEl.clientHeight,dl=ao*Ni.scale,Vn=Sr*Ni.scale,Or=Math.min(Na/2-dl/2,0),Ya=Math.min(xl/2-Vn/2,0),fl=-Or,ha=-Ya,wo=yo*Ni.scale,na=ta*Ni.scale,wo<Or&&(wo=Or),wo>fl&&(wo=fl),na<Ya&&(na=Ya),na>ha&&(na=ha)),El&&1===Ni.scale&&(he.originX=0,he.originY=0),he.imageWrapEl.style.transitionDuration="300ms",he.imageWrapEl.style.transform=`translate3d(${wo}px, ${na}px,0)`,he.imageEl.style.transitionDuration="300ms",he.imageEl.style.transform=`translate3d(0,0,0) scale(${Ni.scale})`}function Xi(){const fi=d.zoom,Ni=d.params.zoom;if(!he.slideEl){he.slideEl=d.params.virtual&&d.params.virtual.enabled&&d.virtual?Vt(d.slidesEl,`.${d.params.slideActiveClass}`)[0]:d.slides[d.activeIndex];let ki=he.slideEl.querySelector(`.${Ni.containerClass}`);ki&&(ki=ki.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),he.imageEl=ki,he.imageWrapEl=ki?An(he.imageEl,`.${Ni.containerClass}`)[0]:void 0}!he.imageEl||!he.imageWrapEl||(d.params.cssMode&&(d.wrapperEl.style.overflow="",d.wrapperEl.style.touchAction=""),fi.scale=1,Se=1,he.imageWrapEl.style.transitionDuration="300ms",he.imageWrapEl.style.transform="translate3d(0,0,0)",he.imageEl.style.transitionDuration="300ms",he.imageEl.style.transform="translate3d(0,0,0) scale(1)",he.slideEl.classList.remove(`${Ni.zoomedSlideClass}`),he.slideEl=void 0,he.originX=0,he.originY=0)}function Cn(fi){const Ni=d.zoom;Ni.scale&&1!==Ni.scale?Xi():ai(fi)}function Fn(){return{passiveListener:!!d.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!d.params.passiveListeners||{passive:!1,capture:!0}}}function Gi(){const fi=d.zoom;if(fi.enabled)return;fi.enabled=!0;const{passiveListener:Ni,activeListenerWithCapture:ki}=Fn();d.wrapperEl.addEventListener("pointerdown",Rn,Ni),d.wrapperEl.addEventListener("pointermove",X,ki),["pointerup","pointercancel","pointerout"].forEach(qs=>{d.wrapperEl.addEventListener(qs,z,Ni)}),d.wrapperEl.addEventListener("pointermove",Ct,ki)}function as(){const fi=d.zoom;if(!fi.enabled)return;fi.enabled=!1;const{passiveListener:Ni,activeListenerWithCapture:ki}=Fn();d.wrapperEl.removeEventListener("pointerdown",Rn,Ni),d.wrapperEl.removeEventListener("pointermove",X,ki),["pointerup","pointercancel","pointerout"].forEach(qs=>{d.wrapperEl.removeEventListener(qs,z,Ni)}),d.wrapperEl.removeEventListener("pointermove",Ct,ki)}Object.defineProperty(d.zoom,"scale",{get:()=>et,set(fi){et!==fi&&ee("zoomChange",fi,he.imageEl,he.slideEl),et=fi}}),F("init",()=>{d.params.zoom.enabled&&Gi()}),F("destroy",()=>{as()}),F("touchStart",(fi,Ni)=>{d.zoom.enabled&&function Dt(fi){if(!he.imageEl||Me.isTouched)return;d.device.android&&fi.cancelable&&fi.preventDefault(),Me.isTouched=!0;const ki=fe.length>0?fe[0]:fi;Me.touchesStart.x=ki.pageX,Me.touchesStart.y=ki.pageY}(Ni)}),F("touchEnd",(fi,Ni)=>{d.zoom.enabled&&function St(){const fi=d.zoom;if(!he.imageEl)return;if(!Me.isTouched||!Me.isMoved)return Me.isTouched=!1,void(Me.isMoved=!1);Me.isTouched=!1,Me.isMoved=!1;let Ni=300,ki=300;const lr=Me.currentX+Xe.x*Ni,Ns=Me.currentY+Xe.y*ki;0!==Xe.x&&(Ni=Math.abs((lr-Me.currentX)/Xe.x)),0!==Xe.y&&(ki=Math.abs((Ns-Me.currentY)/Xe.y));const yo=Math.max(Ni,ki);Me.currentX=lr,Me.currentY=Ns;const wo=Me.height*fi.scale;Me.minX=Math.min(he.slideWidth/2-Me.width*fi.scale/2,0),Me.maxX=-Me.minX,Me.minY=Math.min(he.slideHeight/2-wo/2,0),Me.maxY=-Me.minY,Me.currentX=Math.max(Math.min(Me.currentX,Me.maxX),Me.minX),Me.currentY=Math.max(Math.min(Me.currentY,Me.maxY),Me.minY),he.imageWrapEl.style.transitionDuration=`${yo}ms`,he.imageWrapEl.style.transform=`translate3d(${Me.currentX}px, ${Me.currentY}px,0)`}()}),F("doubleTap",(fi,Ni)=>{!d.animating&&d.params.zoom.enabled&&d.zoom.enabled&&d.params.zoom.toggle&&Cn(Ni)}),F("transitionEnd",()=>{d.zoom.enabled&&d.params.zoom.enabled&&yn()}),F("slideChange",()=>{d.zoom.enabled&&d.params.zoom.enabled&&d.params.cssMode&&yn()}),Object.assign(d.zoom,{enable:Gi,disable:as,in:ai,out:Xi,toggle:Cn})},function zs(D){let{swiper:d,extendParams:N,on:F}=D;function ee(Fe,fe){const he=function(){let lt,ct,Ue;return(dt,Ze)=>{for(ct=-1,lt=dt.length;lt-ct>1;)Ue=lt+ct>>1,dt[Ue]<=Ze?ct=Ue:lt=Ue;return lt}}();let Me,Xe;return this.x=Fe,this.y=fe,this.lastIndex=Fe.length-1,this.interpolate=function(lt){return lt?(Xe=he(this.x,lt),Me=Xe-1,(lt-this.x[Me])*(this.y[Xe]-this.y[Me])/(this.x[Xe]-this.x[Me])+this.y[Me]):0},this}function le(){d.controller.control&&d.controller.spline&&(d.controller.spline=void 0,delete d.controller.spline)}N({controller:{control:void 0,inverse:!1,by:"slide"}}),d.controller={control:void 0},F("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof d.params.controller.control||d.params.controller.control instanceof HTMLElement)){const Fe=document.querySelector(d.params.controller.control);if(Fe&&Fe.swiper)d.controller.control=Fe.swiper;else if(Fe){const fe=he=>{d.controller.control=he.detail[0],d.update(),Fe.removeEventListener("init",fe)};Fe.addEventListener("init",fe)}}else d.controller.control=d.params.controller.control}),F("update",()=>{le()}),F("resize",()=>{le()}),F("observerUpdate",()=>{le()}),F("setTranslate",(Fe,fe,he)=>{!d.controller.control||d.controller.control.destroyed||d.controller.setTranslate(fe,he)}),F("setTransition",(Fe,fe,he)=>{!d.controller.control||d.controller.control.destroyed||d.controller.setTransition(fe,he)}),Object.assign(d.controller,{setTranslate:function Se(Fe,fe){const he=d.controller.control;let Me,Xe;const et=d.constructor;function lt(ct){if(ct.destroyed)return;const Ue=d.rtlTranslate?-d.translate:d.translate;"slide"===d.params.controller.by&&(function Z(Fe){d.controller.spline=d.params.loop?new ee(d.slidesGrid,Fe.slidesGrid):new ee(d.snapGrid,Fe.snapGrid)}(ct),Xe=-d.controller.spline.interpolate(-Ue)),(!Xe||"container"===d.params.controller.by)&&(Me=(ct.maxTranslate()-ct.minTranslate())/(d.maxTranslate()-d.minTranslate()),(Number.isNaN(Me)||!Number.isFinite(Me))&&(Me=1),Xe=(Ue-d.minTranslate())*Me+ct.minTranslate()),d.params.controller.inverse&&(Xe=ct.maxTranslate()-Xe),ct.updateProgress(Xe),ct.setTranslate(Xe,d),ct.updateActiveIndex(),ct.updateSlidesClasses()}if(Array.isArray(he))for(let ct=0;ct<he.length;ct+=1)he[ct]!==fe&&he[ct]instanceof et&&lt(he[ct]);else he instanceof et&&fe!==he&&lt(he)},setTransition:function Te(Fe,fe){const he=d.constructor,Me=d.controller.control;let Xe;function et(lt){lt.destroyed||(lt.setTransition(Fe,d),0!==Fe&&(lt.transitionStart(),lt.params.autoHeight&&pt(()=>{lt.updateAutoHeight()}),Ei(lt.wrapperEl,()=>{Me&&lt.transitionEnd()})))}if(Array.isArray(Me))for(Xe=0;Xe<Me.length;Xe+=1)Me[Xe]!==fe&&Me[Xe]instanceof he&&et(Me[Xe]);else Me instanceof he&&fe!==Me&&et(Me)}})},function Js(D){let{swiper:d,extendParams:N,on:F}=D;N({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),d.a11y={clicked:!1};let Z,Se,ee=null,Te=(new Date).getTime();function le(Cn){const Fn=ee;0!==Fn.length&&(Fn.innerHTML="",Fn.innerHTML=Cn)}function fe(Cn){(Cn=Ke(Cn)).forEach(Fn=>{Fn.setAttribute("tabIndex","0")})}function he(Cn){(Cn=Ke(Cn)).forEach(Fn=>{Fn.setAttribute("tabIndex","-1")})}function Me(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("role",Fn)})}function Xe(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("aria-roledescription",Fn)})}function lt(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("aria-label",Fn)})}function dt(Cn){(Cn=Ke(Cn)).forEach(Fn=>{Fn.setAttribute("aria-disabled",!0)})}function Ze(Cn){(Cn=Ke(Cn)).forEach(Fn=>{Fn.setAttribute("aria-disabled",!1)})}function Ht(Cn){if(13!==Cn.keyCode&&32!==Cn.keyCode)return;const Fn=d.params.a11y,Gi=Cn.target;if(!d.pagination||!d.pagination.el||Gi!==d.pagination.el&&!d.pagination.el.contains(Cn.target)||Cn.target.matches(us(d.params.pagination.bulletClass))){if(d.navigation&&d.navigation.prevEl&&d.navigation.nextEl){const as=Ke(d.navigation.prevEl);Ke(d.navigation.nextEl).includes(Gi)&&(d.isEnd&&!d.params.loop||d.slideNext(),le(d.isEnd?Fn.lastSlideMessage:Fn.nextSlideMessage)),as.includes(Gi)&&(d.isBeginning&&!d.params.loop||d.slidePrev(),le(d.isBeginning?Fn.firstSlideMessage:Fn.prevSlideMessage))}d.pagination&&Gi.matches(us(d.params.pagination.bulletClass))&&Gi.click()}}function X(){return d.pagination&&d.pagination.bullets&&d.pagination.bullets.length}function z(){return X()&&d.params.pagination.clickable}const G=(Cn,Fn,Gi)=>{fe(Cn),"BUTTON"!==Cn.tagName&&(Me(Cn,"button"),Cn.addEventListener("keydown",Ht)),lt(Cn,Gi),function et(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("aria-controls",Fn)})}(Cn,Fn)},ce=Cn=>{Se&&Se!==Cn.target&&!Se.contains(Cn.target)&&(Z=!0),d.a11y.clicked=!0},Dt=()=>{Z=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{d.destroyed||(d.a11y.clicked=!1)})})},Ct=Cn=>{Te=(new Date).getTime()},St=Cn=>{if(d.a11y.clicked||(new Date).getTime()-Te<100)return;const Fn=Cn.target.closest(`.${d.params.slideClass}, swiper-slide`);if(!Fn||!d.slides.includes(Fn))return;Se=Fn;const Gi=d.slides.indexOf(Fn)===d.activeIndex,as=d.params.watchSlidesProgress&&d.visibleSlides&&d.visibleSlides.includes(Fn);Gi||as||Cn.sourceCapabilities&&Cn.sourceCapabilities.firesTouchEvents||(d.isHorizontal()?d.el.scrollLeft=0:d.el.scrollTop=0,requestAnimationFrame(()=>{Z||(d.slideTo(d.slides.indexOf(Fn),0),Z=!1)}))},yn=()=>{const Cn=d.params.a11y;Cn.itemRoleDescriptionMessage&&Xe(d.slides,Cn.itemRoleDescriptionMessage),Cn.slideRole&&Me(d.slides,Cn.slideRole);const Fn=d.slides.length;Cn.slideLabelMessage&&d.slides.forEach((Gi,as)=>{const fi=d.params.loop?parseInt(Gi.getAttribute("data-swiper-slide-index"),10):as;lt(Gi,Cn.slideLabelMessage.replace(/\{\{index\}\}/,fi+1).replace(/\{\{slidesLength\}\}/,Fn))})};F("beforeInit",()=>{ee=en("span",d.params.a11y.notificationClass),ee.setAttribute("aria-live","assertive"),ee.setAttribute("aria-atomic","true")}),F("afterInit",()=>{d.params.a11y.enabled&&(()=>{const Cn=d.params.a11y;d.el.append(ee);const Fn=d.el;Cn.containerRoleDescriptionMessage&&Xe(Fn,Cn.containerRoleDescriptionMessage),Cn.containerMessage&&lt(Fn,Cn.containerMessage);const Gi=d.wrapperEl,as=Cn.id||Gi.getAttribute("id")||`swiper-wrapper-${function Fe(Cn){return void 0===Cn&&(Cn=16),"x".repeat(Cn).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,fi=d.params.autoplay&&d.params.autoplay.enabled?"off":"polite";(function ct(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("id",Fn)})})(Gi,as),function Ue(Cn,Fn){(Cn=Ke(Cn)).forEach(Gi=>{Gi.setAttribute("aria-live",Fn)})}(Gi,fi),yn();let{nextEl:Ni,prevEl:ki}=d.navigation?d.navigation:{};Ni=Ke(Ni),ki=Ke(ki),Ni&&Ni.forEach(lr=>G(lr,as,Cn.nextSlideMessage)),ki&&ki.forEach(lr=>G(lr,as,Cn.prevSlideMessage)),z()&&Ke(d.pagination.el).forEach(Ui=>{Ui.addEventListener("keydown",Ht)}),Zt().addEventListener("visibilitychange",Ct),d.el.addEventListener("focus",St,!0),d.el.addEventListener("focus",St,!0),d.el.addEventListener("pointerdown",ce,!0),d.el.addEventListener("pointerup",Dt,!0)})()}),F("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{d.params.a11y.enabled&&yn()}),F("fromEdge toEdge afterInit lock unlock",()=>{d.params.a11y.enabled&&function Rn(){if(d.params.loop||d.params.rewind||!d.navigation)return;const{nextEl:Cn,prevEl:Fn}=d.navigation;Fn&&(d.isBeginning?(dt(Fn),he(Fn)):(Ze(Fn),fe(Fn))),Cn&&(d.isEnd?(dt(Cn),he(Cn)):(Ze(Cn),fe(Cn)))}()}),F("paginationUpdate",()=>{d.params.a11y.enabled&&function ne(){const Cn=d.params.a11y;X()&&d.pagination.bullets.forEach(Fn=>{d.params.pagination.clickable&&(fe(Fn),d.params.pagination.renderBullet||(Me(Fn,"button"),lt(Fn,Cn.paginationBulletMessage.replace(/\{\{index\}\}/,Ci(Fn)+1)))),Fn.matches(us(d.params.pagination.bulletActiveClass))?Fn.setAttribute("aria-current","true"):Fn.removeAttribute("aria-current")})}()}),F("destroy",()=>{d.params.a11y.enabled&&function Xi(){ee&&ee.remove();let{nextEl:Cn,prevEl:Fn}=d.navigation?d.navigation:{};Cn=Ke(Cn),Fn=Ke(Fn),Cn&&Cn.forEach(as=>as.removeEventListener("keydown",Ht)),Fn&&Fn.forEach(as=>as.removeEventListener("keydown",Ht)),z()&&Ke(d.pagination.el).forEach(fi=>{fi.removeEventListener("keydown",Ht)}),Zt().removeEventListener("visibilitychange",Ct),d.el.removeEventListener("focus",St,!0),d.el.removeEventListener("pointerdown",ce,!0),d.el.removeEventListener("pointerup",Dt,!0)}()})},function hs(D){let{swiper:d,extendParams:N,on:F}=D;N({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let ee=!1,Z={};const Se=Xe=>Xe.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),Te=Xe=>{const et=rt();let lt;lt=Xe?new URL(Xe):et.location;const ct=lt.pathname.slice(1).split("/").filter(Ht=>""!==Ht),Ue=ct.length;return{key:ct[Ue-2],value:ct[Ue-1]}},le=(Xe,et)=>{const lt=rt();if(!ee||!d.params.history.enabled)return;let ct;ct=d.params.url?new URL(d.params.url):lt.location;const Ue=d.virtual&&d.params.virtual.enabled?d.slidesEl.querySelector(`[data-swiper-slide-index="${et}"]`):d.slides[et];let dt=Se(Ue.getAttribute("data-history"));if(d.params.history.root.length>0){let Ht=d.params.history.root;"/"===Ht[Ht.length-1]&&(Ht=Ht.slice(0,Ht.length-1)),dt=`${Ht}/${Xe?`${Xe}/`:""}${dt}`}else ct.pathname.includes(Xe)||(dt=`${Xe?`${Xe}/`:""}${dt}`);d.params.history.keepQuery&&(dt+=ct.search);const Ze=lt.history.state;Ze&&Ze.value===dt||(d.params.history.replaceState?lt.history.replaceState({value:dt},null,dt):lt.history.pushState({value:dt},null,dt))},Fe=(Xe,et,lt)=>{if(et)for(let ct=0,Ue=d.slides.length;ct<Ue;ct+=1){const dt=d.slides[ct];if(Se(dt.getAttribute("data-history"))===et){const Ht=d.getSlideIndex(dt);d.slideTo(Ht,Xe,lt)}}else d.slideTo(0,Xe,lt)},fe=()=>{Z=Te(d.params.url),Fe(d.params.speed,Z.value,!1)};F("init",()=>{d.params.history.enabled&&(()=>{const Xe=rt();if(d.params.history){if(!Xe.history||!Xe.history.pushState)return d.params.history.enabled=!1,void(d.params.hashNavigation.enabled=!0);if(ee=!0,Z=Te(d.params.url),!Z.key&&!Z.value)return void(d.params.history.replaceState||Xe.addEventListener("popstate",fe));Fe(0,Z.value,d.params.runCallbacksOnInit),d.params.history.replaceState||Xe.addEventListener("popstate",fe)}})()}),F("destroy",()=>{d.params.history.enabled&&(()=>{const Xe=rt();d.params.history.replaceState||Xe.removeEventListener("popstate",fe)})()}),F("transitionEnd _freeModeNoMomentumRelease",()=>{ee&&le(d.params.history.key,d.activeIndex)}),F("slideChange",()=>{ee&&d.params.cssMode&&le(d.params.history.key,d.activeIndex)})},function gr(D){let{swiper:d,extendParams:N,emit:F,on:ee}=D,Z=!1;const Se=Zt(),Te=rt();N({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(Me,Xe){if(d.virtual&&d.params.virtual.enabled){const et=d.slides.filter(ct=>ct.getAttribute("data-hash")===Xe)[0];return et?parseInt(et.getAttribute("data-swiper-slide-index"),10):0}return d.getSlideIndex(Vt(d.slidesEl,`.${d.params.slideClass}[data-hash="${Xe}"], swiper-slide[data-hash="${Xe}"]`)[0])}}});const le=()=>{F("hashChange");const Me=Se.location.hash.replace("#",""),Xe=d.virtual&&d.params.virtual.enabled?d.slidesEl.querySelector(`[data-swiper-slide-index="${d.activeIndex}"]`):d.slides[d.activeIndex];if(Me!==(Xe?Xe.getAttribute("data-hash"):"")){const lt=d.params.hashNavigation.getSlideIndex(d,Me);if(typeof lt>"u"||Number.isNaN(lt))return;d.slideTo(lt)}},Fe=()=>{if(!Z||!d.params.hashNavigation.enabled)return;const Me=d.virtual&&d.params.virtual.enabled?d.slidesEl.querySelector(`[data-swiper-slide-index="${d.activeIndex}"]`):d.slides[d.activeIndex],Xe=Me?Me.getAttribute("data-hash")||Me.getAttribute("data-history"):"";d.params.hashNavigation.replaceState&&Te.history&&Te.history.replaceState?(Te.history.replaceState(null,null,`#${Xe}`||""),F("hashSet")):(Se.location.hash=Xe||"",F("hashSet"))};ee("init",()=>{d.params.hashNavigation.enabled&&(()=>{if(!d.params.hashNavigation.enabled||d.params.history&&d.params.history.enabled)return;Z=!0;const Me=Se.location.hash.replace("#","");if(Me){const et=d.params.hashNavigation.getSlideIndex(d,Me);d.slideTo(et||0,0,d.params.runCallbacksOnInit,!0)}d.params.hashNavigation.watchState&&Te.addEventListener("hashchange",le)})()}),ee("destroy",()=>{d.params.hashNavigation.enabled&&d.params.hashNavigation.watchState&&Te.removeEventListener("hashchange",le)}),ee("transitionEnd _freeModeNoMomentumRelease",()=>{Z&&Fe()}),ee("slideChange",()=>{Z&&d.params.cssMode&&Fe()})},function jr(D){let{swiper:d,extendParams:N,on:F,emit:ee,params:Z}=D;d.autoplay={running:!1,paused:!1,timeLeft:0},N({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let Se,Te,fe,Me,Xe,et,lt,ct,Ue,dt,le=Z&&Z.autoplay?Z.autoplay.delay:3e3,Fe=Z&&Z.autoplay?Z.autoplay.delay:3e3,he=(new Date).getTime();function Ze(Fn){!d||d.destroyed||!d.wrapperEl||Fn.target===d.wrapperEl&&(d.wrapperEl.removeEventListener("transitionend",Ze),!(dt||Fn.detail&&Fn.detail.bySwiperTouchMove)&&ce())}const Ht=()=>{if(d.destroyed||!d.autoplay.running)return;d.autoplay.paused?Me=!0:Me&&(Fe=fe,Me=!1);const Fn=d.autoplay.paused?fe:he+Fe-(new Date).getTime();d.autoplay.timeLeft=Fn,ee("autoplayTimeLeft",Fn,Fn/le),Te=requestAnimationFrame(()=>{Ht()})},X=Fn=>{if(d.destroyed||!d.autoplay.running)return;cancelAnimationFrame(Te),Ht();let Gi=typeof Fn>"u"?d.params.autoplay.delay:Fn;le=d.params.autoplay.delay,Fe=d.params.autoplay.delay;const as=(()=>{let Fn;return Fn=d.virtual&&d.params.virtual.enabled?d.slides.filter(as=>as.classList.contains("swiper-slide-active"))[0]:d.slides[d.activeIndex],Fn?parseInt(Fn.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(as)&&as>0&&typeof Fn>"u"&&(Gi=as,le=as,Fe=as),fe=Gi;const fi=d.params.speed,Ni=()=>{!d||d.destroyed||(d.params.autoplay.reverseDirection?!d.isBeginning||d.params.loop||d.params.rewind?(d.slidePrev(fi,!0,!0),ee("autoplay")):d.params.autoplay.stopOnLastSlide||(d.slideTo(d.slides.length-1,fi,!0,!0),ee("autoplay")):!d.isEnd||d.params.loop||d.params.rewind?(d.slideNext(fi,!0,!0),ee("autoplay")):d.params.autoplay.stopOnLastSlide||(d.slideTo(0,fi,!0,!0),ee("autoplay")),d.params.cssMode&&(he=(new Date).getTime(),requestAnimationFrame(()=>{X()})))};return Gi>0?(clearTimeout(Se),Se=setTimeout(()=>{Ni()},Gi)):requestAnimationFrame(()=>{Ni()}),Gi},z=()=>{he=(new Date).getTime(),d.autoplay.running=!0,X(),ee("autoplayStart")},ne=()=>{d.autoplay.running=!1,clearTimeout(Se),cancelAnimationFrame(Te),ee("autoplayStop")},G=(Fn,Gi)=>{if(d.destroyed||!d.autoplay.running)return;clearTimeout(Se),Fn||(Ue=!0);const as=()=>{ee("autoplayPause"),d.params.autoplay.waitForTransition?d.wrapperEl.addEventListener("transitionend",Ze):ce()};if(d.autoplay.paused=!0,Gi)return ct&&(fe=d.params.autoplay.delay),ct=!1,void as();fe=(fe||d.params.autoplay.delay)-((new Date).getTime()-he),(!(d.isEnd&&fe<0)||d.params.loop)&&(fe<0&&(fe=0),as())},ce=()=>{d.isEnd&&fe<0&&!d.params.loop||d.destroyed||!d.autoplay.running||(he=(new Date).getTime(),Ue?(Ue=!1,X(fe)):X(),d.autoplay.paused=!1,ee("autoplayResume"))},Dt=()=>{if(d.destroyed||!d.autoplay.running)return;const Fn=Zt();"hidden"===Fn.visibilityState&&(Ue=!0,G(!0)),"visible"===Fn.visibilityState&&ce()},Ct=Fn=>{"mouse"===Fn.pointerType&&(Ue=!0,dt=!0,!d.animating&&!d.autoplay.paused&&G(!0))},St=Fn=>{"mouse"===Fn.pointerType&&(dt=!1,d.autoplay.paused&&ce())};F("init",()=>{d.params.autoplay.enabled&&(d.params.autoplay.pauseOnMouseEnter&&(d.el.addEventListener("pointerenter",Ct),d.el.addEventListener("pointerleave",St)),Zt().addEventListener("visibilitychange",Dt),z())}),F("destroy",()=>{d.el.removeEventListener("pointerenter",Ct),d.el.removeEventListener("pointerleave",St),Zt().removeEventListener("visibilitychange",Dt),d.autoplay.running&&ne()}),F("_freeModeStaticRelease",()=>{(et||Ue)&&ce()}),F("_freeModeNoMomentumRelease",()=>{d.params.autoplay.disableOnInteraction?ne():G(!0,!0)}),F("beforeTransitionStart",(Fn,Gi,as)=>{d.destroyed||!d.autoplay.running||(as||!d.params.autoplay.disableOnInteraction?G(!0,!0):ne())}),F("sliderFirstMove",()=>{if(!d.destroyed&&d.autoplay.running){if(d.params.autoplay.disableOnInteraction)return void ne();Xe=!0,et=!1,Ue=!1,lt=setTimeout(()=>{Ue=!0,et=!0,G(!0)},200)}}),F("touchEnd",()=>{if(!d.destroyed&&d.autoplay.running&&Xe){if(clearTimeout(lt),clearTimeout(Se),d.params.autoplay.disableOnInteraction)return et=!1,void(Xe=!1);et&&d.params.cssMode&&ce(),et=!1,Xe=!1}}),F("slideChange",()=>{d.destroyed||!d.autoplay.running||(ct=!0)}),Object.assign(d.autoplay,{start:z,stop:ne,pause:G,resume:ce})},function ps(D){let{swiper:d,extendParams:N,on:F}=D;N({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let ee=!1,Z=!1;function Se(){const Fe=d.thumbs.swiper;if(!Fe||Fe.destroyed)return;const fe=Fe.clickedIndex,he=Fe.clickedSlide;if(he&&he.classList.contains(d.params.thumbs.slideThumbActiveClass)||typeof fe>"u"||null===fe)return;let Me;Me=Fe.params.loop?parseInt(Fe.clickedSlide.getAttribute("data-swiper-slide-index"),10):fe,d.params.loop?d.slideToLoop(Me):d.slideTo(Me)}function Te(){const{thumbs:Fe}=d.params;if(ee)return!1;ee=!0;const fe=d.constructor;if(Fe.swiper instanceof fe)d.thumbs.swiper=Fe.swiper,Object.assign(d.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(d.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),d.thumbs.swiper.update();else if(Gt(Fe.swiper)){const he=Object.assign({},Fe.swiper);Object.assign(he,{watchSlidesProgress:!0,slideToClickedSlide:!1}),d.thumbs.swiper=new fe(he),Z=!0}return d.thumbs.swiper.el.classList.add(d.params.thumbs.thumbsContainerClass),d.thumbs.swiper.on("tap",Se),!0}function le(Fe){const fe=d.thumbs.swiper;if(!fe||fe.destroyed)return;const he="auto"===fe.params.slidesPerView?fe.slidesPerViewDynamic():fe.params.slidesPerView;let Me=1;const Xe=d.params.thumbs.slideThumbActiveClass;if(d.params.slidesPerView>1&&!d.params.centeredSlides&&(Me=d.params.slidesPerView),d.params.thumbs.multipleActiveThumbs||(Me=1),Me=Math.floor(Me),fe.slides.forEach(ct=>ct.classList.remove(Xe)),fe.params.loop||fe.params.virtual&&fe.params.virtual.enabled)for(let ct=0;ct<Me;ct+=1)Vt(fe.slidesEl,`[data-swiper-slide-index="${d.realIndex+ct}"]`).forEach(Ue=>{Ue.classList.add(Xe)});else for(let ct=0;ct<Me;ct+=1)fe.slides[d.realIndex+ct]&&fe.slides[d.realIndex+ct].classList.add(Xe);const et=d.params.thumbs.autoScrollOffset,lt=et&&!fe.params.loop;if(d.realIndex!==fe.realIndex||lt){const ct=fe.activeIndex;let Ue,dt;if(fe.params.loop){const Ze=fe.slides.filter(Ht=>Ht.getAttribute("data-swiper-slide-index")===`${d.realIndex}`)[0];Ue=fe.slides.indexOf(Ze),dt=d.activeIndex>d.previousIndex?"next":"prev"}else Ue=d.realIndex,dt=Ue>d.previousIndex?"next":"prev";lt&&(Ue+="next"===dt?et:-1*et),fe.visibleSlidesIndexes&&fe.visibleSlidesIndexes.indexOf(Ue)<0&&(fe.params.centeredSlides&&(Ue=Ue>ct?Ue-Math.floor(he/2)+1:Ue+Math.floor(he/2)-1),fe.slideTo(Ue,Fe?0:void 0))}}d.thumbs={swiper:null},F("beforeInit",()=>{const{thumbs:Fe}=d.params;if(Fe&&Fe.swiper)if("string"==typeof Fe.swiper||Fe.swiper instanceof HTMLElement){const fe=Zt(),he=()=>{const Xe="string"==typeof Fe.swiper?fe.querySelector(Fe.swiper):Fe.swiper;if(Xe&&Xe.swiper)Fe.swiper=Xe.swiper,Te(),le(!0);else if(Xe){const et=lt=>{Fe.swiper=lt.detail[0],Xe.removeEventListener("init",et),Te(),le(!0),Fe.swiper.update(),d.update()};Xe.addEventListener("init",et)}return Xe},Me=()=>{d.destroyed||he()||requestAnimationFrame(Me)};requestAnimationFrame(Me)}else Te(),le(!0)}),F("slideChange update resize observerUpdate",()=>{le()}),F("setTransition",(Fe,fe)=>{const he=d.thumbs.swiper;!he||he.destroyed||he.setTransition(fe)}),F("beforeDestroy",()=>{const Fe=d.thumbs.swiper;!Fe||Fe.destroyed||Z&&Fe.destroy()}),Object.assign(d.thumbs,{init:Te,update:le})},function Xs(D){let{swiper:d,extendParams:N,emit:F,once:ee}=D;N({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(d,{freeMode:{onTouchStart:function Z(){if(d.params.cssMode)return;const le=d.getTranslate();d.setTranslate(le),d.setTransition(0),d.touchEventsData.velocities.length=0,d.freeMode.onTouchEnd({currentPos:d.rtl?d.translate:-d.translate})},onTouchMove:function Se(){if(d.params.cssMode)return;const{touchEventsData:le,touches:Fe}=d;0===le.velocities.length&&le.velocities.push({position:Fe[d.isHorizontal()?"startX":"startY"],time:le.touchStartTime}),le.velocities.push({position:Fe[d.isHorizontal()?"currentX":"currentY"],time:It()})},onTouchEnd:function Te(le){let{currentPos:Fe}=le;if(d.params.cssMode)return;const{params:fe,wrapperEl:he,rtlTranslate:Me,snapGrid:Xe,touchEventsData:et}=d,ct=It()-et.touchStartTime;if(Fe<-d.minTranslate())d.slideTo(d.activeIndex);else if(Fe>-d.maxTranslate())d.slideTo(d.slides.length<Xe.length?Xe.length-1:d.slides.length-1);else{if(fe.freeMode.momentum){if(et.velocities.length>1){const ne=et.velocities.pop(),G=et.velocities.pop(),Dt=ne.time-G.time;d.velocity=(ne.position-G.position)/Dt,d.velocity/=2,Math.abs(d.velocity)<fe.freeMode.minimumVelocity&&(d.velocity=0),(Dt>150||It()-ne.time>300)&&(d.velocity=0)}else d.velocity=0;d.velocity*=fe.freeMode.momentumVelocityRatio,et.velocities.length=0;let Ue=1e3*fe.freeMode.momentumRatio,Ze=d.translate+d.velocity*Ue;Me&&(Ze=-Ze);let Rn,Ht=!1;const X=20*Math.abs(d.velocity)*fe.freeMode.momentumBounceRatio;let z;if(Ze<d.maxTranslate())fe.freeMode.momentumBounce?(Ze+d.maxTranslate()<-X&&(Ze=d.maxTranslate()-X),Rn=d.maxTranslate(),Ht=!0,et.allowMomentumBounce=!0):Ze=d.maxTranslate(),fe.loop&&fe.centeredSlides&&(z=!0);else if(Ze>d.minTranslate())fe.freeMode.momentumBounce?(Ze-d.minTranslate()>X&&(Ze=d.minTranslate()+X),Rn=d.minTranslate(),Ht=!0,et.allowMomentumBounce=!0):Ze=d.minTranslate(),fe.loop&&fe.centeredSlides&&(z=!0);else if(fe.freeMode.sticky){let ne;for(let G=0;G<Xe.length;G+=1)if(Xe[G]>-Ze){ne=G;break}Ze=Math.abs(Xe[ne]-Ze)<Math.abs(Xe[ne-1]-Ze)||"next"===d.swipeDirection?Xe[ne]:Xe[ne-1],Ze=-Ze}if(z&&ee("transitionEnd",()=>{d.loopFix()}),0!==d.velocity){if(Ue=Me?Math.abs((-Ze-d.translate)/d.velocity):Math.abs((Ze-d.translate)/d.velocity),fe.freeMode.sticky){const ne=Math.abs((Me?-Ze:Ze)-d.translate),G=d.slidesSizesGrid[d.activeIndex];Ue=ne<G?fe.speed:ne<2*G?1.5*fe.speed:2.5*fe.speed}}else if(fe.freeMode.sticky)return void d.slideToClosest();fe.freeMode.momentumBounce&&Ht?(d.updateProgress(Rn),d.setTransition(Ue),d.setTranslate(Ze),d.transitionStart(!0,d.swipeDirection),d.animating=!0,Ei(he,()=>{!d||d.destroyed||!et.allowMomentumBounce||(F("momentumBounce"),d.setTransition(fe.speed),setTimeout(()=>{d.setTranslate(Rn),Ei(he,()=>{!d||d.destroyed||d.transitionEnd()})},0))})):d.velocity?(F("_freeModeNoMomentumRelease"),d.updateProgress(Ze),d.setTransition(Ue),d.setTranslate(Ze),d.transitionStart(!0,d.swipeDirection),d.animating||(d.animating=!0,Ei(he,()=>{!d||d.destroyed||d.transitionEnd()}))):d.updateProgress(Ze),d.updateActiveIndex(),d.updateSlidesClasses()}else{if(fe.freeMode.sticky)return void d.slideToClosest();fe.freeMode&&F("_freeModeNoMomentumRelease")}(!fe.freeMode.momentum||ct>=fe.longSwipesMs)&&(F("_freeModeStaticRelease"),d.updateProgress(),d.updateActiveIndex(),d.updateSlidesClasses())}}}})},function Pa(D){let ee,Z,Se,Te,{swiper:d,extendParams:N,on:F}=D;N({grid:{rows:1,fill:"column"}});const le=()=>{let lt=d.params.spaceBetween;return"string"==typeof lt&&lt.indexOf("%")>=0?lt=parseFloat(lt.replace("%",""))/100*d.size:"string"==typeof lt&&(lt=parseFloat(lt)),lt};F("init",()=>{Te=d.params.grid&&d.params.grid.rows>1}),F("update",()=>{const{params:lt,el:ct}=d,Ue=lt.grid&&lt.grid.rows>1;Te&&!Ue?(ct.classList.remove(`${lt.containerModifierClass}grid`,`${lt.containerModifierClass}grid-column`),Se=1,d.emitContainerClasses()):!Te&&Ue&&(ct.classList.add(`${lt.containerModifierClass}grid`),"column"===lt.grid.fill&&ct.classList.add(`${lt.containerModifierClass}grid-column`),d.emitContainerClasses()),Te=Ue}),d.grid={initSlides:lt=>{const{slidesPerView:ct}=d.params,{rows:Ue,fill:dt}=d.params.grid,Ze=d.virtual&&d.params.virtual.enabled?d.virtual.slides.length:lt.length;Se=Math.floor(Ze/Ue),ee=Math.floor(Ze/Ue)===Ze/Ue?Ze:Math.ceil(Ze/Ue)*Ue,"auto"!==ct&&"row"===dt&&(ee=Math.max(ee,ct*Ue)),Z=ee/Ue},unsetSlides:()=>{d.slides&&d.slides.forEach(lt=>{lt.swiperSlideGridSet&&(lt.style.height="",lt.style[d.getDirectionLabel("margin-top")]="")})},updateSlide:(lt,ct,Ue)=>{const{slidesPerGroup:dt}=d.params,Ze=le(),{rows:Ht,fill:Rn}=d.params.grid,X=d.virtual&&d.params.virtual.enabled?d.virtual.slides.length:Ue.length;let z,ne,G;if("row"===Rn&&dt>1){const ce=Math.floor(lt/(dt*Ht)),Dt=lt-Ht*dt*ce,Ct=0===ce?dt:Math.min(Math.ceil((X-ce*Ht*dt)/Ht),dt);G=Math.floor(Dt/Ct),ne=Dt-G*Ct+ce*dt,z=ne+G*ee/Ht,ct.style.order=z}else"column"===Rn?(ne=Math.floor(lt/Ht),G=lt-ne*Ht,(ne>Se||ne===Se&&G===Ht-1)&&(G+=1,G>=Ht&&(G=0,ne+=1))):(G=Math.floor(lt/Z),ne=lt-G*Z);ct.row=G,ct.column=ne,ct.style.height=`calc((100% - ${(Ht-1)*Ze}px) / ${Ht})`,ct.style[d.getDirectionLabel("margin-top")]=0!==G?Ze&&`${Ze}px`:"",ct.swiperSlideGridSet=!0},updateWrapperSize:(lt,ct)=>{const{centeredSlides:Ue,roundLengths:dt}=d.params,Ze=le(),{rows:Ht}=d.params.grid;if(d.virtualSize=(lt+Ze)*ee,d.virtualSize=Math.ceil(d.virtualSize/Ht)-Ze,d.params.cssMode||(d.wrapperEl.style[d.getDirectionLabel("width")]=`${d.virtualSize+Ze}px`),Ue){const Rn=[];for(let X=0;X<ct.length;X+=1){let z=ct[X];dt&&(z=Math.floor(z)),ct[X]<d.virtualSize+ct[0]&&Rn.push(z)}ct.splice(0,ct.length),ct.push(...Rn)}}}},function qa(D){let{swiper:d}=D;Object.assign(d,{appendSlide:al.bind(d),prependSlide:Ba.bind(d),addSlide:Va.bind(d),removeSlide:pr.bind(d),removeAllSlides:mo.bind(d)})},function Kr(D){let{swiper:d,extendParams:N,on:F}=D;N({fadeEffect:{crossFade:!1}}),ar({effect:"fade",swiper:d,on:F,setTranslate:()=>{const{slides:Se}=d;for(let le=0;le<Se.length;le+=1){const Fe=d.slides[le];let he=-Fe.swiperSlideOffset;d.params.virtualTranslate||(he-=d.translate);let Me=0;d.isHorizontal()||(Me=he,he=0);const Xe=d.params.fadeEffect.crossFade?Math.max(1-Math.abs(Fe.progress),0):1+Math.min(Math.max(Fe.progress,-1),0),et=Mo(0,Fe);et.style.opacity=Xe,et.style.transform=`translate3d(${he}px, ${Me}px, 0px)`}},setTransition:Se=>{const Te=d.slides.map(le=>Bt(le));Te.forEach(le=>{le.style.transitionDuration=`${Se}ms`}),Ta({swiper:d,duration:Se,transformElements:Te,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!d.params.cssMode})})},function Jo(D){let{swiper:d,extendParams:N,on:F}=D;N({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const ee=(le,Fe,fe)=>{let he=le.querySelector(fe?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Me=le.querySelector(fe?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");he||(he=en("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(fe?"left":"top")).split(" ")),le.append(he)),Me||(Me=en("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(fe?"right":"bottom")).split(" ")),le.append(Me)),he&&(he.style.opacity=Math.max(-Fe,0)),Me&&(Me.style.opacity=Math.max(Fe,0))};ar({effect:"cube",swiper:d,on:F,setTranslate:()=>{const{el:le,wrapperEl:Fe,slides:fe,width:he,height:Me,rtlTranslate:Xe,size:et,browser:lt}=d,ct=d.params.cubeEffect,Ue=d.isHorizontal(),dt=d.virtual&&d.params.virtual.enabled;let Ht,Ze=0;ct.shadow&&(Ue?(Ht=d.wrapperEl.querySelector(".swiper-cube-shadow"),Ht||(Ht=en("div","swiper-cube-shadow"),d.wrapperEl.append(Ht)),Ht.style.height=`${he}px`):(Ht=le.querySelector(".swiper-cube-shadow"),Ht||(Ht=en("div","swiper-cube-shadow"),le.append(Ht))));for(let X=0;X<fe.length;X+=1){const z=fe[X];let ne=X;dt&&(ne=parseInt(z.getAttribute("data-swiper-slide-index"),10));let G=90*ne,ce=Math.floor(G/360);Xe&&(G=-G,ce=Math.floor(-G/360));const Dt=Math.max(Math.min(z.progress,1),-1);let Ct=0,St=0,yn=0;ne%4==0?(Ct=4*-ce*et,yn=0):(ne-1)%4==0?(Ct=0,yn=4*-ce*et):(ne-2)%4==0?(Ct=et+4*ce*et,yn=et):(ne-3)%4==0&&(Ct=-et,yn=3*et+4*et*ce),Xe&&(Ct=-Ct),Ue||(St=Ct,Ct=0);const ai=`rotateX(${Ue?0:-G}deg) rotateY(${Ue?G:0}deg) translate3d(${Ct}px, ${St}px, ${yn}px)`;Dt<=1&&Dt>-1&&(Ze=90*ne+90*Dt,Xe&&(Ze=90*-ne-90*Dt),d.browser&&d.browser.need3dFix&&Math.abs(Ze)/90%2==1&&(Ze+=.001)),z.style.transform=ai,ct.slideShadows&&ee(z,Dt,Ue)}if(Fe.style.transformOrigin=`50% 50% -${et/2}px`,Fe.style["-webkit-transform-origin"]=`50% 50% -${et/2}px`,ct.shadow)if(Ue)Ht.style.transform=`translate3d(0px, ${he/2+ct.shadowOffset}px, ${-he/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${ct.shadowScale})`;else{const X=Math.abs(Ze)-90*Math.floor(Math.abs(Ze)/90),z=1.5-(Math.sin(2*X*Math.PI/360)/2+Math.cos(2*X*Math.PI/360)/2),G=ct.shadowScale/z;Ht.style.transform=`scale3d(${ct.shadowScale}, 1, ${G}) translate3d(0px, ${Me/2+ct.shadowOffset}px, ${-Me/2/G}px) rotateX(-89.99deg)`}const Rn=(lt.isSafari||lt.isWebView)&&lt.needPerspectiveFix?-et/2:0;Fe.style.transform=`translate3d(0px,0,${Rn}px) rotateX(${d.isHorizontal()?0:Ze}deg) rotateY(${d.isHorizontal()?-Ze:0}deg)`,Fe.style.setProperty("--swiper-cube-translate-z",`${Rn}px`)},setTransition:le=>{const{el:Fe,slides:fe}=d;if(fe.forEach(he=>{he.style.transitionDuration=`${le}ms`,he.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Me=>{Me.style.transitionDuration=`${le}ms`})}),d.params.cubeEffect.shadow&&!d.isHorizontal()){const he=Fe.querySelector(".swiper-cube-shadow");he&&(he.style.transitionDuration=`${le}ms`)}},recreateShadows:()=>{const le=d.isHorizontal();d.slides.forEach(Fe=>{const fe=Math.max(Math.min(Fe.progress,1),-1);ee(Fe,fe,le)})},getEffectParams:()=>d.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function Go(D){let{swiper:d,extendParams:N,on:F}=D;N({flipEffect:{slideShadows:!0,limitRotation:!0}});const ee=(le,Fe)=>{let fe=d.isHorizontal()?le.querySelector(".swiper-slide-shadow-left"):le.querySelector(".swiper-slide-shadow-top"),he=d.isHorizontal()?le.querySelector(".swiper-slide-shadow-right"):le.querySelector(".swiper-slide-shadow-bottom");fe||(fe=ea("flip",le,d.isHorizontal()?"left":"top")),he||(he=ea("flip",le,d.isHorizontal()?"right":"bottom")),fe&&(fe.style.opacity=Math.max(-Fe,0)),he&&(he.style.opacity=Math.max(Fe,0))};ar({effect:"flip",swiper:d,on:F,setTranslate:()=>{const{slides:le,rtlTranslate:Fe}=d,fe=d.params.flipEffect;for(let he=0;he<le.length;he+=1){const Me=le[he];let Xe=Me.progress;d.params.flipEffect.limitRotation&&(Xe=Math.max(Math.min(Me.progress,1),-1));const et=Me.swiperSlideOffset;let ct=-180*Xe,Ue=0,dt=d.params.cssMode?-et-d.translate:-et,Ze=0;d.isHorizontal()?Fe&&(ct=-ct):(Ze=dt,dt=0,Ue=-ct,ct=0),d.browser&&d.browser.need3dFix&&(Math.abs(ct)/90%2==1&&(ct+=.001),Math.abs(Ue)/90%2==1&&(Ue+=.001)),Me.style.zIndex=-Math.abs(Math.round(Xe))+le.length,fe.slideShadows&&ee(Me,Xe);const Ht=`translate3d(${dt}px, ${Ze}px, 0px) rotateX(${Ue}deg) rotateY(${ct}deg)`;Mo(0,Me).style.transform=Ht}},setTransition:le=>{const Fe=d.slides.map(fe=>Bt(fe));Fe.forEach(fe=>{fe.style.transitionDuration=`${le}ms`,fe.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(he=>{he.style.transitionDuration=`${le}ms`})}),Ta({swiper:d,duration:le,transformElements:Fe})},recreateShadows:()=>{d.slides.forEach(le=>{let Fe=le.progress;d.params.flipEffect.limitRotation&&(Fe=Math.max(Math.min(le.progress,1),-1)),ee(le,Fe)})},getEffectParams:()=>d.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!d.params.cssMode})})},function V(D){let{swiper:d,extendParams:N,on:F}=D;N({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ar({effect:"coverflow",swiper:d,on:F,setTranslate:()=>{const{width:Se,height:Te,slides:le,slidesSizesGrid:Fe}=d,fe=d.params.coverflowEffect,he=d.isHorizontal(),Me=d.translate,Xe=he?Se/2-Me:Te/2-Me,et=he?fe.rotate:-fe.rotate,lt=fe.depth;for(let ct=0,Ue=le.length;ct<Ue;ct+=1){const dt=le[ct],Ze=Fe[ct],Rn=(Xe-dt.swiperSlideOffset-Ze/2)/Ze,X="function"==typeof fe.modifier?fe.modifier(Rn):Rn*fe.modifier;let z=he?et*X:0,ne=he?0:et*X,G=-lt*Math.abs(X),ce=fe.stretch;"string"==typeof ce&&-1!==ce.indexOf("%")&&(ce=parseFloat(fe.stretch)/100*Ze);let Dt=he?0:ce*X,Ct=he?ce*X:0,St=1-(1-fe.scale)*Math.abs(X);Math.abs(Ct)<.001&&(Ct=0),Math.abs(Dt)<.001&&(Dt=0),Math.abs(G)<.001&&(G=0),Math.abs(z)<.001&&(z=0),Math.abs(ne)<.001&&(ne=0),Math.abs(St)<.001&&(St=0),d.browser&&d.browser.need3dFix&&(Math.abs(z)/90%2==1&&(z+=.001),Math.abs(ne)/90%2==1&&(ne+=.001));const yn=`translate3d(${Ct}px,${Dt}px,${G}px)  rotateX(${ne}deg) rotateY(${z}deg) scale(${St})`;if(Mo(0,dt).style.transform=yn,dt.style.zIndex=1-Math.abs(Math.round(X)),fe.slideShadows){let Xi=dt.querySelector(he?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Cn=dt.querySelector(he?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Xi||(Xi=ea("coverflow",dt,he?"left":"top")),Cn||(Cn=ea("coverflow",dt,he?"right":"bottom")),Xi&&(Xi.style.opacity=X>0?X:0),Cn&&(Cn.style.opacity=-X>0?-X:0)}}},setTransition:Se=>{d.slides.map(le=>Bt(le)).forEach(le=>{le.style.transitionDuration=`${Se}ms`,le.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Fe=>{Fe.style.transitionDuration=`${Se}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function oe(D){let{swiper:d,extendParams:N,on:F}=D;N({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const ee=Te=>"string"==typeof Te?Te:`${Te}px`;ar({effect:"creative",swiper:d,on:F,setTranslate:()=>{const{slides:Te,wrapperEl:le,slidesSizesGrid:Fe}=d,fe=d.params.creativeEffect,{progressMultiplier:he}=fe,Me=d.params.centeredSlides;Me&&(le.style.transform=`translateX(calc(50% - ${Fe[0]/2-d.params.slidesOffsetBefore||0}px))`);for(let Xe=0;Xe<Te.length;Xe+=1){const et=Te[Xe],lt=et.progress,ct=Math.min(Math.max(et.progress,-fe.limitProgress),fe.limitProgress);let Ue=ct;Me||(Ue=Math.min(Math.max(et.originalProgress,-fe.limitProgress),fe.limitProgress));const dt=et.swiperSlideOffset,Ze=[d.params.cssMode?-dt-d.translate:-dt,0,0],Ht=[0,0,0];let Rn=!1;d.isHorizontal()||(Ze[1]=Ze[0],Ze[0]=0);let X={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};ct<0?(X=fe.next,Rn=!0):ct>0&&(X=fe.prev,Rn=!0),Ze.forEach((St,yn)=>{Ze[yn]=`calc(${St}px + (${ee(X.translate[yn])} * ${Math.abs(ct*he)}))`}),Ht.forEach((St,yn)=>{let ai=X.rotate[yn]*Math.abs(ct*he);d.browser&&d.browser.need3dFix&&Math.abs(ai)/90%2==1&&(ai+=.001),Ht[yn]=ai}),et.style.zIndex=-Math.abs(Math.round(lt))+Te.length;const z=Ze.join(", "),ce=Ue<0?1+(1-X.opacity)*Ue*he:1-(1-X.opacity)*Ue*he,Dt=`translate3d(${z}) rotateX(${Ht[0]}deg) rotateY(${Ht[1]}deg) rotateZ(${Ht[2]}deg) ${Ue<0?`scale(${1+(1-X.scale)*Ue*he})`:`scale(${1-(1-X.scale)*Ue*he})`}`;if(Rn&&X.shadow||!Rn){let St=et.querySelector(".swiper-slide-shadow");!St&&X.shadow&&(St=ea("creative",et)),St&&(St.style.opacity=Math.min(Math.max(Math.abs(fe.shadowPerProgress?ct*(1/fe.limitProgress):ct),0),1))}const Ct=Mo(0,et);Ct.style.transform=Dt,Ct.style.opacity=ce,X.origin&&(Ct.style.transformOrigin=X.origin)}},setTransition:Te=>{const le=d.slides.map(Fe=>Bt(Fe));le.forEach(Fe=>{Fe.style.transitionDuration=`${Te}ms`,Fe.querySelectorAll(".swiper-slide-shadow").forEach(fe=>{fe.style.transitionDuration=`${Te}ms`})}),Ta({swiper:d,duration:Te,transformElements:le,allSlides:!0})},perspective:()=>d.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!d.params.cssMode})})},function Pe(D){let{swiper:d,extendParams:N,on:F}=D;N({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ar({effect:"cards",swiper:d,on:F,setTranslate:()=>{const{slides:Se,activeIndex:Te,rtlTranslate:le}=d,Fe=d.params.cardsEffect,{startTranslate:fe,isTouched:he}=d.touchEventsData,Me=le?-d.translate:d.translate;for(let Xe=0;Xe<Se.length;Xe+=1){const et=Se[Xe],lt=et.progress,ct=Math.min(Math.max(lt,-4),4);let Ue=et.swiperSlideOffset;d.params.centeredSlides&&!d.params.cssMode&&(d.wrapperEl.style.transform=`translateX(${d.minTranslate()}px)`),d.params.centeredSlides&&d.params.cssMode&&(Ue-=Se[0].swiperSlideOffset);let dt=d.params.cssMode?-Ue-d.translate:-Ue,Ze=0;const Ht=-100*Math.abs(ct);let Rn=1,X=-Fe.perSlideRotate*ct,z=Fe.perSlideOffset-.75*Math.abs(ct);const ne=d.virtual&&d.params.virtual.enabled?d.virtual.from+Xe:Xe;if((ne===Te||ne===Te-1)&&ct>0&&ct<1&&(he||d.params.cssMode)&&Me<fe||(ne===Te||ne===Te+1)&&ct<0&&ct>-1&&(he||d.params.cssMode)&&Me>fe){const yn=(1-Math.abs((Math.abs(ct)-.5)/.5))**.5;X+=-28*ct*yn,Rn+=-.5*yn,z+=96*yn,Ze=-25*yn*Math.abs(ct)+"%"}if(dt=ct<0?`calc(${dt}px ${le?"-":"+"} (${z*Math.abs(ct)}%))`:ct>0?`calc(${dt}px ${le?"-":"+"} (-${z*Math.abs(ct)}%))`:`${dt}px`,!d.isHorizontal()){const yn=Ze;Ze=dt,dt=yn}const Ct=`\n        translate3d(${dt}, ${Ze}, ${Ht}px)\n        rotateZ(${Fe.rotate?le?-X:X:0}deg)\n        scale(${ct<0?""+(1+(1-Rn)*ct):""+(1-(1-Rn)*ct)})\n      `;if(Fe.slideShadows){let yn=et.querySelector(".swiper-slide-shadow");yn||(yn=ea("cards",et)),yn&&(yn.style.opacity=Math.min(Math.max((Math.abs(ct)-.5)/.5,0),1))}et.style.zIndex=-Math.abs(Math.round(lt))+Se.length,Mo(0,et).style.transform=Ct}},setTransition:Se=>{const Te=d.slides.map(le=>Bt(le));Te.forEach(le=>{le.style.transitionDuration=`${Se}ms`,le.querySelectorAll(".swiper-slide-shadow").forEach(Fe=>{Fe.style.transitionDuration=`${Se}ms`})}),Ta({swiper:d,duration:Se,transformElements:Te})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!d.params.cssMode})})}]);const Le=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function bt(D){return"object"==typeof D&&null!==D&&D.constructor&&"Object"===Object.prototype.toString.call(D).slice(8,-1)&&!D.__swiper__}function mr(D,d){const N=["__proto__","constructor","prototype"];Object.keys(d).filter(F=>N.indexOf(F)<0).forEach(F=>{typeof D[F]>"u"?D[F]=d[F]:bt(d[F])&&bt(D[F])&&Object.keys(d[F]).length>0?d[F].__swiper__?D[F]=d[F]:mr(D[F],d[F]):D[F]=d[F]})}function nt(D){return void 0===D&&(D=""),D.replace(/-[a-z]/g,d=>d.toUpperCase().replace("-",""))}const En=D=>{if(parseFloat(D)===Number(D))return Number(D);if("true"===D||""===D)return!0;if("false"===D)return!1;if("null"===D)return null;if("undefined"!==D){if("string"==typeof D&&D.includes("{")&&D.includes("}")&&D.includes('"')){let d;try{d=JSON.parse(D)}catch{d=D}return d}return D}},On=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function In(D,d,N){const F={},ee={};mr(F,Je);const Z=[...Le,"on"],Se=Z.map(le=>le.replace(/_/,""));Z.forEach(le=>{le=le.replace("_",""),typeof D[le]<"u"&&(ee[le]=D[le])});const Te=[...D.attributes];return"string"==typeof d&&typeof N<"u"&&Te.push({name:d,value:bt(N)?{...N}:N}),Te.forEach(le=>{const Fe=On.filter(fe=>0===le.name.indexOf(`${fe}-`))[0];if(Fe){const fe=nt(Fe),he=nt(le.name.split(`${Fe}-`)[1]);typeof ee[fe]>"u"&&(ee[fe]={}),!0===ee[fe]&&(ee[fe]={enabled:!0}),ee[fe][he]=En(le.value)}else{const fe=nt(le.name);if(!Se.includes(fe))return;const he=En(le.value);ee[fe]&&On.includes(le.name)&&!bt(he)?(ee[fe].constructor!==Object&&(ee[fe]={}),ee[fe].enabled=!!he):ee[fe]=he}}),mr(F,ee),F.navigation?F.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==F.navigation?F.navigation:{}}:!1===F.navigation&&delete F.navigation,F.scrollbar?F.scrollbar={el:".swiper-scrollbar",...!0!==F.scrollbar?F.scrollbar:{}}:!1===F.scrollbar&&delete F.scrollbar,F.pagination?F.pagination={el:".swiper-pagination",...!0!==F.pagination?F.pagination:{}}:!1===F.pagination&&delete F.pagination,{params:F,passedParams:ee}}const Mn=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",ur=typeof window>"u"||typeof HTMLElement>"u"?class Ri{}:HTMLElement,Qi='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Yr=(D,d)=>{if(typeof CSSStyleSheet<"u"&&D.adoptedStyleSheets){const N=new CSSStyleSheet;N.replaceSync(d),D.adoptedStyleSheets=[N]}else{const N=document.createElement("style");N.rel="stylesheet",N.textContent=d,D.appendChild(N)}};class Po extends ur{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Qi}static get prevButtonSvg(){return Qi.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Mn,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const d=this.slideSlots||0,N=[...this.querySelectorAll("[slot^=slide-]")].map(F=>parseInt(F.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=N.length?Math.max(...N)+1:0,this.rendered)if(this.slideSlots>d)for(let F=d;F<this.slideSlots;F+=1){const ee=document.createElement("swiper-slide");ee.setAttribute("part",`slide slide-${F+1}`);const Z=document.createElement("slot");Z.setAttribute("name",`slide-${F+1}`),ee.appendChild(Z),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(ee)}else if(this.slideSlots<d){const F=this.swiper.slides;for(let ee=F.length-1;ee>=0;ee-=1)ee>this.slideSlots&&F[ee].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let d=this.cssStyles();this.slideSlots>0&&(d=d.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),d.length&&Yr(this.shadowRoot,d),this.cssLinks().forEach(F=>{if(this.shadowRoot.querySelector(`link[href="${F}"]`))return;const Z=document.createElement("link");Z.rel="stylesheet",Z.href=F,this.shadowRoot.appendChild(Z)});const N=document.createElement("div");N.classList.add("swiper"),N.part="container",N.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((F,ee)=>`\n        <swiper-slide part="slide slide-${ee}">\n          <slot name="slide-${ee}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function oo(D){return void 0===D&&(D={}),D.navigation&&typeof D.navigation.nextEl>"u"&&typeof D.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function te(D){return void 0===D&&(D={}),D.pagination&&typeof D.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function Ee(D){return void 0===D&&(D={}),D.scrollbar&&typeof D.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(N),this.rendered=!0}initialize(){var d=this;if(this.initialized)return;this.initialized=!0;const{params:N,passedParams:F}=In(this);this.swiperParams=N,this.passedParams=F,delete this.swiperParams.init,this.render(),this.swiper=new Si(this.shadowRoot.querySelector(".swiper"),{...N.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...N,touchEventsTarget:"container",onAny:function(ee){"observerUpdate"===ee&&d.calcSlideSlots();const Z=N.eventsPrefix?`${N.eventsPrefix}${ee.toLowerCase()}`:ee.toLowerCase();for(var Se=arguments.length,Te=new Array(Se>1?Se-1:0),le=1;le<Se;le++)Te[le-1]=arguments[le];const Fe=new CustomEvent(Z,{detail:Te,bubbles:"hashChange"!==ee,cancelable:!0});d.dispatchEvent(Fe)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(d,N){const{params:F,passedParams:ee}=In(this,d,N);this.passedParams=ee,this.swiperParams=F,(!this.swiper||this.swiper.params[d]!==N)&&function _t(D){let{swiper:d,slides:N,passedParams:F,changedParams:ee,nextEl:Z,prevEl:Se,scrollbarEl:Te,paginationEl:le}=D;const Fe=ee.filter(G=>"children"!==G&&"direction"!==G&&"wrapperClass"!==G),{params:fe,pagination:he,navigation:Me,scrollbar:Xe,virtual:et,thumbs:lt}=d;let ct,Ue,dt,Ze,Ht,Rn,X,z;ee.includes("thumbs")&&F.thumbs&&F.thumbs.swiper&&fe.thumbs&&!fe.thumbs.swiper&&(ct=!0),ee.includes("controller")&&F.controller&&F.controller.control&&fe.controller&&!fe.controller.control&&(Ue=!0),ee.includes("pagination")&&F.pagination&&(F.pagination.el||le)&&(fe.pagination||!1===fe.pagination)&&he&&!he.el&&(dt=!0),ee.includes("scrollbar")&&F.scrollbar&&(F.scrollbar.el||Te)&&(fe.scrollbar||!1===fe.scrollbar)&&Xe&&!Xe.el&&(Ze=!0),ee.includes("navigation")&&F.navigation&&(F.navigation.prevEl||Se)&&(F.navigation.nextEl||Z)&&(fe.navigation||!1===fe.navigation)&&Me&&!Me.prevEl&&!Me.nextEl&&(Ht=!0);const ne=G=>{d[G]&&(d[G].destroy(),"navigation"===G?(d.isElement&&(d[G].prevEl.remove(),d[G].nextEl.remove()),fe[G].prevEl=void 0,fe[G].nextEl=void 0,d[G].prevEl=void 0,d[G].nextEl=void 0):(d.isElement&&d[G].el.remove(),fe[G].el=void 0,d[G].el=void 0))};ee.includes("loop")&&d.isElement&&(fe.loop&&!F.loop?Rn=!0:!fe.loop&&F.loop?X=!0:z=!0),Fe.forEach(G=>{if(bt(fe[G])&&bt(F[G]))Object.assign(fe[G],F[G]),("navigation"===G||"pagination"===G||"scrollbar"===G)&&"enabled"in F[G]&&!F[G].enabled&&ne(G);else{const ce=F[G];!0!==ce&&!1!==ce||"navigation"!==G&&"pagination"!==G&&"scrollbar"!==G?fe[G]=F[G]:!1===ce&&ne(G)}}),Fe.includes("controller")&&!Ue&&d.controller&&d.controller.control&&fe.controller&&fe.controller.control&&(d.controller.control=fe.controller.control),ee.includes("children")&&N&&et&&fe.virtual.enabled?(et.slides=N,et.update(!0)):ee.includes("virtual")&&et&&fe.virtual.enabled&&(N&&(et.slides=N),et.update(!0)),ee.includes("children")&&N&&fe.loop&&(z=!0),ct&&lt.init()&&lt.update(!0),Ue&&(d.controller.control=fe.controller.control),dt&&(d.isElement&&(!le||"string"==typeof le)&&(le=document.createElement("div"),le.classList.add("swiper-pagination"),le.part.add("pagination"),d.el.appendChild(le)),le&&(fe.pagination.el=le),he.init(),he.render(),he.update()),Ze&&(d.isElement&&(!Te||"string"==typeof Te)&&(Te=document.createElement("div"),Te.classList.add("swiper-scrollbar"),Te.part.add("scrollbar"),d.el.appendChild(Te)),Te&&(fe.scrollbar.el=Te),Xe.init(),Xe.updateSize(),Xe.setTranslate()),Ht&&(d.isElement&&((!Z||"string"==typeof Z)&&(Z=document.createElement("div"),Z.classList.add("swiper-button-next"),Z.innerHTML=d.hostEl.constructor.nextButtonSvg,Z.part.add("button-next"),d.el.appendChild(Z)),(!Se||"string"==typeof Se)&&(Se=document.createElement("div"),Se.classList.add("swiper-button-prev"),Se.innerHTML=d.hostEl.constructor.prevButtonSvg,Se.part.add("button-prev"),d.el.appendChild(Se))),Z&&(fe.navigation.nextEl=Z),Se&&(fe.navigation.prevEl=Se),Me.init(),Me.update()),ee.includes("allowSlideNext")&&(d.allowSlideNext=F.allowSlideNext),ee.includes("allowSlidePrev")&&(d.allowSlidePrev=F.allowSlidePrev),ee.includes("direction")&&d.changeDirection(F.direction,!1),(Rn||z)&&d.loopDestroy(),(X||z)&&d.loopCreate(),d.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[nt(d)],..."navigation"===d&&ee[d]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===d&&ee[d]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===d&&ee[d]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(d,N,F){this.initialized&&("true"===N&&null===F&&(F=!1),this.updateSwiperOnPropChange(d,F))}static get observedAttributes(){return Le.filter(N=>N.includes("_")).map(N=>N.replace(/[A-Z]/g,F=>`-${F}`).replace("_","").toLowerCase())}}Le.forEach(D=>{"init"!==D&&(D=D.replace("_",""),Object.defineProperty(Po.prototype,D,{configurable:!0,get(){return(this.passedParams||{})[D]},set(d){this.passedParams||(this.passedParams={}),this.passedParams[D]=d,this.initialized&&this.updateSwiperOnPropChange(D,d)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=D=>{Le.push(...D)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Po),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class ts extends ur{constructor(){super(),this.attachShadow({mode:"open"})}render(){const d=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(Yr(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),d){const N=document.createElement("div");N.classList.add("swiper-lazy-preloader"),N.part.add("preloader"),this.shadowRoot.appendChild(N)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let Ao=(()=>{var D;class d{constructor(){}}return(D=d).\u0275fac=function(F){return new(F||D)},D.\u0275cmp=m.VBU({type:D,selectors:[["app-root"]],decls:2,vars:0,template:function(F,ee){1&F&&(m.j41(0,"ion-app"),m.nrm(1,"ion-router-outlet"),m.k0s())},dependencies:[k.U1,k.Rg]}),d})();const Oo=[{path:"home",loadChildren:()=>Promise.resolve().then(pe.bind(pe,594)).then(D=>D.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"tres",loadChildren:()=>Promise.resolve().then(pe.bind(pe,4652)).then(D=>D.TresPageModule)},{path:"historia",loadChildren:()=>Promise.resolve().then(pe.bind(pe,3971)).then(D=>D.HistoriaPageModule)}];let xa=(()=>{var D;class d{}return(D=d).\u0275fac=function(F){return new(F||D)},D.\u0275mod=m.$C({type:D}),D.\u0275inj=m.G2t({imports:[ke.iI.forRoot(Oo,{preloadingStrategy:ke.Kp}),ke.iI]}),d})();var Ka=pe(594),Oa=pe(3971),Kl=pe(4652);let Pl=(()=>{var D;class d{}return(D=d).\u0275fac=function(F){return new(F||D)},D.\u0275mod=m.$C({type:D,bootstrap:[Ao]}),D.\u0275inj=m.G2t({providers:[{provide:ke.b,useClass:Et.jM}],imports:[b.Bb,k.bv.forRoot(),xa,Ka.HomePageModule,Oa.HistoriaPageModule,Kl.TresPageModule]}),d})();(0,m.SmG)(),b.sG().bootstrapModule(Pl).catch(D=>console.log(D))},4412:(Zi,xn,pe)=>{"use strict";pe.d(xn,{t:()=>m});var b=pe(1413);class m extends b.B{constructor(Et){super(),this._value=Et}get value(){return this.getValue()}_subscribe(Et){const k=super._subscribe(Et);return!k.closed&&Et.next(this._value),k}getValue(){const{hasError:Et,thrownError:k,_value:Xt}=this;if(Et)throw k;return this._throwIfClosed(),Xt}next(Et){super.next(this._value=Et)}}},1985:(Zi,xn,pe)=>{"use strict";pe.d(xn,{c:()=>$t});var b=pe(7707),m=pe(8359),ke=pe(3494),Et=pe(1203),k=pe(1026),Xt=pe(8071),je=pe(9786);let $t=(()=>{class At{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const It=new At;return It.source=this,It.operator=pt,It}subscribe(pt,It,rn){const Ut=function rt(At){return At&&At instanceof b.vU||function Yt(At){return At&&(0,Xt.T)(At.next)&&(0,Xt.T)(At.error)&&(0,Xt.T)(At.complete)}(At)&&(0,m.Uv)(At)}(pt)?pt:new b.Ms(pt,It,rn);return(0,je.Y)(()=>{const{operator:Gt,source:fn}=this;Ut.add(Gt?Gt.call(Ut,fn):fn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(pt){try{return this._subscribe(pt)}catch(It){pt.error(It)}}forEach(pt,It){return new(It=Zt(It))((rn,Ut)=>{const Gt=new b.Ms({next:fn=>{try{pt(fn)}catch(Tt){Ut(Tt),Gt.unsubscribe()}},error:Ut,complete:rn});this.subscribe(Gt)})}_subscribe(pt){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(pt)}[ke.s](){return this}pipe(...pt){return(0,Et.m)(pt)(this)}toPromise(pt){return new(pt=Zt(pt))((It,rn)=>{let Ut;this.subscribe(Gt=>Ut=Gt,Gt=>rn(Gt),()=>It(Ut))})}}return At.create=xt=>new At(xt),At})();function Zt(At){var xt;return null!==(xt=null!=At?At:k.$.Promise)&&void 0!==xt?xt:Promise}},1413:(Zi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>je});var b=pe(1985),m=pe(8359);const Et=(0,pe(1853).L)(Zt=>function(){Zt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var k=pe(7908),Xt=pe(9786);let je=(()=>{class Zt extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(rt){const At=new $t(this,this);return At.operator=rt,At}_throwIfClosed(){if(this.closed)throw new Et}next(rt){(0,Xt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const At of this.currentObservers)At.next(rt)}})}error(rt){(0,Xt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=rt;const{observers:At}=this;for(;At.length;)At.shift().error(rt)}})}complete(){(0,Xt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:rt}=this;for(;rt.length;)rt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var rt;return(null===(rt=this.observers)||void 0===rt?void 0:rt.length)>0}_trySubscribe(rt){return this._throwIfClosed(),super._trySubscribe(rt)}_subscribe(rt){return this._throwIfClosed(),this._checkFinalizedStatuses(rt),this._innerSubscribe(rt)}_innerSubscribe(rt){const{hasError:At,isStopped:xt,observers:pt}=this;return At||xt?m.Kn:(this.currentObservers=null,pt.push(rt),new m.yU(()=>{this.currentObservers=null,(0,k.o)(pt,rt)}))}_checkFinalizedStatuses(rt){const{hasError:At,thrownError:xt,isStopped:pt}=this;At?rt.error(xt):pt&&rt.complete()}asObservable(){const rt=new b.c;return rt.source=this,rt}}return Zt.create=(Yt,rt)=>new $t(Yt,rt),Zt})();class $t extends je{constructor(Yt,rt){super(),this.destination=Yt,this.source=rt}next(Yt){var rt,At;null===(At=null===(rt=this.destination)||void 0===rt?void 0:rt.next)||void 0===At||At.call(rt,Yt)}error(Yt){var rt,At;null===(At=null===(rt=this.destination)||void 0===rt?void 0:rt.error)||void 0===At||At.call(rt,Yt)}complete(){var Yt,rt;null===(rt=null===(Yt=this.destination)||void 0===Yt?void 0:Yt.complete)||void 0===rt||rt.call(Yt)}_subscribe(Yt){var rt,At;return null!==(At=null===(rt=this.source)||void 0===rt?void 0:rt.subscribe(Yt))&&void 0!==At?At:m.Kn}}},7707:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Ms:()=>rn,vU:()=>At});var b=pe(8071),m=pe(8359),ke=pe(1026),Et=pe(5334),k=pe(5343);const Xt=Zt("C",void 0,void 0);function Zt(jt,st,Bt){return{kind:jt,value:st,error:Bt}}var Yt=pe(9270),rt=pe(9786);class At extends m.yU{constructor(st){super(),this.isStopped=!1,st?(this.destination=st,(0,m.Uv)(st)&&st.add(this)):this.destination=Tt}static create(st,Bt,Vt){return new rn(st,Bt,Vt)}next(st){this.isStopped?fn(function $t(jt){return Zt("N",jt,void 0)}(st),this):this._next(st)}error(st){this.isStopped?fn(function je(jt){return Zt("E",void 0,jt)}(st),this):(this.isStopped=!0,this._error(st))}complete(){this.isStopped?fn(Xt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(st){this.destination.next(st)}_error(st){try{this.destination.error(st)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xt=Function.prototype.bind;function pt(jt,st){return xt.call(jt,st)}class It{constructor(st){this.partialObserver=st}next(st){const{partialObserver:Bt}=this;if(Bt.next)try{Bt.next(st)}catch(Vt){Ut(Vt)}}error(st){const{partialObserver:Bt}=this;if(Bt.error)try{Bt.error(st)}catch(Vt){Ut(Vt)}else Ut(st)}complete(){const{partialObserver:st}=this;if(st.complete)try{st.complete()}catch(Bt){Ut(Bt)}}}class rn extends At{constructor(st,Bt,Vt){let Qt;if(super(),(0,b.T)(st)||!st)Qt={next:null!=st?st:void 0,error:null!=Bt?Bt:void 0,complete:null!=Vt?Vt:void 0};else{let en;this&&ke.$.useDeprecatedNextContext?(en=Object.create(st),en.unsubscribe=()=>this.unsubscribe(),Qt={next:st.next&&pt(st.next,en),error:st.error&&pt(st.error,en),complete:st.complete&&pt(st.complete,en)}):Qt=st}this.destination=new It(Qt)}}function Ut(jt){ke.$.useDeprecatedSynchronousErrorHandling?(0,rt.l)(jt):(0,Et.m)(jt)}function fn(jt,st){const{onStoppedNotification:Bt}=ke.$;Bt&&Yt.f.setTimeout(()=>Bt(jt,st))}const Tt={closed:!0,next:k.l,error:function Gt(jt){throw jt},complete:k.l}},8359:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Kn:()=>Xt,yU:()=>k,Uv:()=>je});var b=pe(8071);const ke=(0,pe(1853).L)(Zt=>function(rt){Zt(this),this.message=rt?`${rt.length} errors occurred during unsubscription:\n${rt.map((At,xt)=>`${xt+1}) ${At.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=rt});var Et=pe(7908);class k{constructor(Yt){this.initialTeardown=Yt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Yt;if(!this.closed){this.closed=!0;const{_parentage:rt}=this;if(rt)if(this._parentage=null,Array.isArray(rt))for(const pt of rt)pt.remove(this);else rt.remove(this);const{initialTeardown:At}=this;if((0,b.T)(At))try{At()}catch(pt){Yt=pt instanceof ke?pt.errors:[pt]}const{_finalizers:xt}=this;if(xt){this._finalizers=null;for(const pt of xt)try{$t(pt)}catch(It){Yt=null!=Yt?Yt:[],It instanceof ke?Yt=[...Yt,...It.errors]:Yt.push(It)}}if(Yt)throw new ke(Yt)}}add(Yt){var rt;if(Yt&&Yt!==this)if(this.closed)$t(Yt);else{if(Yt instanceof k){if(Yt.closed||Yt._hasParent(this))return;Yt._addParent(this)}(this._finalizers=null!==(rt=this._finalizers)&&void 0!==rt?rt:[]).push(Yt)}}_hasParent(Yt){const{_parentage:rt}=this;return rt===Yt||Array.isArray(rt)&&rt.includes(Yt)}_addParent(Yt){const{_parentage:rt}=this;this._parentage=Array.isArray(rt)?(rt.push(Yt),rt):rt?[rt,Yt]:Yt}_removeParent(Yt){const{_parentage:rt}=this;rt===Yt?this._parentage=null:Array.isArray(rt)&&(0,Et.o)(rt,Yt)}remove(Yt){const{_finalizers:rt}=this;rt&&(0,Et.o)(rt,Yt),Yt instanceof k&&Yt._removeParent(this)}}k.EMPTY=(()=>{const Zt=new k;return Zt.closed=!0,Zt})();const Xt=k.EMPTY;function je(Zt){return Zt instanceof k||Zt&&"closed"in Zt&&(0,b.T)(Zt.remove)&&(0,b.T)(Zt.add)&&(0,b.T)(Zt.unsubscribe)}function $t(Zt){(0,b.T)(Zt)?Zt():Zt.unsubscribe()}},1026:(Zi,xn,pe)=>{"use strict";pe.d(xn,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Zi,xn,pe)=>{"use strict";pe.d(xn,{z:()=>Yt});var b=pe(1985),m=pe(3073),ke=pe(6648),Et=pe(3669),k=pe(6450),Xt=pe(3794),je=pe(8496),$t=pe(4360),Zt=pe(5225);function Yt(...xt){const pt=(0,Xt.lI)(xt),It=(0,Xt.ms)(xt),{args:rn,keys:Ut}=(0,m.D)(xt);if(0===rn.length)return(0,ke.H)([],pt);const Gt=new b.c(function rt(xt,pt,It=Et.D){return rn=>{At(pt,()=>{const{length:Ut}=xt,Gt=new Array(Ut);let fn=Ut,Tt=Ut;for(let jt=0;jt<Ut;jt++)At(pt,()=>{const st=(0,ke.H)(xt[jt],pt);let Bt=!1;st.subscribe((0,$t._)(rn,Vt=>{Gt[jt]=Vt,Bt||(Bt=!0,Tt--),Tt||rn.next(It(Gt.slice()))},()=>{--fn||rn.complete()}))},rn)},rn)}}(rn,pt,Ut?fn=>(0,je.e)(Ut,fn):Et.D));return It?Gt.pipe((0,k.I)(It)):Gt}function At(xt,pt,It){xt?(0,Zt.N)(It,xt,pt):pt()}},6648:(Zi,xn,pe)=>{"use strict";pe.d(xn,{H:()=>Vt});var b=pe(8750),m=pe(5225),ke=pe(9974),Et=pe(4360);function k(Qt,en=0){return(0,ke.N)((gt,pn)=>{gt.subscribe((0,Et._)(pn,Tn=>(0,m.N)(pn,Qt,()=>pn.next(Tn),en),()=>(0,m.N)(pn,Qt,()=>pn.complete(),en),Tn=>(0,m.N)(pn,Qt,()=>pn.error(Tn),en)))})}function Xt(Qt,en=0){return(0,ke.N)((gt,pn)=>{pn.add(Qt.schedule(()=>gt.subscribe(pn),en))})}var Zt=pe(1985),rt=pe(4761),At=pe(8071);function pt(Qt,en){if(!Qt)throw new Error("Iterable cannot be null");return new Zt.c(gt=>{(0,m.N)(gt,en,()=>{const pn=Qt[Symbol.asyncIterator]();(0,m.N)(gt,en,()=>{pn.next().then(Tn=>{Tn.done?gt.complete():gt.next(Tn.value)})},0,!0)})})}var It=pe(5055),rn=pe(9858),Ut=pe(7441),Gt=pe(5397),fn=pe(7953),Tt=pe(591),jt=pe(5196);function Vt(Qt,en){return en?function Bt(Qt,en){if(null!=Qt){if((0,It.l)(Qt))return function je(Qt,en){return(0,b.Tg)(Qt).pipe(Xt(en),k(en))}(Qt,en);if((0,Ut.X)(Qt))return function Yt(Qt,en){return new Zt.c(gt=>{let pn=0;return en.schedule(function(){pn===Qt.length?gt.complete():(gt.next(Qt[pn++]),gt.closed||this.schedule())})})}(Qt,en);if((0,rn.y)(Qt))return function $t(Qt,en){return(0,b.Tg)(Qt).pipe(Xt(en),k(en))}(Qt,en);if((0,fn.T)(Qt))return pt(Qt,en);if((0,Gt.x)(Qt))return function xt(Qt,en){return new Zt.c(gt=>{let pn;return(0,m.N)(gt,en,()=>{pn=Qt[rt.l](),(0,m.N)(gt,en,()=>{let Tn,pi;try{({value:Tn,done:pi}=pn.next())}catch(Ci){return void gt.error(Ci)}pi?gt.complete():gt.next(Tn)},0,!0)}),()=>(0,At.T)(null==pn?void 0:pn.return)&&pn.return()})}(Qt,en);if((0,jt.U)(Qt))return function st(Qt,en){return pt((0,jt.C)(Qt),en)}(Qt,en)}throw(0,Tt.L)(Qt)}(Qt,en):(0,b.Tg)(Qt)}},3726:(Zi,xn,pe)=>{"use strict";pe.d(xn,{R:()=>Yt});var b=pe(8750),m=pe(1985),ke=pe(1397),Et=pe(7441),k=pe(8071),Xt=pe(6450);const je=["addListener","removeListener"],$t=["addEventListener","removeEventListener"],Zt=["on","off"];function Yt(It,rn,Ut,Gt){if((0,k.T)(Ut)&&(Gt=Ut,Ut=void 0),Gt)return Yt(It,rn,Ut).pipe((0,Xt.I)(Gt));const[fn,Tt]=function pt(It){return(0,k.T)(It.addEventListener)&&(0,k.T)(It.removeEventListener)}(It)?$t.map(jt=>st=>It[jt](rn,st,Ut)):function At(It){return(0,k.T)(It.addListener)&&(0,k.T)(It.removeListener)}(It)?je.map(rt(It,rn)):function xt(It){return(0,k.T)(It.on)&&(0,k.T)(It.off)}(It)?Zt.map(rt(It,rn)):[];if(!fn&&(0,Et.X)(It))return(0,ke.Z)(jt=>Yt(jt,rn,Ut))((0,b.Tg)(It));if(!fn)throw new TypeError("Invalid event target");return new m.c(jt=>{const st=(...Bt)=>jt.next(1<Bt.length?Bt:Bt[0]);return fn(st),()=>Tt(st)})}function rt(It,rn){return Ut=>Gt=>It[Ut](rn,Gt)}},8750:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Tg:()=>xt});var b=pe(1635),m=pe(7441),ke=pe(9858),Et=pe(1985),k=pe(5055),Xt=pe(7953),je=pe(591),$t=pe(5397),Zt=pe(5196),Yt=pe(8071),rt=pe(5334),At=pe(3494);function xt(jt){if(jt instanceof Et.c)return jt;if(null!=jt){if((0,k.l)(jt))return function pt(jt){return new Et.c(st=>{const Bt=jt[At.s]();if((0,Yt.T)(Bt.subscribe))return Bt.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(jt);if((0,m.X)(jt))return function It(jt){return new Et.c(st=>{for(let Bt=0;Bt<jt.length&&!st.closed;Bt++)st.next(jt[Bt]);st.complete()})}(jt);if((0,ke.y)(jt))return function rn(jt){return new Et.c(st=>{jt.then(Bt=>{st.closed||(st.next(Bt),st.complete())},Bt=>st.error(Bt)).then(null,rt.m)})}(jt);if((0,Xt.T)(jt))return Gt(jt);if((0,$t.x)(jt))return function Ut(jt){return new Et.c(st=>{for(const Bt of jt)if(st.next(Bt),st.closed)return;st.complete()})}(jt);if((0,Zt.U)(jt))return function fn(jt){return Gt((0,Zt.C)(jt))}(jt)}throw(0,je.L)(jt)}function Gt(jt){return new Et.c(st=>{(function Tt(jt,st){var Bt,Vt,Qt,en;return(0,b.sH)(this,void 0,void 0,function*(){try{for(Bt=(0,b.xN)(jt);!(Vt=yield Bt.next()).done;)if(st.next(Vt.value),st.closed)return}catch(gt){Qt={error:gt}}finally{try{Vt&&!Vt.done&&(en=Bt.return)&&(yield en.call(Bt))}finally{if(Qt)throw Qt.error}}st.complete()})})(jt,st).catch(Bt=>st.error(Bt))})}},7673:(Zi,xn,pe)=>{"use strict";pe.d(xn,{of:()=>ke});var b=pe(3794),m=pe(6648);function ke(...Et){const k=(0,b.lI)(Et);return(0,m.H)(Et,k)}},4360:(Zi,xn,pe)=>{"use strict";pe.d(xn,{_:()=>m});var b=pe(7707);function m(Et,k,Xt,je,$t){return new ke(Et,k,Xt,je,$t)}class ke extends b.vU{constructor(k,Xt,je,$t,Zt,Yt){super(k),this.onFinalize=Zt,this.shouldUnsubscribe=Yt,this._next=Xt?function(rt){try{Xt(rt)}catch(At){k.error(At)}}:super._next,this._error=$t?function(rt){try{$t(rt)}catch(At){k.error(At)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(rt){k.error(rt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var k;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Xt}=this;super.unsubscribe(),!Xt&&(null===(k=this.onFinalize)||void 0===k||k.call(this))}}}},5964:(Zi,xn,pe)=>{"use strict";pe.d(xn,{p:()=>ke});var b=pe(9974),m=pe(4360);function ke(Et,k){return(0,b.N)((Xt,je)=>{let $t=0;Xt.subscribe((0,m._)(je,Zt=>Et.call(k,Zt,$t++)&&je.next(Zt)))})}},6354:(Zi,xn,pe)=>{"use strict";pe.d(xn,{T:()=>ke});var b=pe(9974),m=pe(4360);function ke(Et,k){return(0,b.N)((Xt,je)=>{let $t=0;Xt.subscribe((0,m._)(je,Zt=>{je.next(Et.call(k,Zt,$t++))}))})}},1397:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Z:()=>$t});var b=pe(6354),m=pe(8750),ke=pe(9974),Et=pe(5225),k=pe(4360),je=pe(8071);function $t(Zt,Yt,rt=1/0){return(0,je.T)(Yt)?$t((At,xt)=>(0,b.T)((pt,It)=>Yt(At,pt,xt,It))((0,m.Tg)(Zt(At,xt))),rt):("number"==typeof Yt&&(rt=Yt),(0,ke.N)((At,xt)=>function Xt(Zt,Yt,rt,At,xt,pt,It,rn){const Ut=[];let Gt=0,fn=0,Tt=!1;const jt=()=>{Tt&&!Ut.length&&!Gt&&Yt.complete()},st=Vt=>Gt<At?Bt(Vt):Ut.push(Vt),Bt=Vt=>{pt&&Yt.next(Vt),Gt++;let Qt=!1;(0,m.Tg)(rt(Vt,fn++)).subscribe((0,k._)(Yt,en=>{null==xt||xt(en),pt?st(en):Yt.next(en)},()=>{Qt=!0},void 0,()=>{if(Qt)try{for(Gt--;Ut.length&&Gt<At;){const en=Ut.shift();It?(0,Et.N)(Yt,It,()=>Bt(en)):Bt(en)}jt()}catch(en){Yt.error(en)}}))};return Zt.subscribe((0,k._)(Yt,st,()=>{Tt=!0,jt()})),()=>{null==rn||rn()}}(At,xt,Zt,rt)))}},5558:(Zi,xn,pe)=>{"use strict";pe.d(xn,{n:()=>Et});var b=pe(8750),m=pe(9974),ke=pe(4360);function Et(k,Xt){return(0,m.N)((je,$t)=>{let Zt=null,Yt=0,rt=!1;const At=()=>rt&&!Zt&&$t.complete();je.subscribe((0,ke._)($t,xt=>{null==Zt||Zt.unsubscribe();let pt=0;const It=Yt++;(0,b.Tg)(k(xt,It)).subscribe(Zt=(0,ke._)($t,rn=>$t.next(Xt?Xt(xt,rn,It,pt++):rn),()=>{Zt=null,At()}))},()=>{rt=!0,At()}))})}},9270:(Zi,xn,pe)=>{"use strict";pe.d(xn,{f:()=>b});const b={setTimeout(m,ke,...Et){const{delegate:k}=b;return null!=k&&k.setTimeout?k.setTimeout(m,ke,...Et):setTimeout(m,ke,...Et)},clearTimeout(m){const{delegate:ke}=b;return((null==ke?void 0:ke.clearTimeout)||clearTimeout)(m)},delegate:void 0}},4761:(Zi,xn,pe)=>{"use strict";pe.d(xn,{l:()=>m});const m=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Zi,xn,pe)=>{"use strict";pe.d(xn,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Zi,xn,pe)=>{"use strict";pe.d(xn,{ms:()=>Et,lI:()=>k});var b=pe(8071);function ke(je){return je[je.length-1]}function Et(je){return(0,b.T)(ke(je))?je.pop():void 0}function k(je){return function m(je){return je&&(0,b.T)(je.schedule)}(ke(je))?je.pop():void 0}},3073:(Zi,xn,pe)=>{"use strict";pe.d(xn,{D:()=>k});const{isArray:b}=Array,{getPrototypeOf:m,prototype:ke,keys:Et}=Object;function k(je){if(1===je.length){const $t=je[0];if(b($t))return{args:$t,keys:null};if(function Xt(je){return je&&"object"==typeof je&&m(je)===ke}($t)){const Zt=Et($t);return{args:Zt.map(Yt=>$t[Yt]),keys:Zt}}}return{args:je,keys:null}}},7908:(Zi,xn,pe)=>{"use strict";function b(m,ke){if(m){const Et=m.indexOf(ke);0<=Et&&m.splice(Et,1)}}pe.d(xn,{o:()=>b})},1853:(Zi,xn,pe)=>{"use strict";function b(m){const Et=m(k=>{Error.call(k),k.stack=(new Error).stack});return Et.prototype=Object.create(Error.prototype),Et.prototype.constructor=Et,Et}pe.d(xn,{L:()=>b})},8496:(Zi,xn,pe)=>{"use strict";function b(m,ke){return m.reduce((Et,k,Xt)=>(Et[k]=ke[Xt],Et),{})}pe.d(xn,{e:()=>b})},9786:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Y:()=>ke,l:()=>Et});var b=pe(1026);let m=null;function ke(k){if(b.$.useDeprecatedSynchronousErrorHandling){const Xt=!m;if(Xt&&(m={errorThrown:!1,error:null}),k(),Xt){const{errorThrown:je,error:$t}=m;if(m=null,je)throw $t}}else k()}function Et(k){b.$.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=k)}},5225:(Zi,xn,pe)=>{"use strict";function b(m,ke,Et,k=0,Xt=!1){const je=ke.schedule(function(){Et(),Xt?m.add(this.schedule(null,k)):this.unsubscribe()},k);if(m.add(je),!Xt)return je}pe.d(xn,{N:()=>b})},3669:(Zi,xn,pe)=>{"use strict";function b(m){return m}pe.d(xn,{D:()=>b})},7441:(Zi,xn,pe)=>{"use strict";pe.d(xn,{X:()=>b});const b=m=>m&&"number"==typeof m.length&&"function"!=typeof m},7953:(Zi,xn,pe)=>{"use strict";pe.d(xn,{T:()=>m});var b=pe(8071);function m(ke){return Symbol.asyncIterator&&(0,b.T)(null==ke?void 0:ke[Symbol.asyncIterator])}},8071:(Zi,xn,pe)=>{"use strict";function b(m){return"function"==typeof m}pe.d(xn,{T:()=>b})},5055:(Zi,xn,pe)=>{"use strict";pe.d(xn,{l:()=>ke});var b=pe(3494),m=pe(8071);function ke(Et){return(0,m.T)(Et[b.s])}},5397:(Zi,xn,pe)=>{"use strict";pe.d(xn,{x:()=>ke});var b=pe(4761),m=pe(8071);function ke(Et){return(0,m.T)(null==Et?void 0:Et[b.l])}},9858:(Zi,xn,pe)=>{"use strict";pe.d(xn,{y:()=>m});var b=pe(8071);function m(ke){return(0,b.T)(null==ke?void 0:ke.then)}},5196:(Zi,xn,pe)=>{"use strict";pe.d(xn,{C:()=>ke,U:()=>Et});var b=pe(1635),m=pe(8071);function ke(k){return(0,b.AQ)(this,arguments,function*(){const je=k.getReader();try{for(;;){const{value:$t,done:Zt}=yield(0,b.N3)(je.read());if(Zt)return yield(0,b.N3)(void 0);yield yield(0,b.N3)($t)}}finally{je.releaseLock()}})}function Et(k){return(0,m.T)(null==k?void 0:k.getReader)}},9974:(Zi,xn,pe)=>{"use strict";pe.d(xn,{N:()=>ke,S:()=>m});var b=pe(8071);function m(Et){return(0,b.T)(null==Et?void 0:Et.lift)}function ke(Et){return k=>{if(m(k))return k.lift(function(Xt){try{return Et(Xt,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Zi,xn,pe)=>{"use strict";pe.d(xn,{I:()=>Et});var b=pe(6354);const{isArray:m}=Array;function Et(k){return(0,b.T)(Xt=>function ke(k,Xt){return m(Xt)?k(...Xt):k(Xt)}(k,Xt))}},5343:(Zi,xn,pe)=>{"use strict";function b(){}pe.d(xn,{l:()=>b})},1203:(Zi,xn,pe)=>{"use strict";pe.d(xn,{F:()=>m,m:()=>ke});var b=pe(3669);function m(...Et){return ke(Et)}function ke(Et){return 0===Et.length?b.D:1===Et.length?Et[0]:function(Xt){return Et.reduce((je,$t)=>$t(je),Xt)}}},5334:(Zi,xn,pe)=>{"use strict";pe.d(xn,{m:()=>ke});var b=pe(1026),m=pe(9270);function ke(Et){m.f.setTimeout(()=>{const{onUnhandledError:k}=b.$;if(!k)throw Et;k(Et)})}},591:(Zi,xn,pe)=>{"use strict";function b(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}pe.d(xn,{L:()=>b})},8996:(Zi,xn,pe)=>{var b={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function m(ke){if(!pe.o(b,ke))return Promise.resolve().then(()=>{var Xt=new Error("Cannot find module '"+ke+"'");throw Xt.code="MODULE_NOT_FOUND",Xt});var Et=b[ke],k=Et[0];return Promise.all(Et.slice(1).map(pe.e)).then(()=>pe(k))}m.keys=()=>Object.keys(b),m.id=8996,Zi.exports=m},177:(Zi,xn,pe)=>{"use strict";pe.d(xn,{AJ:()=>En,MD:()=>_t,N0:()=>Oo,QT:()=>ke,Sm:()=>rn,T3:()=>jr,VF:()=>k,Vy:()=>Ri,Xr:()=>Po,ZD:()=>Et,_b:()=>ye,aZ:()=>Gt,bT:()=>es,fw:()=>Ut,hb:()=>pt,hj:()=>Zt,qQ:()=>je});var b=pe(4438);let m=null;function ke(){return m}function Et(P){var J;null!==(J=m)&&void 0!==J||(m=P)}class k{}const je=new b.nKC("");let $t=(()=>{var P;class J{historyGo(q){throw new Error("")}}return(P=J).\u0275fac=function(q){return new(q||P)},P.\u0275prov=b.jDH({token:P,factory:()=>(0,b.WQX)(Yt),providedIn:"platform"}),J})();const Zt=new b.nKC("");let Yt=(()=>{var P;class J extends $t{constructor(){super(),this._doc=(0,b.WQX)(je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ke().getBaseHref(this._doc)}onPopState(q){const Ae=ke().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("popstate",q,!1),()=>Ae.removeEventListener("popstate",q)}onHashChange(q){const Ae=ke().getGlobalEventTarget(this._doc,"window");return Ae.addEventListener("hashchange",q,!1),()=>Ae.removeEventListener("hashchange",q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(q){this._location.pathname=q}pushState(q,Ae,tt){this._history.pushState(q,Ae,tt)}replaceState(q,Ae,tt){this._history.replaceState(q,Ae,tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return(P=J).\u0275fac=function(q){return new(q||P)},P.\u0275prov=b.jDH({token:P,factory:()=>new P,providedIn:"platform"}),J})();function rt(P,J){if(0==P.length)return J;if(0==J.length)return P;let $e=0;return P.endsWith("/")&&$e++,J.startsWith("/")&&$e++,2==$e?P+J.substring(1):1==$e?P+J:P+"/"+J}function At(P){const J=P.match(/#|\?|$/),$e=J&&J.index||P.length;return P.slice(0,$e-("/"===P[$e-1]?1:0))+P.slice($e)}function xt(P){return P&&"?"!==P[0]?"?"+P:P}let pt=(()=>{var P;class J{historyGo(q){throw new Error("")}}return(P=J).\u0275fac=function(q){return new(q||P)},P.\u0275prov=b.jDH({token:P,factory:()=>(0,b.WQX)(rn),providedIn:"root"}),J})();const It=new b.nKC("");let rn=(()=>{var P;class J extends pt{constructor(q,Ae){var tt,mn,Qn;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(tt=null!==(mn=null!=Ae?Ae:this._platformLocation.getBaseHrefFromDOM())&&void 0!==mn?mn:null===(Qn=(0,b.WQX)(je).location)||void 0===Qn?void 0:Qn.origin)&&void 0!==tt?tt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return rt(this._baseHref,q)}path(q=!1){const Ae=this._platformLocation.pathname+xt(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&q?`${Ae}${tt}`:Ae}pushState(q,Ae,tt,mn){const Qn=this.prepareExternalUrl(tt+xt(mn));this._platformLocation.pushState(q,Ae,Qn)}replaceState(q,Ae,tt,mn){const Qn=this.prepareExternalUrl(tt+xt(mn));this._platformLocation.replaceState(q,Ae,Qn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Ae,tt;null===(Ae=(tt=this._platformLocation).historyGo)||void 0===Ae||Ae.call(tt,q)}}return(P=J).\u0275fac=function(q){return new(q||P)(b.KVO($t),b.KVO(It,8))},P.\u0275prov=b.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}),J})(),Ut=(()=>{var P;class J extends pt{constructor(q,Ae){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=Ae&&(this._baseHref=Ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){var Ae;const tt=null!==(Ae=this._platformLocation.hash)&&void 0!==Ae?Ae:"#";return tt.length>0?tt.substring(1):tt}prepareExternalUrl(q){const Ae=rt(this._baseHref,q);return Ae.length>0?"#"+Ae:Ae}pushState(q,Ae,tt,mn){let Qn=this.prepareExternalUrl(tt+xt(mn));0==Qn.length&&(Qn=this._platformLocation.pathname),this._platformLocation.pushState(q,Ae,Qn)}replaceState(q,Ae,tt,mn){let Qn=this.prepareExternalUrl(tt+xt(mn));0==Qn.length&&(Qn=this._platformLocation.pathname),this._platformLocation.replaceState(q,Ae,Qn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Ae,tt;null===(Ae=(tt=this._platformLocation).historyGo)||void 0===Ae||Ae.call(tt,q)}}return(P=J).\u0275fac=function(q){return new(q||P)(b.KVO($t),b.KVO(It,8))},P.\u0275prov=b.jDH({token:P,factory:P.\u0275fac}),J})(),Gt=(()=>{var P;class J{constructor(q){this._subject=new b.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const Ae=this._locationStrategy.getBaseHref();this._basePath=function st(P){if(new RegExp("^(https?:)?//").test(P)){const[,$e]=P.split(/\/\/[^\/]+/);return $e}return P}(At(jt(Ae))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,Ae=""){return this.path()==this.normalize(q+xt(Ae))}normalize(q){return J.stripTrailingSlash(function Tt(P,J){if(!P||!J.startsWith(P))return J;const $e=J.substring(P.length);return""===$e||["/",";","?","#"].includes($e[0])?$e:J}(this._basePath,jt(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,Ae="",tt=null){this._locationStrategy.pushState(tt,"",q,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+xt(Ae)),tt)}replaceState(q,Ae="",tt=null){this._locationStrategy.replaceState(tt,"",q,Ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+xt(Ae)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var Ae,tt;null===(Ae=(tt=this._locationStrategy).historyGo)||void 0===Ae||Ae.call(tt,q)}onUrlChange(q){var Ae;return this._urlChangeListeners.push(q),null!==(Ae=this._urlChangeSubscription)&&void 0!==Ae||(this._urlChangeSubscription=this.subscribe(tt=>{this._notifyUrlChangeListeners(tt.url,tt.state)})),()=>{const tt=this._urlChangeListeners.indexOf(q);var mn;this._urlChangeListeners.splice(tt,1),0===this._urlChangeListeners.length&&(null===(mn=this._urlChangeSubscription)||void 0===mn||mn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",Ae){this._urlChangeListeners.forEach(tt=>tt(q,Ae))}subscribe(q,Ae,tt){return this._subject.subscribe({next:q,error:Ae,complete:tt})}}return(P=J).normalizeQueryParams=xt,P.joinWithSlash=rt,P.stripTrailingSlash=At,P.\u0275fac=function(q){return new(q||P)(b.KVO(pt))},P.\u0275prov=b.jDH({token:P,factory:()=>function fn(){return new Gt((0,b.KVO)(pt))}(),providedIn:"root"}),J})();function jt(P){return P.replace(/\/index.html$/,"")}function ye(P,J){J=encodeURIComponent(J);for(const $e of P.split(";")){const q=$e.indexOf("="),[Ae,tt]=-1==q?[$e,""]:[$e.slice(0,q),$e.slice(q+1)];if(Ae.trim()===J)return decodeURIComponent(tt)}return null}let es=(()=>{var P;class J{constructor(q,Ae){this._viewContainer=q,this._context=new $o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ae}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){bo("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){bo("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,Ae){return!0}}return(P=J).\u0275fac=function(q){return new(q||P)(b.rXU(b.c1b),b.rXU(b.C4Q))},P.\u0275dir=b.FsC({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),J})();class $o{constructor(){this.$implicit=null,this.ngIf=null}}function bo(P,J){if(J&&!J.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,b.Tbb)(J)}'.`)}let jr=(()=>{var P;class J{constructor(q){this._viewContainerRef=q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(q){if(this._shouldRecreateView(q)){var Ae;const tt=this._viewContainerRef;if(this._viewRef&&tt.remove(tt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const mn=this._createContextForwardProxy();this._viewRef=tt.createEmbeddedView(this.ngTemplateOutlet,mn,{injector:null!==(Ae=this.ngTemplateOutletInjector)&&void 0!==Ae?Ae:void 0})}}_shouldRecreateView(q){return!!q.ngTemplateOutlet||!!q.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(q,Ae,tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ae,tt),get:(q,Ae,tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ae,tt)}})}}return(P=J).\u0275fac=function(q){return new(q||P)(b.rXU(b.c1b))},P.\u0275dir=b.FsC({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.OA$]}),J})(),_t=(()=>{var P;class J{}return(P=J).\u0275fac=function(q){return new(q||P)},P.\u0275mod=b.$C({type:P}),P.\u0275inj=b.G2t({}),J})();const En="browser",On="server";function Ri(P){return P===On}let Po=(()=>{var P;class J{}return(P=J).\u0275prov=(0,b.jDH)({token:P,providedIn:"root",factory:()=>function di(P){return P===En}((0,b.WQX)(b.Agw))?new ts((0,b.WQX)(je),window):new Ao}),J})();class ts{constructor(J,$e){this.document=J,this.window=$e,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(J){this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){const $e=function Rr(P,J){const $e=P.getElementById(J)||P.getElementsByName(J)[0];if($e)return $e;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const q=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ae=q.currentNode;for(;Ae;){const tt=Ae.shadowRoot;if(tt){const mn=tt.getElementById(J)||tt.querySelector(`[name="${J}"]`);if(mn)return mn}Ae=q.nextNode()}}return null}(this.document,J);$e&&(this.scrollToElement($e),$e.focus())}setHistoryScrollRestoration(J){this.window.history.scrollRestoration=J}scrollToElement(J){const $e=J.getBoundingClientRect(),q=$e.left+this.window.pageXOffset,Ae=$e.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(q-tt[0],Ae-tt[1])}}class Ao{setOffset(J){}getScrollPosition(){return[0,0]}scrollToPosition(J){}scrollToAnchor(J){}setHistoryScrollRestoration(J){}}class Oo{}},4438:(Zi,xn,pe)=>{"use strict";pe.d(xn,{iLQ:()=>Ex,sZ2:()=>Ch,hnV:()=>tC,Hbi:()=>sI,o8S:()=>Hd,BIS:()=>z_,gRc:()=>pC,Ql9:()=>RD,Ocv:()=>BD,Z63:()=>Se,aKT:()=>bh,uvJ:()=>Za,zcH:()=>Tc,bkB:()=>Dc,$GK:()=>pr,nKC:()=>de,zZn:()=>Nl,_q3:()=>Rx,MKu:()=>Px,xe9:()=>zy,Co$:()=>kl,Vns:()=>Ju,SKi:()=>Ca,Xx1:()=>di,Agw:()=>sm,PLl:()=>Lv,sFG:()=>Ku,_9s:()=>H0,czy:()=>Vh,kdw:()=>ur,C4Q:()=>Wu,NYb:()=>SD,giA:()=>JM,RxE:()=>WM,c1b:()=>mp,gXe:()=>he,mal:()=>ag,L39:()=>NI,a0P:()=>HI,Ol2:()=>Sg,w6W:()=>Ld,oH4:()=>uC,SmG:()=>GD,Rfq:()=>po,WQX:()=>He,QuC:()=>ta,fpN:()=>rI,HJs:()=>$I,N4e:()=>Ml,O8t:()=>FI,H3F:()=>XM,H8p:()=>eo,KH2:()=>Dp,TgB:()=>kd,wOt:()=>Ft,WHO:()=>ZM,e01:()=>QM,H5H:()=>ix,Zy3:()=>nn,mq5:()=>aS,JZv:()=>$i,LfX:()=>Os,plB:()=>Qu,jNT:()=>wx,zjR:()=>eC,TL$:()=>Nv,Tbb:()=>Wi,Vt3:()=>wg,Mj6:()=>Me,GFd:()=>vy,OA$:()=>kt,Jv_:()=>EM,aNF:()=>SM,R7$:()=>Pm,BMQ:()=>ra,AVh:()=>Kw,wni:()=>YS,VBU:()=>Gi,FsC:()=>qs,jDH:()=>br,G2t:()=>vo,$C:()=>Ni,EJ8:()=>lr,rXU:()=>Bu,nrm:()=>tx,eu8:()=>nx,bVm:()=>Py,qex:()=>Ry,k0s:()=>Iy,j41:()=>Dy,RV6:()=>rS,xGo:()=>dv,KVO:()=>te,kS0:()=>yh,QTQ:()=>qh,bIt:()=>ox,lsd:()=>JS,XpG:()=>US,SdG:()=>VS,NAR:()=>BS,Y8G:()=>Xw,mGM:()=>QS,Njj:()=>Mc,eBV:()=>oh,n$t:()=>c0,DNE:()=>Vd,EFF:()=>cM,GBs:()=>ZS}),pe(467);let ke=null,k=1;const Xt=Symbol("SIGNAL");function je(t){const i=ke;return ke=t,i}function pt(t){if((!Vt(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==k)){if(!t.producerMustRecompute(t)&&!Tt(t))return t.dirty=!1,void(t.lastCleanEpoch=k);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=k}}function Tt(t){Qt(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==s.version||(pt(s),a!==s.version))return!0}return!1}function Bt(t,i){if(function en(t){var i,s;null!==(i=t.liveConsumerNode)&&void 0!==i||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}(t),Qt(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Bt(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];Qt(u),u.producerIndexOfThis[a]=i}}function Vt(t){var i,s;return t.consumerIsAlwaysLive||(null!==(i=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==i?i:0)>0}function Qt(t){var i,s,a;null!==(i=t.producerNode)&&void 0!==i||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let Ei=null;var fr=pe(1413),Vr=pe(8359),_r=pe(4412),cs=pe(6354);const ri="https://g.co/ng/security#xss";class Ft extends Error{constructor(i,s){super(nn(i,s)),this.code=i}}function nn(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}function Di(t){return{toString:t}.toString()}const Ur="__parameters__";function Es(t,i,s){return Di(()=>{const a=function Jr(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...p){if(this instanceof u)return a.apply(this,p),this;const y=new u(...p);return E.annotation=y,E;function E(I,Y,se){const be=I.hasOwnProperty(Ur)?I[Ur]:Object.defineProperty(I,Ur,{value:[]})[Ur];for(;be.length<=se;)be.push(null);return(be[se]=be[se]||[]).push(y),I}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const $i=globalThis;function xr(t){for(let i in t)if(t[i]===xr)return i;throw Error("Could not find renamed property on target object.")}function ds(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function Wi(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Wi).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Xr(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const ss=xr({__forward_ref__:xr});function po(t){return t.__forward_ref__=po,t.toString=function(){return Wi(this())},t}function Rt(t){return vt(t)?t():t}function vt(t){return"function"==typeof t&&t.hasOwnProperty(ss)&&t.__forward_ref__===po}function br(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ps(t){return Io(t,Wo)||Io(t,we)}function Os(t){return null!==Ps(t)}function Io(t,i){return t.hasOwnProperty(i)?t[i]:null}function ca(t){return t&&(t.hasOwnProperty(ye)||t.hasOwnProperty(ut))?t[ye]:null}const Wo=xr({\u0275prov:xr}),ye=xr({\u0275inj:xr}),we=xr({ngInjectableDef:xr}),ut=xr({ngInjectorDef:xr});class de{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=br({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function us(t){return t&&!!t.\u0275providers}const As=xr({\u0275cmp:xr}),Ko=xr({\u0275dir:xr}),Cr=xr({\u0275pipe:xr}),Ro=xr({\u0275mod:xr}),zs=xr({\u0275fac:xr}),Js=xr({__NG_ELEMENT_ID__:xr}),hs=xr({__NG_ENV_ID__:xr});function gr(t){return"string"==typeof t?t:null==t?"":String(t)}function Va(t,i){throw new Ft(-201,!1)}var pr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pr||{});let mo;function qa(){return mo}function ar(t){const i=mo;return mo=t,i}function Mo(t,i,s){const a=Ps(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&pr.Optional?null:void 0!==i?i:void Va()}const Jo={},ea="__NG_DI_FLAG__",Go="ngTempTokenPath",oe=/\n/gm,j="__source";let Le;function mr(t){const i=Le;return Le=t,i}function oo(t,i=pr.Default){if(void 0===Le)throw new Ft(-203,!1);return null===Le?Mo(t,void 0,i):Le.get(t,i&pr.Optional?null:void 0,i)}function te(t,i=pr.Default){return(qa()||oo)(Rt(t),i)}function He(t,i=pr.Default){return te(t,nt(i))}function nt(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mt(t){const i=[];for(let s=0;s<t.length;s++){const a=Rt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ft(900,!1);let u,p=pr.Default;for(let y=0;y<a.length;y++){const E=a[y],I=En(E);"number"==typeof I?-1===I?u=E.token:p|=I:u=E}i.push(te(u,p))}else i.push(te(a))}return i}function _t(t,i){return t[ea]=i,t.prototype[ea]=i,t}function En(t){return t[ea]}const di=_t(Es("Optional"),8),ur=_t(Es("SkipSelf"),4);function Yr(t,i){return t.hasOwnProperty(zs)?t[zs]:null}function Rr(t,i){t.forEach(s=>Array.isArray(s)?Rr(s,i):i(s))}function Ao(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function Oo(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function ua(t,i,s){let a=d(t,i);return a>=0?t[1|a]=s:(a=~a,function Kl(t,i,s,a){let u=t.length;if(u==i)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=s,t[i+1]=a}}(t,a,i,s)),a}function D(t,i){const s=d(t,i);if(s>=0)return t[1|s]}function d(t,i){return function F(t,i,s){let a=0,u=t.length>>s;for(;u!==a;){const p=a+(u-a>>1),y=t[p<<s];if(i===y)return p<<s;y>i?u=p:a=p+1}return~(u<<s)}(t,i,1)}const ee={},Z=[],Se=new de(""),Te=new de("",-1),le=new de("");class Fe{get(i,s=Jo){if(s===Jo){const a=new Error(`NullInjectorError: No provider for ${Wi(i)}!`);throw a.name="NullInjectorError",a}return s}}var fe=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fe||{}),he=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(he||{}),Me=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Me||{});function Xe(t,i,s){let a=t.length;for(;;){const u=t.indexOf(i,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const p=i.length;if(u+p===a||t.charCodeAt(u+p)<=32)return u}s=u+1}}function et(t,i,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const p=s[a++],y=s[a++],E=s[a++];t.setAttribute(i,y,E,p)}else{const p=u,y=s[++a];ct(p)?t.setProperty(i,p,y):t.setAttribute(i,p,y),a++}}return a}function lt(t){return 3===t||4===t||6===t}function ct(t){return 64===t.charCodeAt(0)}function Ue(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||dt(t,s,u,null,-1===s||2===s?i[++a]:null)}}return t}function dt(t,i,s,a,u){let p=0,y=t.length;if(-1===i)y=-1;else for(;p<t.length;){const E=t[p++];if("number"==typeof E){if(E===i){y=-1;break}if(E>i){y=p-1;break}}}for(;p<t.length;){const E=t[p];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==u&&(t[p+1]=u));if(a===t[p+1])return void(t[p+2]=u)}p++,null!==a&&p++,null!==u&&p++}-1!==y&&(t.splice(y,0,i),p=y+1),t.splice(p++,0,s),null!==a&&t.splice(p++,0,a),null!==u&&t.splice(p++,0,u)}const Ze="ng-template";function Ht(t,i,s,a){let u=0;if(a){for(;u<i.length&&"string"==typeof i[u];u+=2)if("class"===i[u]&&-1!==Xe(i[u+1].toLowerCase(),s,0))return!0}else if(Rn(t))return!1;if(u=i.indexOf(1,u),u>-1){let p;for(;++u<i.length&&"string"==typeof(p=i[u]);)if(p.toLowerCase()===s)return!0}return!1}function Rn(t){return 4===t.type&&t.value!==Ze}function X(t,i,s){return i===(4!==t.type||s?t.value:Ze)}function z(t,i,s){let a=4;const u=t.attrs,p=null!==u?function Ct(t){for(let i=0;i<t.length;i++)if(lt(t[i]))return i;return t.length}(u):0;let y=!1;for(let E=0;E<i.length;E++){const I=i[E];if("number"!=typeof I){if(!y)if(4&a){if(a=2|1&a,""!==I&&!X(t,I,s)||""===I&&1===i.length){if(ne(a))return!1;y=!0}}else if(8&a){if(null===u||!Ht(t,u,I,s)){if(ne(a))return!1;y=!0}}else{const Y=i[++E],se=G(I,u,Rn(t),s);if(-1===se){if(ne(a))return!1;y=!0;continue}if(""!==Y){let be;if(be=se>p?"":u[se+1].toLowerCase(),2&a&&Y!==be){if(ne(a))return!1;y=!0}}}}else{if(!y&&!ne(a)&&!ne(I))return!1;if(y&&ne(I))continue;y=!1,a=I|1&a}}return ne(a)||y}function ne(t){return!(1&t)}function G(t,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let p=!1;for(;u<i.length;){const y=i[u];if(y===t)return u;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=i[++u];for(;"string"==typeof E;)E=i[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=p?1:2}return-1}return function St(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,t)}function ce(t,i,s=!1){for(let a=0;a<i.length;a++)if(z(t,i[a],s))return!0;return!1}function yn(t,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function ai(t,i){return t?":not("+i.trim()+")":i}function Xi(t){let i=t[0],s=1,a=2,u="",p=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const E=t[++s];u+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?u+="."+y:4&a&&(u+=" "+y);else""!==u&&!ne(y)&&(i+=ai(p,u),u=""),a=y,p=p||!ne(a);s++}return""!==u&&(i+=ai(p,u)),i}function Gi(t){return Di(()=>{var i;const s=na(t),a={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(i=t.signals)&&void 0!==i&&i,data:t.data||{},encapsulation:t.encapsulation||he.Emulated,styles:t.styles||Z,_:null,schemas:t.schemas||null,tView:null,id:""};ao(a);const u=t.dependencies;return a.directiveDefs=Sr(u,!1),a.pipeDefs=Sr(u,!0),a.id=function Vn(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of s)i=Math.imul(31,i)+u.charCodeAt(0)|0;return i+=2147483648,"c"+i}(a),a})}function as(t){return Ui(t)||Ns(t)}function fi(t){return null!==t}function Ni(t){return Di(()=>({type:t.type,bootstrap:t.bootstrap||Z,declarations:t.declarations||Z,imports:t.imports||Z,exports:t.exports||Z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ki(t,i){if(null==t)return ee;const s={};for(const u in t)if(t.hasOwnProperty(u)){const p=t[u];let y,E,I=Me.None;var a;Array.isArray(p)?(I=p[0],y=p[1],E=null!==(a=p[2])&&void 0!==a?a:y):(y=p,E=p),i?(s[y]=I!==Me.None?[u,I]:u,i[y]=E):s[y]=u}return s}function qs(t){return Di(()=>{const i=na(t);return ao(i),i})}function lr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ui(t){return t[As]||null}function Ns(t){return t[Ko]||null}function yo(t){return t[Cr]||null}function ta(t){const i=Ui(t)||Ns(t)||yo(t);return null!==i&&i.standalone}function wo(t,i){const s=t[Ro]||null;if(!s&&!0===i)throw new Error(`Type ${Wi(t)} does not have '\u0275mod' property.`);return s}function na(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||ee,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Z,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ki(t.inputs,i),outputs:ki(t.outputs),debugInfo:null}}function ao(t){var i;null===(i=t.features)||void 0===i||i.forEach(s=>s(t))}function Sr(t,i){if(!t)return null;const s=i?yo:as;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(fi)}function Ya(...t){return{\u0275providers:fl(0,t),\u0275fromNgModule:!0}}function fl(t,...i){const s=[],a=new Set;let u;const p=y=>{s.push(y)};return Rr(i,y=>{const E=y;Na(E,p,[],a)&&(u||(u=[]),u.push(E))}),void 0!==u&&ha(u,p),s}function ha(t,i){for(let s=0;s<t.length;s++){const{ngModule:a,providers:u}=t[s];El(u,p=>{i(p,a)})}}function Na(t,i,s,a){if(!(t=Rt(t)))return!1;let u=null,p=ca(t);const y=!p&&Ui(t);if(p||y){if(y&&!y.standalone)return!1;u=t}else{const I=t.ngModule;if(p=ca(I),!p)return!1;u=I}const E=a.has(u);if(y){if(E)return!1;if(a.add(u),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const Y of I)Na(Y,i,s,a)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let Y;a.add(u);try{Rr(p.imports,se=>{Na(se,i,s,a)&&(Y||(Y=[]),Y.push(se))})}finally{}void 0!==Y&&ha(Y,i)}if(!E){const Y=Yr(u)||(()=>new u);i({provide:u,useFactory:Y,deps:Z},u),i({provide:le,useValue:u,multi:!0},u),i({provide:Se,useValue:()=>te(u),multi:!0},u)}const I=p.providers;if(null!=I&&!E){const Y=t;El(I,se=>{i(se,Y)})}}}return u!==t&&void 0!==t.providers}function El(t,i){for(let s of t)us(s)&&(s=s.\u0275providers),Array.isArray(s)?El(s,i):i(s)}const lc=xr({provide:String,useValue:xr});function ll(t){return null!==t&&"object"==typeof t&&lc in t}function cl(t){return"function"==typeof t}const eo=new de(""),Sl={},wc={};let go;function pa(){return void 0===go&&(go=new Fe),go}class Za{}class Ga extends Za{get destroyed(){return this._destroyed}constructor(i,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zl(i,y=>this.processProvider(y)),this.records.set(Te,La(void 0,this)),u.has("environment")&&this.records.set(Za,La(void 0,this));const p=this.records.get(eo);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(le,Z,pr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=je(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),je(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=mr(this),a=ar(void 0);try{return i()}finally{mr(s),ar(a)}}get(i,s=Jo,a=pr.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(hs))return i[hs](this);a=nt(a);const p=mr(this),y=ar(void 0);try{if(!(a&pr.SkipSelf)){let I=this.records.get(i);if(void 0===I){const Y=function gu(t){return"function"==typeof t||"object"==typeof t&&t instanceof de}(i)&&Ps(i);I=Y&&this.injectableDefInScope(Y)?La(xc(i),Sl):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(a&pr.Self?pa():this.parent).get(i,s=a&pr.Optional&&s===Jo?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Go]=E[Go]||[]).unshift(Wi(i)),p)throw E;return function On(t,i,s,a){const u=t[Go];throw i[j]&&u.unshift(i[j]),t.message=function In(t,i,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Wi(i);if(Array.isArray(i))u=i.map(Wi).join(" -> ");else if("object"==typeof i){let p=[];for(let y in i)if(i.hasOwnProperty(y)){let E=i[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Wi(E)))}u=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(oe,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[Go]=null,t}(E,i,"R3InjectorError",this.source)}throw E}finally{ar(y),mr(p)}}resolveInjectorInitializers(){const i=je(null),s=mr(this),a=ar(void 0);try{const p=this.get(Se,Z,pr.Self);for(const y of p)y()}finally{mr(s),ar(a),je(i)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(Wi(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ft(205,!1)}processProvider(i){let s=cl(i=Rt(i))?i:Rt(i&&i.provide);const a=function Ea(t){return ll(t)?La(void 0,t.useValue):La(fo(t),Sl)}(i);if(!cl(i)&&!0===i.multi){let u=this.records.get(s);u||(u=La(void 0,Sl,!0),u.factory=()=>Mt(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,a)}hydrate(i,s){const a=je(null);try{return s.value===Sl&&(s.value=wc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ol(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{je(a)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Rt(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function xc(t){const i=Ps(t),s=null!==i?i.factory:Yr(t);if(null!==s)return s;if(t instanceof de)throw new Ft(204,!1);if(t instanceof Function)return function mu(t){if(t.length>0)throw new Ft(204,!1);const s=function Ws(t){return t&&(t[Wo]||t[we])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ft(204,!1)}function fo(t,i,s){let a;if(cl(t)){const u=Rt(t);return Yr(u)||xc(u)}if(ll(t))a=()=>Rt(t.useValue);else if(function Yl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Mt(t.deps||[]));else if(function bc(t){return!(!t||!t.useExisting)}(t))a=()=>te(Rt(t.useExisting));else{const u=Rt(t&&(t.useClass||t.provide));if(!function Qa(t){return!!t.deps}(t))return Yr(u)||xc(u);a=()=>new u(...Mt(t.deps))}return a}function La(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function Zl(t,i){for(const s of t)Array.isArray(s)?Zl(s,i):s&&us(s)?Zl(s.\u0275providers,i):i(s)}function Ml(t,i){t instanceof Ga&&t.assertNotDestroyed();const a=mr(t),u=ar(void 0);try{return i()}finally{mr(a),ar(u)}}function ia(){return void 0!==qa()||null!=function bt(){return Le}()}const ms=0,ei=1,er=2,Ls=3,To=4,gs=5,to=6,Fa=7,Ks=8,Ss=9,Ja=10,Br=11,hl=12,Ql=13,vr=14,ho=15,ja=16,De=17,Cl=18,Wa=19,Ec=20,ma=21,Jl=22,Da=23,Re=25,_=1,C=7,Q=9,re=10;var ge=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ge||{});function Ve(t){return Array.isArray(t)&&"object"==typeof t[_]}function Ge(t){return Array.isArray(t)&&!0===t[_]}function it(t){return!!(4&t.flags)}function qt(t){return t.componentOffset>-1}function dn(t){return!(1&~t.flags)}function un(t){return!!t.template}function zn(t){return!!(512&t[er])}class _e{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Oe(t,i,s,a){null!==i?i.applyValueToInputSignal(i,a):t[s]=a}function kt(){return Un}function Un(t){return t.type.prototype.ngOnChanges&&(t.setInput=Li),zt}function zt(){const t=Zo(this),i=null==t?void 0:t.current;if(i){const s=t.previous;if(s===ee)t.previous=i;else for(let a in i)s[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Li(t,i,s,a,u){const p=this.declaredInputs[a],y=Zo(t)||function xo(t,i){return t[Bi]=i}(t,{previous:ee,current:null}),E=y.current||(y.current={}),I=y.previous,Y=I[p];E[p]=new _e(Y&&Y.currentValue,s,I===ee),Oe(t,i,u,s)}kt.ngInherit=!0;const Bi="__ngSimpleChanges__";function Zo(t){return t[Bi]||null}const el=function(t,i,s){};let yu=!1;function Zs(t){for(;Array.isArray(t);)t=t[ms];return t}function Xo(t,i){return Zs(i[t.index])}function Sa(t,i){return t.data[i]}function Al(t,i){const s=i[t];return Ve(s)?s:s[ms]}function rd(t){return!(128&~t[er])}function pl(t,i){return null==i?null:t[i]}function bu(t){t[De]=0}function sd(t){1024&t[er]||(t[er]|=1024,rd(t)&&qc(t))}function od(t){var i;return!!(9216&t[er]||null!==(i=t[Da])&&void 0!==i&&i.dirty)}function ad(t){var i;if(null===(i=t[Ja].changeDetectionScheduler)||void 0===i||i.notify(1),od(t))qc(t);else if(64&t[er])if(function yr(){return yu}())t[er]|=1024,qc(t);else{var s;null===(s=t[Ja].changeDetectionScheduler)||void 0===s||s.notify()}}function qc(t){var i;null===(i=t[Ja].changeDetectionScheduler)||void 0===i||i.notify();let s=Kc(t);for(;null!==s&&!(8192&s[er])&&(s[er]|=8192,rd(s));)s=Kc(s)}function wu(t,i){if(!(256&~t[er]))throw new Ft(911,!1);null===t[ma]&&(t[ma]=[]),t[ma].push(i)}function Kc(t){const i=t[Ls];return Ge(i)?i[Ls]:i}const ns={lFrame:Kg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xu(){return ns.bindingsEnabled}function ec(){return null!==ns.skipHydrationRootTNode}function Hn(){return ns.lFrame.lView}function fs(){return ns.lFrame.tView}function oh(t){return ns.lFrame.contextLView=t,t[Ks]}function Mc(t){return ns.lFrame.contextLView=null,t}function No(){let t=Lp();for(;null!==t&&64===t.type;)t=t.parent;return t}function Lp(){return ns.lFrame.currentTNode}function gl(t,i){const s=ns.lFrame;s.currentTNode=t,s.isParent=i}function Yc(){return ns.lFrame.isParent}function Fp(){ns.lFrame.isParent=!1}function tl(){return ns.lFrame.bindingIndex++}function Jy(t,i){const s=ns.lFrame;s.bindingIndex=s.bindingRootIndex=t,Up(i)}function Up(t){ns.lFrame.currentDirectiveIndex=t}function Vp(){return ns.lFrame.currentQueryIndex}function uh(t){ns.lFrame.currentQueryIndex=t}function e_(t){const i=t[ei];return 2===i.type?i.declTNode:1===i.type?t[gs]:null}function Xg(t,i,s){if(s&pr.SkipSelf){let u=i,p=t;for(;!(u=u.parent,null!==u||s&pr.Host||(u=e_(p),null===u||(p=p[vr],10&u.type))););if(null===u)return!1;i=u,t=p}const a=ns.lFrame=qg();return a.currentTNode=i,a.lView=t,!0}function zp(t){const i=qg(),s=t[ei];ns.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function qg(){const t=ns.lFrame,i=null===t?null:t.child;return null===i?Kg(t):i}function Kg(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Yg(){const t=ns.lFrame;return ns.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zg=Yg;function Hp(){const t=Yg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ul(){return ns.lFrame.selectedIndex}function Eu(t){ns.lFrame.selectedIndex=t}function Qo(){const t=ns.lFrame;return Sa(t.tView,t.selectedIndex)}let Jg=!0;function qd(){return Jg}function uc(t){Jg=t}function dh(t,i){for(let Y=i.directiveStart,se=i.directiveEnd;Y<se;Y++){const Qe=t.data[Y].type.prototype,{ngAfterContentInit:wt,ngAfterContentChecked:Jt,ngAfterViewInit:Dn,ngAfterViewChecked:Jn,ngOnDestroy:li}=Qe;var s,a,u,p,y,E,I;wt&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-Y,wt),Jt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(Y,Jt),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(Y,Jt)),Dn&&(null!==(p=t.viewHooks)&&void 0!==p?p:t.viewHooks=[]).push(-Y,Dn),Jn&&((null!==(y=t.viewHooks)&&void 0!==y?y:t.viewHooks=[]).push(Y,Jn),(null!==(E=t.viewCheckHooks)&&void 0!==E?E:t.viewCheckHooks=[]).push(Y,Jn)),null!=li&&(null!==(I=t.destroyHooks)&&void 0!==I?I:t.destroyHooks=[]).push(Y,li)}}function fh(t,i,s){ev(t,i,3,s)}function hh(t,i,s,a){(3&t[er])===s&&ev(t,i,s,a)}function $p(t,i){let s=t[er];(3&s)===i&&(s&=16383,s+=1,t[er]=s)}function ev(t,i,s,a){const p=null!=a?a:-1,y=i.length-1;let E=0;for(let I=void 0!==a?65535&t[De]:0;I<y;I++)if("number"==typeof i[I+1]){if(E=i[I],null!=a&&E>=a)break}else i[I]<0&&(t[De]+=65536),(E<p||-1==p)&&(a_(t,s,i,I),t[De]=(4294901760&t[De])+I+2),I++}function tv(t,i){el(4,t,i);const s=je(null);try{i.call(t)}finally{je(s),el(5,t,i)}}function a_(t,i,s,a){const u=s[a]<0,p=s[a+1],E=t[u?-s[a]:s[a]];u?t[er]>>14<t[De]>>16&&(3&t[er])===i&&(t[er]+=16384,tv(E,p)):tv(E,p)}const ld=-1;class Kd{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function jp(t){return t!==ld}function Yd(t){return 32767&t}function Zd(t,i){let s=function f_(t){return t>>16}(t),a=i;for(;s>0;)a=a[vr],s--;return a}let Wp=!0;function ph(t){const i=Wp;return Wp=t,i}const nv=255,iv=5;let h_=0;const dc={};function mh(t,i){const s=rv(t,i);if(-1!==s)return s;const a=i[ei];a.firstCreatePass&&(t.injectorIndex=i.length,Xp(a.data,t),Xp(i,null),Xp(a.blueprint,null));const u=gh(t,i),p=t.injectorIndex;if(jp(u)){const y=Yd(u),E=Zd(u,i),I=E[ei].data;for(let Y=0;Y<8;Y++)i[p+Y]=E[y+Y]|I[y+Y]}return i[p+8]=u,p}function Xp(t,i){t.push(0,0,0,0,0,0,0,0,i)}function rv(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function gh(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){if(a=fv(u),null===a)return ld;if(s++,u=u[vr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ld}function qp(t,i,s){!function p_(t,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Js)&&(a=s[Js]),null==a&&(a=s[Js]=h_++);const u=a&nv;i.data[t+(u>>iv)]|=1<<u}(t,i,s)}function sv(t,i,s){if(s&pr.Optional||void 0!==t)return t;Va()}function ov(t,i,s,a){if(s&pr.Optional&&void 0===a&&(a=null),!(s&(pr.Self|pr.Host))){const u=t[Ss],p=ar(void 0);try{return u?u.get(i,a,s&pr.Optional):Mo(i,a,s&pr.Optional)}finally{ar(p)}}return sv(a,0,s)}function av(t,i,s,a=pr.Default,u){if(null!==t){if(2048&i[er]&&!(a&pr.Self)){const y=function __(t,i,s,a,u){let p=t,y=i;for(;null!==p&&null!==y&&2048&y[er]&&!(512&y[er]);){const E=lv(p,y,s,a|pr.Self,dc);if(E!==dc)return E;let I=p.parent;if(!I){const Y=y[Ec];if(Y){const se=Y.get(s,dc,a);if(se!==dc)return se}I=fv(y),y=y[vr]}p=I}return u}(t,i,s,a,dc);if(y!==dc)return y}const p=lv(t,i,s,a,dc);if(p!==dc)return p}return ov(i,s,a,u)}function lv(t,i,s,a,u){const p=function v_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Js)?t[Js]:void 0;return"number"==typeof i?i>=0?i&nv:y_:i}(s);if("function"==typeof p){if(!Xg(i,t,a))return a&pr.Host?sv(u,0,a):ov(i,s,a,u);try{let y;if(y=p(a),null!=y||a&pr.Optional)return y;Va()}finally{Zg()}}else if("number"==typeof p){let y=null,E=rv(t,i),I=ld,Y=a&pr.Host?i[ho][gs]:null;for((-1===E||a&pr.SkipSelf)&&(I=-1===E?gh(t,i):i[E+8],I!==ld&&uv(a,!1)?(y=i[ei],E=Yd(I),i=Zd(I,i)):E=-1);-1!==E;){const se=i[ei];if(cv(p,E,se.data)){const be=g_(E,i,s,y,a,Y);if(be!==dc)return be}I=i[E+8],I!==ld&&uv(a,i[ei].data[E+8]===Y)&&cv(p,E,i)?(y=se,E=Yd(I),i=Zd(I,i)):E=-1}}return u}function g_(t,i,s,a,u,p){const y=i[ei],E=y.data[t+8],se=vh(E,y,s,null==a?qt(E)&&Wp:a!=y&&!!(3&E.type),u&pr.Host&&p===E);return null!==se?Su(i,y,se,E):dc}function vh(t,i,s,a,u){const p=t.providerIndexes,y=i.data,E=1048575&p,I=t.directiveStart,se=p>>20,Qe=u?E+se:t.directiveEnd;for(let wt=a?E:E+se;wt<Qe;wt++){const Jt=y[wt];if(wt<I&&s===Jt||wt>=I&&Jt.type===s)return wt}if(u){const wt=y[I];if(wt&&un(wt)&&wt.type===s)return I}return null}function Su(t,i,s,a){let u=t[s];const p=i.data;if(function l_(t){return t instanceof Kd}(u)){const y=u;y.resolving&&function Pa(t,i){throw i&&i.join(" > "),new Ft(-200,t)}(function jr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gr(t)}(p[s]));const E=ph(y.canSeeViewProviders);y.resolving=!0;const Y=y.injectImpl?ar(y.injectImpl):null;Xg(t,a,pr.Default);try{u=t[s]=y.factory(void 0,p,t,a),i.firstCreatePass&&s>=a.directiveStart&&function o_(t,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:p}=i.type.prototype;if(a){var y,E;const be=Un(i);(null!==(y=s.preOrderHooks)&&void 0!==y?y:s.preOrderHooks=[]).push(t,be),(null!==(E=s.preOrderCheckHooks)&&void 0!==E?E:s.preOrderCheckHooks=[]).push(t,be)}var I,Y,se;u&&(null!==(I=s.preOrderHooks)&&void 0!==I?I:s.preOrderHooks=[]).push(0-t,u),p&&((null!==(Y=s.preOrderHooks)&&void 0!==Y?Y:s.preOrderHooks=[]).push(t,p),(null!==(se=s.preOrderCheckHooks)&&void 0!==se?se:s.preOrderCheckHooks=[]).push(t,p))}(s,p[s],i)}finally{null!==Y&&ar(Y),ph(E),y.resolving=!1,Zg()}}return u}function cv(t,i,s){return!!(s[i+(t>>iv)]&1<<t)}function uv(t,i){return!(t&pr.Self||t&pr.Host&&i)}class Ha{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return av(this._tNode,this._lView,i,nt(a),s)}}function y_(){return new Ha(No(),Hn())}function dv(t){return Di(()=>{const i=t.prototype.constructor,s=i[zs]||Kp(i),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const p=u[zs]||Kp(u);if(p&&p!==s)return p;u=Object.getPrototypeOf(u)}return p=>new p})}function Kp(t){return vt(t)?()=>{const i=Kp(Rt(t));return i&&i()}:Yr(t)}function fv(t){const i=t[ei],s=i.type;return 2===s?i.declTNode:1===s?t[gs]:null}function yh(t){return function m_(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const p=s[u];if(lt(p))break;if(0===p)u+=2;else if("number"==typeof p)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(p===i)return s[u+1];u+=2}}}return null}(No(),t)}function vv(t,i=null,s=null,a){const u=yv(t,i,s,a);return u.resolveInjectorInitializers(),u}function yv(t,i=null,s=null,a,u=new Set){const p=[s||Z,Ya(t)];return a=a||("object"==typeof t?void 0:Wi(t)),new Ga(p,i||pa(),a||null,u)}let Nl=(()=>{var t;class i{static create(a,u){if(Array.isArray(a))return vv({name:""},u,a,"");{var p;const y=null!==(p=a.name)&&void 0!==p?p:"";return vv({name:y},a.parent,a.providers,y)}}}return(t=i).THROW_IF_NOT_FOUND=Jo,t.NULL=new Fe,t.\u0275prov=br({token:t,providedIn:"any",factory:()=>te(Te)}),t.__NG_ELEMENT_ID__=-1,i})();function Zp(t){return t.ngOriginalError}class Tc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Zp(i);for(;s&&Zp(s);)s=Zp(s);return s||null}}const bv=new de("",{providedIn:"root",factory:()=>He(Tc).handleError.bind(void 0)});let dd=(()=>{var t;class i{}return(t=i).__NG_ELEMENT_ID__=T_,t.__NG_ENV_ID__=s=>s,i})();class A_ extends dd{constructor(i){super(),this._lView=i}onDestroy(i){return wu(this._lView,i),()=>function rh(t,i){if(null===t[ma])return;const s=t[ma].indexOf(i);-1!==s&&t[ma].splice(s,1)}(this._lView,i)}}function T_(){return new A_(Hn())}function jx(){return Qd(No(),Hn())}function Qd(t,i){return new bh(Xo(t,i))}let bh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=jx,i})();function D_(t){return t instanceof bh?t.nativeElement:t}function xv(t){return i=>{setTimeout(t,void 0,i)}}const Dc=class Wx extends fr.B{constructor(i=!1){var s;super(),this.destroyRef=void 0,this.__isAsync=i,ia()&&(this.destroyRef=null!==(s=He(dd,{optional:!0}))&&void 0!==s?s:void 0)}emit(i){const s=je(null);try{super.next(i)}finally{je(s)}}subscribe(i,s,a){let u=i,p=s||(()=>null),y=a;if(i&&"object"==typeof i){var E,I,Y;const be=i;u=null===(E=be.next)||void 0===E?void 0:E.bind(be),p=null===(I=be.error)||void 0===I?void 0:I.bind(be),y=null===(Y=be.complete)||void 0===Y?void 0:Y.bind(be)}this.__isAsync&&(p=xv(p),u&&(u=xv(u)),y&&(y=xv(y)));const se=super.subscribe({next:u,error:p,complete:y});return i instanceof Vr.yU&&i.add(se),se}};function Xx(){return this._results[Symbol.iterator]()}class Ev{get changes(){var i;return null!==(i=this._changes)&&void 0!==i?i:this._changes=new Dc}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=Ev.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Xx)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const a=function ts(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Po(t,i,s){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],p=i[a];if(s&&(u=s(u),p=s(p)),p!==u)return!1}return!0}(this._results,a,s))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){var i;this.dirty=!0,null===(i=this._onDirty)||void 0===i||i.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Qp(t){return!(128&~t.flags)}const Sv=new Map;let Kx=0;const Cv="__ngContext__";function yl(t,i){Ve(i)?(t[Cv]=i[Wa],function Zx(t){Sv.set(t[Wa],t)}(i)):t[Cv]=i}function Av(t){return Dv(t[hl])}function Tv(t){return Dv(t[To])}function Dv(t){for(;null!==t&&!Ge(t);)t=t[To];return t}let rm;function Nv(t){rm=t}const Ch=new de("",{providedIn:"root",factory:()=>V_}),V_="ng",Lv=new de(""),sm=new de("",{providedIn:"platform",factory:()=>"unknown"}),z_=new de("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Ic(){if(void 0!==rm)return rm;if(typeof document<"u")return document;throw new Ft(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Uv=()=>null;function am(t,i,s=!1){return Uv(t,i,s)}const $v=new de("",{providedIn:"root",factory:()=>!1});let Oh;function Xv(t){var i;return(null===(i=function fm(){if(void 0===Oh&&(Oh=null,$i.trustedTypes))try{Oh=$i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oh}())||void 0===i?void 0:i.createScriptURL(t))||t}class qv{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ri})`}}function Rc(t){return t instanceof qv?t.changingThisBreaksApplicationSecurity:t}function cf(t,i){const s=function ib(t){return t instanceof qv&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${ri})`)}return s===i}const Zv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var pd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pd||{});function vm(t){const i=Gl();return i?i.sanitize(pd.URL,t)||"":cf(t,"URL")?Rc(t):function Lh(t){return(t=String(t)).match(Zv)?t:"unsafe:"+t}(gr(t))}function ym(t){const i=Gl();if(i)return Xv(i.sanitize(pd.RESOURCE_URL,t)||"");if(cf(t,"ResourceURL"))return Xv(Rc(t));throw new Ft(904,!1)}function c0(t,i,s){return function bb(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?ym:vm}(i,s)(t)}function Gl(){const t=Hn();return t&&t[Ja].sanitizer}const wb=/^>|^->|<!--|-->|--!>|<!-$/g,_m=/(<|>)/g,xb="\u200b$1\u200b";function _l(t){return t instanceof Function?t():t}var Vh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vh||{});let zh;function vd(t,i){return zh(t,i)}function Nu(t,i,s,a,u){if(null!=a){let p,y=!1;Ge(a)?p=a:Ve(a)&&(y=!0,a=a[ms]);const E=Zs(a);0===t&&null!==s?null==u?ku(i,s,E):Fu(i,s,E,u||null,!0):1===t&&null!==s?Fu(i,s,E,u||null,!0):2===t?function tu(t,i,s){const a=bf(t,i);a&&function y0(t,i,s,a){t.removeChild(i,s,a)}(t,a,i,s)}(i,E,y):3===t&&i.destroyNode(E),null!=p&&function b0(t,i,s,a,u){const p=s[C];p!==Zs(s)&&Nu(i,t,a,p,u);for(let E=re;E<s.length;E++){const I=s[E];nu(I[ei],I,t,i,a,p)}}(i,t,p,s,u)}}function gf(t,i){return t.createComment(function u0(t){return t.replace(wb,i=>i.replace(_m,xb))}(i))}function hc(t,i,s){return t.createElement(i,s)}function vf(t,i){var s;null===(s=i[Ja].changeDetectionScheduler)||void 0===s||s.notify(1),nu(t,i,i[Br],2,null,null)}function yf(t,i){const s=t[Q],a=s.indexOf(i);s.splice(a,1)}function bd(t,i){if(t.length<=re)return;const s=re+i,a=t[s];if(a){const u=a[ja];null!==u&&u!==t&&yf(u,a),i>0&&(t[s-1][To]=a[To]);const p=Oo(t,re+i);!function p0(t,i){vf(t,i),i[ms]=null,i[gs]=null}(a[ei],a);const y=p[Cl];null!==y&&y.detachView(p[ei]),a[Ls]=null,a[To]=null,a[er]&=-129}return a}function Hh(t,i){if(!(256&i[er])){const s=i[Br];s.destroyNode&&nu(t,i,s,3,null,null),function yd(t){let i=t[hl];if(!i)return Lu(t[ei],t);for(;i;){let s=null;if(Ve(i))s=i[hl];else{const a=i[re];a&&(s=a)}if(!s){for(;i&&!i[To]&&i!==t;)Ve(i)&&Lu(i[ei],i),i=i[Ls];null===i&&(i=t),Ve(i)&&Lu(i[ei],i),s=i&&i[To]}i=s}}(i)}}function Lu(t,i){if(256&i[er])return;const s=je(null);try{i[er]&=-129,i[er]|=256,i[Da]&&function jt(t){if(Qt(t),Vt(t))for(let i=0;i<t.producerNode.length;i++)Bt(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[Da]),function g0(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof Kd)){const p=s[a+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=u[p[y]],I=p[y+1];el(4,E,I);try{I.call(E)}finally{el(5,E,I)}}else{el(4,u,p);try{p.call(u)}finally{el(5,u,p)}}}}}(t,i),function _f(t,i){const s=t.cleanup,a=i[Fa];if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const y=s[p+3];y>=0?a[y]():a[-y].unsubscribe(),p+=2}else s[p].call(a[s[p+1]]);null!==a&&(i[Fa]=null);const u=i[ma];if(null!==u){i[ma]=null;for(let p=0;p<u.length;p++)(0,u[p])()}}(t,i),1===i[ei].type&&i[Br].destroy();const a=i[ja];if(null!==a&&Ge(i[Ls])){a!==i[Ls]&&yf(a,i);const u=i[Cl];null!==u&&u.detachView(t)}!function Qx(t){Sv.delete(t[Wa])}(i)}finally{je(s)}}function Tm(t,i,s){return function v0(t,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[ms];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:p}=t.data[a.directiveStart+u];if(p===he.None||p===he.Emulated)return null}return Xo(a,s)}}(t,i.parent,s)}function Fu(t,i,s,a,u){t.insertBefore(i,s,a,u)}function ku(t,i,s){t.appendChild(i,s)}function Lc(t,i,s,a,u){null!==a?Fu(t,i,s,a,u):ku(t,i,s)}function bf(t,i){return t.parentNode(i)}function wf(t,i,s){return wd(t,i,s)}let xf,wd=function eu(t,i,s){return 40&t.type?Xo(t,s):null};function Uu(t,i,s,a){const u=Tm(t,a,i),p=i[Br],E=wf(a.parent||i[gs],a,i);if(null!=u)if(Array.isArray(s))for(let I=0;I<s.length;I++)Lc(p,u,s[I],E,!1);else Lc(p,u,s,E,!1);void 0!==xf&&xf(p,a,i,s,u)}function Ef(t,i){if(null!==i){const s=i.type;if(3&s)return Xo(i,t);if(4&s)return il(-1,t[i.index]);if(8&s){const a=i.child;if(null!==a)return Ef(t,a);{const u=t[i.index];return Ge(u)?il(-1,u):Zs(u)}}if(32&s)return vd(i,t)()||Zs(t[i.index]);{const a=_0(t,i);return null!==a?Array.isArray(a)?a[0]:Ef(Kc(t[ho]),a):Ef(t,i.next)}}return null}function _0(t,i){return null!==i?t[ho][gs].projection[i.projection]:null}function il(t,i){const s=re+t+1;if(s<i.length){const a=i[s],u=a[ei].firstChild;if(null!==u)return Ef(a,u)}return i[C]}function $h(t,i,s,a,u,p,y){for(;null!=s;){const E=a[s.index],I=s.type;if(y&&0===i&&(E&&yl(Zs(E),a),s.flags|=2),32&~s.flags)if(8&I)$h(t,i,s.child,a,u,p,!1),Nu(i,t,u,E,p);else if(32&I){const Y=vd(s,a);let se;for(;se=Y();)Nu(i,t,u,se,p);Nu(i,t,u,E,p)}else 16&I?jh(t,i,a,s,u,p):Nu(i,t,u,E,p);s=y?s.projectionNext:s.next}}function nu(t,i,s,a,u,p){$h(s,a,t.firstChild,i,u,p,!1)}function jh(t,i,s,a,u,p){const y=s[ho],I=y[gs].projection[a.projection];if(Array.isArray(I))for(let Y=0;Y<I.length;Y++)Nu(i,t,u,I[Y],p);else{let Y=I;const se=y[Ls];Qp(a)&&(Y.flags|=128),$h(t,i,Y,se,u,p,!0)}}function Im(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function Rm(t,i,s){const{mergedAttrs:a,classes:u,styles:p}=s;null!==a&&et(t,i,a),null!==u&&Im(t,i,u),null!==p&&function Wh(t,i,s){t.setAttribute(i,"style",s)}(t,i,p)}const Wr={};function Pm(t=1){Xh(fs(),Hn(),ul()+t,!1)}function Xh(t,i,s,a){if(!a)if(3&~i[er]){const p=t.preOrderHooks;null!==p&&hh(i,p,0,s)}else{const p=t.preOrderCheckHooks;null!==p&&fh(i,p,s)}Eu(s)}function Bu(t,i=pr.Default){const s=Hn();return null===s?te(t,i):av(No(),s,Rt(t),i)}function qh(){throw new Error("invalid")}function Mf(t,i,s,a,u,p){const y=je(null);try{let E=null;u&Me.SignalBased&&(E=i[a][Xt]),null!==E&&void 0!==E.transformFn&&(p=E.transformFn(p)),u&Me.HasDecoratorInputTransform&&(p=t.inputTransforms[a].call(i,p)),null!==t.setInput?t.setInput(i,E,p,s,a):Oe(i,E,a,p)}finally{je(y)}}function Cf(t,i,s,a,u,p,y,E,I,Y,se){const be=i.blueprint.slice();return be[ms]=u,be[er]=204|a,(null!==Y||t&&2048&t[er])&&(be[er]|=2048),bu(be),be[Ls]=be[vr]=t,be[Ks]=s,be[Ja]=y||t&&t[Ja],be[Br]=E||t&&t[Br],be[Ss]=I||t&&t[Ss]||null,be[gs]=p,be[Wa]=function Yx(){return Kx++}(),be[to]=se,be[Ec]=Y,be[ho]=2==i.type?t[ho]:be,be}function Vu(t,i,s,a,u){let p=t.data[i];if(null===p)p=function w0(t,i,s,a,u){const p=Lp(),y=Yc(),I=t.data[i]=function M0(t,i,s,a,u,p){let y=i?i.injectorIndex:-1,E=0;return ec()&&(E|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:u,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,s,i,a,u);return null===t.firstChild&&(t.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(t,i,s,a,u),function ch(){return ns.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=s,p.value=a,p.attrs=u;const y=function Ma(){const t=ns.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return gl(p,!0),p}function Yh(t,i,s,a){if(0===s)return-1;const u=i.length;for(let p=0;p<s;p++)i.push(a),t.blueprint.push(a),t.data.push(null);return u}function Zh(t,i,s,a,u){const p=ul(),y=2&a;try{Eu(-1),y&&i.length>Re&&Xh(t,i,Re,!1),el(y?2:0,u),s(a,u)}finally{Eu(p),el(y?3:1,u)}}function x0(t,i,s){if(it(i)){const a=je(null);try{const p=i.directiveEnd;for(let y=i.directiveStart;y<p;y++){const E=t.data[y];E.contentQueries&&E.contentQueries(1,s[y],y)}}finally{je(a)}}}function E0(t,i,s){xu()&&(function Ub(t,i,s,a){const u=s.directiveStart,p=s.directiveEnd;qt(s)&&function Bm(t,i,s){const a=Xo(i,t),u=nc(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const E=Ed(t,Cf(t,u,null,y,a,i,null,t[Ja].rendererFactory.createRenderer(a,s),null,null,null));t[i.index]=E}(i,s,t.data[u+s.componentOffset]),t.firstCreatePass||mh(s,i),yl(a,i);const y=s.initialInputs;for(let E=u;E<p;E++){const I=t.data[E],Y=Su(i,t,E,s);yl(Y,i),null!==y&&Hu(0,E-u,Y,I,0,y),un(I)&&(Al(s.index,i)[Ks]=Su(i,t,E,s))}}(t,i,s,Xo(s,i)),!(64&~s.flags)&&km(t,i,s))}function S0(t,i,s=Xo){const a=i.localNames;if(null!==a){let u=i.index+1;for(let p=0;p<a.length;p+=2){const y=a[p+1],E=-1===y?s(i,t):t[y];t[u++]=E}}}function nc(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Af(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Af(t,i,s,a,u,p,y,E,I,Y,se){const be=Re+a,Qe=be+u,wt=function Pb(t,i){const s=[];for(let a=0;a<i;a++)s.push(a<t?null:Wr);return s}(be,Qe),Jt="function"==typeof Y?Y():Y;return wt[ei]={type:t,blueprint:wt,template:s,queries:null,viewQuery:E,declTNode:i,data:wt.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Jt,incompleteFirstPass:!1,ssrId:se}}let Jh=()=>null;function C0(t,i,s,a,u){for(let y in i){var p;if(!i.hasOwnProperty(y))continue;const E=i[y];if(void 0===E)continue;null!==(p=a)&&void 0!==p||(a={});let I,Y=Me.None;Array.isArray(E)?(I=E[0],Y=E[1]):I=E;let se=y;if(null!==u){if(!u.hasOwnProperty(y))continue;se=u[y]}0===t?A0(a,s,se,I,Y):A0(a,s,se,I)}return a}function A0(t,i,s,a,u){let p;t.hasOwnProperty(s)?(p=t[s]).push(i,a):p=t[s]=[i,a],void 0!==u&&p.push(u)}function zu(t,i,s,a){if(xu()){const u=null===a?null:{"":-1},p=function I0(t,i){const s=t.directiveRegistry;let a=null,u=null;if(s)for(let y=0;y<s.length;y++){const E=s[y];if(ce(i,E.selectors,!1))if(a||(a=[]),un(E))if(null!==E.findHostDirectiveDefs){const I=[];u=u||new Map,E.findHostDirectiveDefs(E,I,u),a.unshift(...I,E),xd(t,i,I.length)}else a.unshift(E),xd(t,i,0);else{var p;u=u||new Map,null===(p=E.findHostDirectiveDefs)||void 0===p||p.call(E,E,a,u),a.push(E)}}return null===a?null:[a,u]}(t,s);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Fm(t,i,s,y,u,E),u&&function Bb(t,i,s){if(i){const a=t.localNames=[];for(let u=0;u<i.length;u+=2){const p=s[i[u+1]];if(null==p)throw new Ft(-301,!1);a.push(i[u],p)}}}(s,a,u)}s.mergedAttrs=Ue(s.mergedAttrs,s.attrs)}function Fm(t,i,s,a,u,p){for(let be=0;be<a.length;be++)qp(mh(s,i),t,a[be].type);!function tp(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,a.length);for(let be=0;be<a.length;be++){const Qe=a[be];Qe.providersResolver&&Qe.providersResolver(Qe)}let y=!1,E=!1,I=Yh(t,i,a.length,null);for(let be=0;be<a.length;be++){const Qe=a[be];s.mergedAttrs=Ue(s.mergedAttrs,Qe.hostAttrs),Um(t,s,i,I,Qe),ep(I,Qe,u),null!==Qe.contentQueries&&(s.flags|=4),(null!==Qe.hostBindings||null!==Qe.hostAttrs||0!==Qe.hostVars)&&(s.flags|=64);const wt=Qe.type.prototype;var Y,se;!y&&(wt.ngOnChanges||wt.ngOnInit||wt.ngDoCheck)&&((null!==(Y=t.preOrderHooks)&&void 0!==Y?Y:t.preOrderHooks=[]).push(s.index),y=!0),E||!wt.ngOnChanges&&!wt.ngDoCheck||((null!==(se=t.preOrderCheckHooks)&&void 0!==se?se:t.preOrderCheckHooks=[]).push(s.index),E=!0),I++}!function Nb(t,i,s){const u=i.directiveEnd,p=t.data,y=i.attrs,E=[];let I=null,Y=null;for(let se=i.directiveStart;se<u;se++){const be=p[se],Qe=s?s.get(be):null,Jt=Qe?Qe.outputs:null;I=C0(0,be.inputs,se,I,Qe?Qe.inputs:null),Y=C0(1,be.outputs,se,Y,Jt);const Dn=null===I||null===y||Rn(i)?null:Vm(I,se,y);E.push(Dn)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=8),I.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=E,i.inputs=I,i.outputs=Y}(t,s,p)}function km(t,i,s){const a=s.directiveStart,u=s.directiveEnd,p=s.index,y=function Xd(){return ns.lFrame.currentDirectiveIndex}();try{Eu(p);for(let E=a;E<u;E++){const I=t.data[E],Y=i[E];Up(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&D0(I,Y)}}finally{Eu(-1),Up(y)}}function D0(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function xd(t,i,s){var a;i.componentOffset=s,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(i.index)}function ep(t,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=t;un(i)&&(s[""]=t)}}function Um(t,i,s,a,u){t.data[a]=u;const p=u.factory||(u.factory=Yr(u.type)),y=new Kd(p,un(u),Bu);t.blueprint[a]=y,s[a]=y,function kb(t,i,s,a,u){const p=u.hostBindings;if(p){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const E=~i.index;(function T0(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(y)!=E&&y.push(E),y.push(s,a,p)}}(t,i,a,Yh(t,s,u.hostVars,Wr),u)}function Il(t,i,s,a,u,p){const y=Xo(t,i);!function Df(t,i,s,a,u,p,y){if(null==p)t.removeAttribute(i,u,s);else{const E=null==y?gr(p):y(p,a||"",u);t.setAttribute(i,u,E,s)}}(i[Br],y,p,t.value,s,a,u)}function Hu(t,i,s,a,u,p){const y=p[i];if(null!==y)for(let E=0;E<y.length;)Mf(a,s,y[E++],y[E++],y[E++],y[E++])}function Vm(t,i,s){let a=null,u=0;for(;u<s.length;){const p=s[u];if(0!==p)if(5!==p){if("number"==typeof p)break;if(t.hasOwnProperty(p)){null===a&&(a=[]);const y=t[p];for(let E=0;E<y.length;E+=3)if(y[E]===i){a.push(p,y[E+1],y[E+2],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function If(t,i,s,a){return[t,!0,0,i,null,a,null,s,null,null]}function Rf(t,i){const s=t.contentQueries;if(null!==s){const a=je(null);try{for(let u=0;u<s.length;u+=2){const y=s[u+1];if(-1!==y){const E=t.data[y];uh(s[u]),E.contentQueries(2,i[y],y)}}}finally{je(a)}}}function Ed(t,i){return t[hl]?t[Ql][To]=i:t[hl]=i,t[Ql]=i,i}function Sd(t,i,s){uh(0);const a=je(null);try{i(t,s)}finally{je(a)}}function $u(t){return t[Fa]||(t[Fa]=[])}function R0(t){return t.cleanup||(t.cleanup=[])}function pc(t,i){const s=t[Ss],a=s?s.get(Tc,null):null;a&&a.handleError(i)}function Gu(t,i,s,a,u){for(let p=0;p<s.length;){const y=s[p++],E=s[p++],I=s[p++];Mf(t.data[y],i[y],a,E,I,u)}}function Vb(t,i){const s=Al(i,t),a=s[ei];!function zb(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(a,s);const u=s[ms];null!==u&&null===s[to]&&(s[to]=am(u,s[Ss])),Hm(a,s,s[Ks])}function Hm(t,i,s){zp(i);try{var a;const u=t.viewQuery;null!==u&&Sd(1,u,s);const p=t.template;null!==p&&Zh(t,i,p,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=i[Cl])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Rf(t,i),t.staticViewQueries&&Sd(2,t.viewQuery,s);const y=t.components;null!==y&&function Hb(t,i){for(let s=0;s<i.length;s++)Vb(t,i[s])}(i,y)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{i[er]&=-5,Hp()}}function Md(t,i){return!i||null===i.firstChild||Qp(t)}function Of(t,i,s,a=!0){const u=i[ei];if(function _d(t,i,s,a){const u=re+a,p=s.length;a>0&&(s[u-1][To]=i),a<p-re?(i[To]=s[u],Ao(s,re+a,i)):(s.push(i),i[To]=null),i[Ls]=s;const y=i[ja];null!==y&&s!==y&&function m0(t,i){const s=t[Q];i[ho]!==i[Ls][Ls][ho]&&(t[er]|=ge.HasTransplantedViews),null===s?t[Q]=[i]:s.push(i)}(y,i);const E=i[Cl];null!==E&&E.insertView(t),ad(i),i[er]|=128}(u,i,t,s),a){const y=il(s,t),E=i[Br],I=bf(E,t[C]);null!==I&&function Rb(t,i,s,a,u,p){a[ms]=u,a[gs]=i,nu(t,a,s,1,u,p)}(u,t[gs],E,i,I,y)}const p=i[to];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function Nf(t,i,s,a,u=!1){for(;null!==s;){const p=i[s.index];null!==p&&a.push(Zs(p)),Ge(p)&&np(p,a);const y=s.type;if(8&y)Nf(t,i,s.child,a);else if(32&y){const E=vd(s,i);let I;for(;I=E();)a.push(I)}else if(16&y){const E=_0(i,s);if(Array.isArray(E))a.push(...E);else{const I=Kc(i[ho]);Nf(I[ei],I,E,a,!0)}}s=u?s.projectionNext:s.next}return a}function np(t,i){for(let s=re;s<t.length;s++){const a=t[s],u=a[ei].firstChild;null!==u&&Nf(a[ei],a,u,i)}t[C]!==t[ms]&&i.push(t[C])}let O0=[];const ip={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qc(t.lView)},consumerOnSignalRead(){this.lView[Da]=this}},Gm=100;function ju(t,i=!0,s=0){const a=t[Ja],u=a.rendererFactory;var y;null===(y=u.begin)||void 0===y||y.call(u);try{!function rp(t,i){Wm(t,i);let s=0;for(;od(t);){if(s===Gm)throw new Ft(103,!1);s++,Wm(t,1)}}(t,s)}catch(Y){throw i&&pc(t,Y),Y}finally{var E,I;null===(E=u.end)||void 0===E||E.call(u),null===(I=a.inlineEffectRunner)||void 0===I||I.flush()}}function Lf(t,i,s,a){var u;const p=i[er];if(!(256&~p))return;null===(u=i[Ja].inlineEffectRunner)||void 0===u||u.flush(),zp(i);let E=null,I=null;(function Gb(t){return 2!==t.type})(t)&&(I=function Cd(t){var i;return null!==(i=t[Da])&&void 0!==i?i:function $b(t){var i;const s=null!==(i=O0.pop())&&void 0!==i?i:Object.create(ip);return s.lView=t,s}(t)}(i),E=function Gt(t){return t&&(t.nextProducerIndex=0),je(t)}(I));try{bu(i),function Ac(t){return ns.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Zh(t,i,s,2,a);const Y=!(3&~p);if(Y){const Qe=t.preOrderCheckHooks;null!==Qe&&fh(i,Qe,null)}else{const Qe=t.preOrderHooks;null!==Qe&&hh(i,Qe,0,null),$p(i,0)}if(function N0(t){for(let i=Av(t);null!==i;i=Tv(i)){if(!(i[er]&ge.HasTransplantedViews))continue;const s=i[Q];for(let a=0;a<s.length;a++){sd(s[a])}}}(i),jm(i,0),null!==t.contentQueries&&Rf(t,i),Y){const Qe=t.contentCheckHooks;null!==Qe&&fh(i,Qe)}else{const Qe=t.contentHooks;null!==Qe&&hh(i,Qe,1),$p(i,1)}!function Kh(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Eu(~u);else{const p=u,y=s[++a],E=s[++a];Jy(y,p),E(2,i[p])}}}finally{Eu(-1)}}(t,i);const se=t.components;null!==se&&mc(i,se,0);const be=t.viewQuery;if(null!==be&&Sd(2,be,a),Y){const Qe=t.viewCheckHooks;null!==Qe&&fh(i,Qe)}else{const Qe=t.viewHooks;null!==Qe&&hh(i,Qe,2),$p(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Jl]){for(const Qe of i[Jl])Qe();i[Jl]=null}i[er]&=-73}catch(Y){throw qc(i),Y}finally{null!==I&&(function fn(t,i){if(je(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Vt(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Bt(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(I,E),function va(t){t.lView[Da]!==t&&(t.lView=null,O0.push(t))}(I)),Hp()}}function jm(t,i){for(let s=Av(t);null!==s;s=Tv(s))for(let a=re;a<s.length;a++)sp(s[a],i)}function Ff(t,i,s){sp(Al(i,t),s)}function sp(t,i){rd(t)&&Wm(t,i)}function Wm(t,i){const a=t[ei],u=t[er],p=t[Da];let y=!!(0===i&&16&u);if(y||(y=!!(64&u&&0===i)),y||(y=!!(1024&u)),y||(y=!(null==p||!p.dirty||!Tt(p))),p&&(p.dirty=!1),t[er]&=-9217,y)Lf(a,t,a.template,t[Ks]);else if(8192&u){jm(t,1);const E=a.components;null!==E&&mc(t,E,1)}}function mc(t,i,s){for(let a=0;a<i.length;a++)Ff(t,i[a],s)}function Ad(t){var i;for(null===(i=t[Ja].changeDetectionScheduler)||void 0===i||i.notify();t;){t[er]|=64;const s=Kc(t);if(zn(t)&&!s)return t;t=s}return null}class Td{get rootNodes(){const i=this._lView,s=i[ei];return Nf(s,i,s.firstChild,[])}constructor(i,s,a=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ks]}set context(i){this._lView[Ks]=i}get destroyed(){return!(256&~this._lView[er])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ls];if(Ge(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(bd(i,a),Oo(s,a))}this._attachedToViewContainer=!1}Hh(this._lView[ei],this._lView)}onDestroy(i){wu(this._lView,i)}markForCheck(){Ad(this._cdRefInjectingView||this._lView)}detach(){this._lView[er]&=-129}reattach(){ad(this._lView),this._lView[er]|=128}detectChanges(){this._lView[er]|=1024,ju(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vf(this._lView[ei],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ft(902,!1);this._appRef=i,ad(this._lView)}}let Wu=(()=>{class i{}return i.__NG_ELEMENT_ID__=Xm,i})();const jb=Wu,Wb=class extends jb{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,a){const u=function Pf(t,i,s,a){const u=je(null);try{var p,y,E;const I=i.tView,be=Cf(t,I,s,4096&t[er]?4096:16,null,i,null,null,null!==(p=null==a?void 0:a.injector)&&void 0!==p?p:null,null!==(y=null==a?void 0:a.embeddedViewInjector)&&void 0!==y?y:null,null!==(E=null==a?void 0:a.dehydratedView)&&void 0!==E?E:null);be[ja]=t[i.index];const wt=t[Cl];return null!==wt&&(be[Cl]=wt.createEmbeddedView(I)),Hm(I,be,s),be}finally{je(u)}}(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:a});return new Td(u)}};function Xm(){return Xu(No(),Hn())}function Xu(t,i){return 4&t.type?new Wb(i,t,Qd(t,i)):null}class ic{}class nw{}class rc{}class CE{resolveComponentFactory(i){throw function ME(t){const i=Error(`No component factory found for ${Wi(t)}.`);return i.ngComponent=t,i}(i)}}let ig=(()=>{class i{}return i.NULL=new CE,i})();class H0{}let Ku=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function $0(){const t=Hn(),s=Al(No().index,t);return(Ve(s)?s:t)[Br]}(),i})(),rg=(()=>{var t;class i{}return(t=i).\u0275prov=br({token:t,providedIn:"root",factory:()=>null}),i})();const lp={},cp=new Set;function vc(t){var i,s;cp.has(t)||(cp.add(t),null===(i=performance)||void 0===i||null===(s=i.mark)||void 0===s||s.call(i,"mark_feature_usage",{detail:{feature:t}}))}function sg(...t){}class Ca{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new Ft(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function G0(){const t="function"==typeof $i.requestAnimationFrame;let i=$i[t?"requestAnimationFrame":"setTimeout"],s=$i[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Pd(t){const i=()=>{!function ow(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($i,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dp(t),t.isCheckStableRunning=!0,Wl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,p,y,E)=>{if(function og(t){var i;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(i=t[0].data)||void 0===i?void 0:i.__ignore_ng_zone__)}(E))return s.invokeTask(u,p,y,E);try{return j0(t),s.invokeTask(u,p,y,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||t.shouldCoalesceRunChangeDetection)&&i(),W0(t)}},onInvoke:(s,a,u,p,y,E,I)=>{try{return j0(t),s.invoke(u,p,y,E,I)}finally{t.shouldCoalesceRunChangeDetection&&i(),W0(t)}},onHasTask:(s,a,u,p)=>{s.hasTask(u,p),a===u&&("microTask"==p.change?(t._hasPendingMicrotasks=p.microTask,dp(t),Wl(t)):"macroTask"==p.change&&(t.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,u,p)=>(s.handleError(u,p),t.runOutsideAngular(()=>t.onError.emit(p)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ca.isInAngularZone())throw new Ft(909,!1)}static assertNotInAngularZone(){if(Ca.isInAngularZone())throw new Ft(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+u,i,sw,sg,sg);try{return p.runTask(y,s,a)}finally{p.cancelTask(y)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const sw={};function Wl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function W0(t){t._nesting--,Wl(t)}class X0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}var Zu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zu||{});const q0={destroy(){}};function ag(t,i){var s,a,u;!i&&function Ye(t){if(!ia())throw new Ft(-203,!1)}();const p=null!==(s=null==i?void 0:i.injector)&&void 0!==s?s:He(Nl);if(!function jl(t){return"browser"===(null!=t?t:He(Nl)).get(sm)}(p))return q0;vc("NgAfterNextRender");const y=p.get(au),E=null!==(a=y.handler)&&void 0!==a?a:y.handler=new Y0,I=null!==(u=null==i?void 0:i.phase)&&void 0!==u?u:Zu.MixedReadWrite,Y=()=>{E.unregister(be),se()},se=p.get(dd).onDestroy(Y),be=Ml(p,()=>new lg(I,()=>{Y(),t()}));return E.register(be),{destroy:Y}}class lg{constructor(i,s){var a;this.phase=i,this.callbackFn=s,this.zone=He(Ca),this.errorHandler=He(Tc,{optional:!0}),null===(a=He(ic,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){var i;null===(i=this.errorHandler)||void 0===i||i.handleError(s)}}}class Y0{constructor(){this.executingCallbacks=!1,this.buckets={[Zu.EarlyRead]:new Set,[Zu.Write]:new Set,[Zu.MixedReadWrite]:new Set,[Zu.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const s of i)s.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let au=(()=>{var t;class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=i).\u0275prov=br({token:t,providedIn:"root",factory:()=>new t}),i})();function Qu(t){return!!wo(t)}function ug(t,i,s){let a=s?t.styles:null,u=s?t.classes:null,p=0;if(null!==i)for(let y=0;y<i.length;y++){const E=i[y];"number"==typeof E?p=E:1==p?u=Xr(u,E):2==p&&(a=Xr(a,E+": "+i[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}class Z0 extends ig{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Ui(i);return new oc(s,this.ngModule)}}function cu(t){const i=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const a=t[s];void 0!==a&&i.push({propName:Array.isArray(a)?a[0]:a,templateName:s})}return i}class pp{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=nt(a);const u=this.injector.get(i,lp,a);return u!==lp||s===lp?u:this.parentInjector.get(i,s,a)}}class oc extends rc{get inputs(){const i=this.componentDef,s=i.inputTransforms,a=cu(i.inputs);if(null!==s)for(const u of a)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return a}get outputs(){return cu(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Cn(t){return t.map(Xi).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,u){const p=je(null);try{var E;let I=(u=u||this.ngModule)instanceof Za?u:null===(E=u)||void 0===E?void 0:E.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const Y=I?new pp(i,I):i,se=Y.get(H0,null);if(null===se)throw new Ft(407,!1);const be=Y.get(rg,null),Jt={rendererFactory:se,sanitizer:be,inlineEffectRunner:null,afterRenderEventManager:Y.get(au,null),changeDetectionScheduler:Y.get(ic,null)},Dn=se.createRenderer(null,this.componentDef),Jn=this.componentDef.selectors[0][0]||"div",li=a?function Om(t,i,s,a){const p=a.get($v,!1)||s===he.ShadowDom,y=t.selectRootElement(i,p);return function Qh(t){Jh(t)}(y),y}(Dn,a,this.componentDef.encapsulation,Y):hc(Dn,Jn,function Q0(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Jn));let $n=512;this.componentDef.signals?$n|=4096:this.componentDef.onPush||($n|=16);let rs=null;null!==li&&(rs=am(li,Y,!0));const Bs=Af(0,null,null,1,0,null,null,null,null,null,null),Eo=Cf(null,Bs,null,$n,null,null,Jt,Dn,Y,null,rs);let wl,_c;zp(Eo);try{const Wc=this.componentDef;let nh,Lx=null;Wc.findHostDirectiveDefs?(nh=[],Lx=new Map,Wc.findHostDirectiveDefs(Wc,nh,Lx),nh.push(Wc)):nh=[Wc];const GI=function DE(t,i){const s=t[ei],a=Re;return t[a]=i,Vu(s,a,2,"#host",null)}(Eo,li),jI=function cw(t,i,s,a,u,p,y){const E=u[ei];!function dg(t,i,s,a){for(const u of t)i.mergedAttrs=Ue(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(ug(i,i.mergedAttrs,!0),null!==s&&Rm(a,s,i))}(a,t,i,y);let I=null;null!==i&&(I=am(i,u[Ss]));const Y=p.rendererFactory.createRenderer(i,s);let se=16;s.signals?se=4096:s.onPush&&(se=64);const be=Cf(u,nc(s),null,se,u[t.index],t,p,Y,null,null,I);return E.firstCreatePass&&xd(E,t,a.length-1),Ed(u,be),u[t.index]=be}(GI,li,Wc,nh,Eo,Jt,Dn);_c=Sa(Bs,Re),li&&function fg(t,i,s,a){if(a)et(t,s,["ng-version","17.3.10"]);else{const{attrs:u,classes:p}=function Fn(t){const i=[],s=[];let a=1,u=2;for(;a<t.length;){let p=t[a];if("string"==typeof p)2===u?""!==p&&i.push(p,t[++a]):8===u&&s.push(p);else{if(!ne(u))break;u=p}a++}return{attrs:i,classes:s}}(i.selectors[0]);u&&et(t,s,u),p&&p.length>0&&Im(t,s,p.join(" "))}}(Dn,Wc,li,a),void 0!==s&&function dw(t,i,s){const a=t.projection=[];for(let u=0;u<i.length;u++){const p=s[u];a.push(null!=p?Array.from(p):null)}}(_c,this.ngContentSelectors,s),wl=function uw(t,i,s,a,u,p){const y=No(),E=u[ei],I=Xo(y,u);Fm(E,u,y,s,null,a);for(let se=0;se<s.length;se++)yl(Su(u,E,y.directiveStart+se,y),u);km(E,u,y),I&&yl(I,u);const Y=Su(u,E,y.directiveStart+y.componentOffset,y);if(t[Ks]=u[Ks]=Y,null!==p)for(const se of p)se(Y,i);return x0(E,y,u),Y}(jI,Wc,nh,Lx,Eo,[fw]),Hm(Bs,Eo,null)}finally{Hp()}return new TE(this.componentType,wl,Qd(_c,Eo),Eo,_c)}finally{je(p)}}}class TE extends nw{constructor(i,s,a,u,p){super(),this.location=a,this._rootLView=u,this._tNode=p,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Td(u,void 0,!1),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){var p;if(null!==(p=this.previousInputValues)&&void 0!==p||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const y=this._rootLView;Gu(y[ei],y,u,i,s),this.previousInputValues.set(i,s),Ad(Al(this._tNode.index,y))}}get injector(){return new Ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function fw(){const t=No();dh(Hn()[ei],t)}let mp=(()=>{class i{}return i.__NG_ELEMENT_ID__=hw,i})();function hw(){return qo(No(),Hn())}const pw=mp,J0=class extends pw{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new Ha(this._hostTNode,this._hostLView)}get parentInjector(){const i=gh(this._hostTNode,this._hostLView);if(jp(i)){const s=Zd(i,this._hostLView),a=Yd(i);return new Ha(s[ei].data[a+8],s)}return new Ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=ey(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-re}createEmbeddedView(i,s,a){let u,p;"number"==typeof a?u=a:null!=a&&(u=a.index,p=a.injector);const E=i.createEmbeddedViewImpl(s||{},p,null);return this.insertImpl(E,u,Md(this._hostTNode,null)),E}createComponent(i,s,a,u,p){var y,I;const Y=i&&!function mn(t){return"function"==typeof t}(i);let se;if(Y)se=s;else{const li=s||{};se=li.index,a=li.injector,u=li.projectableNodes,p=li.environmentInjector||li.ngModuleRef}const be=Y?i:new oc(Ui(i)),Qe=a||this.parentInjector;if(!p&&null==be.ngModule){const $n=(Y?Qe:this.parentInjector).get(Za,null);$n&&(p=$n)}const wt=Ui(null!==(y=be.componentType)&&void 0!==y?y:{}),Jt=(null==wt?void 0:wt.id,null),Dn=null!==(I=null==Jt?void 0:Jt.firstChild)&&void 0!==I?I:null,Jn=be.create(Qe,u,Dn,p);return this.insertImpl(Jn.hostView,se,Md(this._hostTNode,Jt)),Jn}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,a){const u=i._lView;if(function jg(t){return Ge(t[Ls])}(u)){const E=this.indexOf(i);if(-1!==E)this.detach(E);else{const I=u[Ls],Y=new J0(I,I[gs],I[Ls]);Y.detach(Y.indexOf(i))}}const p=this._adjustIndex(s),y=this._lContainer;return Of(y,u,p,a),i.attachToViewContainerRef(),Ao(hg(y),p,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=ey(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=bd(this._lContainer,s);a&&(Oo(hg(this._lContainer),s),Hh(a[ei],a))}detach(i){const s=this._adjustIndex(i,-1),a=bd(this._lContainer,s);return a&&null!=Oo(hg(this._lContainer),s)?new Td(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function ey(t){return t[8]}function hg(t){return t[8]||(t[8]=[])}function qo(t,i){let s;const a=i[t.index];return Ge(a)?s=a:(s=If(a,i,null,t),i[t.index]=s,Ed(i,s)),ty(s,i,t,a),new J0(s,t,i)}let ty=function mg(t,i,s,a){if(t[C])return;let u;u=8&s.type?Zs(a):function IE(t,i){const s=t[Br],a=s.createComment(""),u=Xo(i,t);return Fu(s,bf(s,u),a,function Dm(t,i){return t.nextSibling(i)}(s,u),!1),a}(i,s),t[C]=u},pg=()=>!1;class ny{constructor(i){this.queryList=i,this.matches=null}clone(){return new ny(this.queryList)}setDirty(){this.queryList.setDirty()}}class gp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let p=0;p<a;p++){const y=s.getByIndex(p);u.push(this.queries[y.indexInDeclarationView].clone())}return new gp(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==bp(i,s).matches&&this.queries[s].setDirty()}}class vw{constructor(i,s,a=null){this.flags=s,this.read=a,this.predicate="string"==typeof i?function yp(t){return t.split(",").map(i=>i.trim())}(i):i}}class vp{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(i,u);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new vp(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Wf{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Wf(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const p=a[u];this.matchTNodeWithReadOption(i,s,iy(s,p)),this.matchTNodeWithReadOption(i,s,vh(s,i,p,!1,!1))}else a===Wu?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,vh(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===bh||u===mp||u===Wu&&4&s.type)this.addMatch(s.index,-2);else{const p=vh(s,i,u,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function iy(t,i){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function ry(t,i,s,a){return-1===s?function OE(t,i){return 11&t.type?Qd(t,i):4&t.type?Xu(t,i):null}(i,t):-2===s?function NE(t,i,s){return s===bh?Qd(i,t):s===Wu?Xu(i,t):s===mp?qo(i,t):void 0}(t,i,a):Su(t,t[ei],s,i)}function gg(t,i,s,a){const u=i[Cl].queries[a];if(null===u.matches){const p=t.data,y=s.matches,E=[];for(let I=0;null!==y&&I<y.length;I+=2){const Y=y[I];E.push(Y<0?null:ry(i,p[Y],y[I+1],s.metadata.read))}u.matches=E}return u.matches}function Nd(t,i,s,a){const u=t.queries.getByIndex(s),p=u.matches;if(null!==p){const y=gg(t,i,u,s);for(let E=0;E<p.length;E+=2){const I=p[E];if(I>0)a.push(y[E/2]);else{const Y=p[E+1],se=i[-I];for(let be=re;be<se.length;be++){const Qe=se[be];Qe[ja]===Qe[Ls]&&Nd(Qe[ei],Qe,Y,a)}if(null!==se[Q]){const be=se[Q];for(let Qe=0;Qe<be.length;Qe++){const wt=be[Qe];Nd(wt[ei],wt,Y,a)}}}}}return a}function vg(t,i,s){var a;const u=new Ev(!(4&~s));return function Ob(t,i,s,a){const u=$u(i);u.push(s),t.firstCreatePass&&R0(t).push(a,u.length-1)}(t,i,u,u.destroy),(null!==(a=i[Cl])&&void 0!==a?a:i[Cl]=new gp).queries.push(new ny(u))-1}function _p(t,i,s){null===t.queries&&(t.queries=new vp),t.queries.track(new Wf(i,s))}function bp(t,i){return t.queries.getByIndex(i)}function _w(t,i){const s=t[ei],a=bp(s,i);return a.crossesNgTemplate?Nd(s,t,i,[]):gg(s,t,a,i)}function wg(t){let i=function fy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;i;){let u;if(un(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ft(903,!1);u=i.\u0275dir}if(u){if(s){a.push(u);const y=t;y.inputs=Mp(t.inputs),y.inputTransforms=Mp(t.inputTransforms),y.declaredInputs=Mp(t.declaredInputs),y.outputs=Mp(t.outputs);const E=u.hostBindings;E&&kw(t,E);const I=u.viewQuery,Y=u.contentQueries;if(I&&Lw(t,I),Y&&Fw(t,Y),Ow(t,u),ds(t.outputs,u.outputs),un(u)&&u.data.animation){const se=t.data;se.animation=(se.animation||[]).concat(u.data.animation)}}const p=u.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(t),E===wg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Nw(t){let i=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Ue(u.hostAttrs,s=Ue(s,u.hostAttrs))}}(a)}function Ow(t,i){for(const a in i.inputs){if(!i.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const u=i.inputs[a];if(void 0!==u&&(t.inputs[a]=u,t.declaredInputs[a]=i.declaredInputs[a],null!==i.inputTransforms)){var s;const p=Array.isArray(u)?u[0]:u;if(!i.inputTransforms.hasOwnProperty(p))continue;null!==(s=t.inputTransforms)&&void 0!==s||(t.inputTransforms={}),t.inputTransforms[p]=i.inputTransforms[p]}}}function Mp(t){return t===ee?{}:t===Z?[]:t}function Lw(t,i){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function Fw(t,i){const s=t.contentQueries;t.contentQueries=s?(a,u,p)=>{i(a,u,p),s(a,u,p)}:i}function kw(t,i){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}function vy(t){const i=t.inputConfig,s={};for(const a in i)if(i.hasOwnProperty(a)){const u=i[a];Array.isArray(u)&&u[3]&&(s[a]=u[3])}t.inputTransforms=s}class Ju{}class kl{}function Ld(t,i){return new Cp(t,null!=i?i:null,[])}class Cp extends Ju{constructor(i,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z0(this);const u=wo(i);this._bootstrapComponents=_l(u.bootstrap),this._r3Injector=yv(i,s,[{provide:Ju,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...a],Wi(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Zf extends kl{constructor(i){super(),this.moduleType=i}create(i){return new Cp(this.moduleType,i,[])}}class zc extends Ju{constructor(i){super(),this.componentFactoryResolver=new Z0(this),this.instance=null;const s=new Ga([...i.providers,{provide:Ju,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],i.parent||pa(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Sg(t,i,s=null){return new zc({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let kd=(()=>{var t;class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _r.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function Ud(t){return!!Cg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Cg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ya(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Vd(t,i,s,a,u,p,y,E){const I=Hn(),Y=fs(),se=t+Re,be=Y.firstCreatePass?function jw(t,i,s,a,u,p,y,E,I){const Y=i.consts,se=Vu(i,t,4,y||null,pl(Y,E));zu(i,s,se,pl(Y,I)),dh(i,se);const be=se.tView=Af(2,se,a,u,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Y,null);return null!==i.queries&&(i.queries.template(i,se),be.queries=i.queries.embeddedTView(se)),se}(se,Y,I,i,s,a,u,p,y):Y.data[se];gl(be,!1);const Qe=_y(Y,I,be,t);qd()&&Uu(Y,I,Qe,be),yl(Qe,I);const wt=If(Qe,I,Qe,be);return I[se]=wt,Ed(I,wt),function mw(t,i,s){return pg(t,i,s)}(wt,be,I),dn(be)&&E0(Y,I,be),null!=y&&S0(I,be,E),Vd}let _y=function by(t,i,s,a){return uc(!0),i[Br].createComment("")};function ra(t,i,s,a){const u=Hn();return ya(u,tl(),i)&&(fs(),Il(Qo(),u,t,i,s,a)),ra}function Sn(t,i){return t<<17|i<<2}function wn(t){return t>>17&32767}function Dr(t){return 2|t}function Gr(t){return(131068&t)>>2}function xs(t,i){return-131069&t|i<<2}function js(t){return 1|t}function Do(t,i,s,a){const u=t[s+1],p=null===i;let y=a?wn(u):Gr(u),E=!1;for(;0!==y&&(!1===E||p);){const Y=t[y+1];Rs(t[y],i)&&(E=!0,t[y+1]=a?js(Y):Dr(Y)),y=a?wn(Y):Gr(Y)}E&&(t[s+1]=a?Dr(u):js(u))}function Rs(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&d(t,i)>=0}function Xw(t,i,s){const a=Hn();return ya(a,tl(),i)&&function Dl(t,i,s,a,u,p,y,E){const I=Xo(i,s);let se,Y=i.inputs;!E&&null!=Y&&(se=Y[a])?(Gu(t,s,se,a,u),qt(i)&&function Lb(t,i){const s=Al(i,t);16&s[er]||(s[er]|=64)}(s,i.index)):3&i.type&&(a=function Tf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=y?y(u,i.value||"",a):u,p.setProperty(I,a,u))}(fs(),Qo(),a,t,i,a[Br],s,!1),Xw}function qw(t,i,s,a,u){const y=u?"class":"style";Gu(t,s,i.inputs[y],y,a)}function Kw(t,i){return function Gc(t,i,s,a){const u=Hn(),p=fs(),y=function $l(t){const i=ns.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}(2);p.firstUpdatePass&&function qE(t,i,s,a){const u=t.data;if(null===u[s+1]){const p=u[ul()],y=function XE(t,i){return i>=t.expandoStartIndex}(t,s);(function QE(t,i){return!!(t.flags&(i?8:16))})(p,a)&&null===i&&!y&&(i=!1),i=function lA(t,i,s,a){const u=function Bp(t){const i=ns.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let p=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=Rg(s=Yw(null,t,i,s,a),i.attrs,a),p=null);else{const y=i.directiveStylingLast;if(-1===y||t[y]!==u)if(s=Yw(u,t,i,s,a),null===p){let I=function cA(t,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==Gr(a))return t[wn(a)]}(t,i,a);void 0!==I&&Array.isArray(I)&&(I=Yw(null,t,i,I[1],a),I=Rg(I,i.attrs,a),function uA(t,i,s,a){t[wn(s?i.classBindings:i.styleBindings)]=a}(t,i,a,I))}else p=function dA(t,i,s){let a;const u=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<u;p++)a=Rg(a,t[p].hostAttrs,s);return Rg(a,i.attrs,s)}(t,i,a)}return void 0!==p&&(a?i.residualClasses=p:i.residualStyles=p),s}(u,p,i,a),function zl(t,i,s,a,u,p){let y=p?i.classBindings:i.styleBindings,E=wn(y),I=Gr(y);t[a]=s;let se,Y=!1;if(Array.isArray(s)?(se=s[1],(null===se||d(s,se)>0)&&(Y=!0)):se=s,u)if(0!==I){const Qe=wn(t[E+1]);t[a+1]=Sn(Qe,E),0!==Qe&&(t[Qe+1]=xs(t[Qe+1],a)),t[E+1]=function Tr(t,i){return 131071&t|i<<17}(t[E+1],a)}else t[a+1]=Sn(E,0),0!==E&&(t[E+1]=xs(t[E+1],a)),E=a;else t[a+1]=Sn(I,0),0===E?E=a:t[I+1]=xs(t[I+1],a),I=a;Y&&(t[a+1]=Dr(t[a+1])),Do(t,se,a,!0),Do(t,se,a,!1),function Hc(t,i,s,a,u){const p=u?t.residualClasses:t.residualStyles;null!=p&&"string"==typeof i&&d(p,i)>=0&&(s[a+1]=js(s[a+1]))}(i,se,t,a,p),y=Sn(E,I),p?i.classBindings=y:i.styleBindings=y}(u,p,i,s,y,a)}}(p,t,y,a),i!==Wr&&ya(u,y,i)&&function YE(t,i,s,a,u,p,y,E){if(!(3&i.type))return;const I=t.data,Y=I[E+1],se=function Gs(t){return!(1&~t)}(Y)?ZE(I,i,s,u,Gr(Y),y):void 0;Ty(se)||(Ty(p)||function nr(t){return!(2&~t)}(Y)&&(p=ZE(I,null,s,u,E,y)),function iu(t,i,s,a,u){if(i)u?t.addClass(s,a):t.removeClass(s,a);else{let p=-1===a.indexOf("-")?void 0:Vh.DashCase;null==u?t.removeStyle(s,a,p):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),p|=Vh.Important),t.setStyle(s,a,u,p))}}(a,y,function cc(t,i){return Zs(i[t])}(ul(),s),u,p))}(p,p.data[ul()],u,u[Br],t,u[y+1]=function mA(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Wi(Rc(t)))),t}(i,s),a,y)}(t,i,null,!0),Kw}function Yw(t,i,s,a,u){let p=null;const y=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<y&&(p=i[E],a=Rg(a,p.hostAttrs,u),p!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function Rg(t,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let p=0;p<i.length;p++){const y=i[p];"number"==typeof y?u=y:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ua(t,y,!!s||i[++p]))}return void 0===t?null:t}function ZE(t,i,s,a,u,p){const y=null===i;let E;for(;u>0;){const I=t[u],Y=Array.isArray(I),se=Y?I[1]:I,be=null===se;let Qe=s[u+1];Qe===Wr&&(Qe=be?Z:void 0);let wt=be?D(Qe,a):se===a?Qe:void 0;if(Y&&!Ty(wt)&&(wt=D(I,a)),Ty(wt)&&(E=wt,y))return E;const Jt=t[u+1];u=y?wn(Jt):Gr(Jt)}if(null!==i){let I=p?i.residualClasses:i.residualStyles;null!=I&&(E=D(I,a))}return E}function Ty(t){return void 0!==t}function Dy(t,i,s,a){const u=Hn(),p=fs(),y=Re+t,E=u[Br],I=p.firstCreatePass?function UA(t,i,s,a,u,p){const y=i.consts,I=Vu(i,t,2,a,pl(y,u));return zu(i,s,I,pl(y,p)),null!==I.attrs&&ug(I,I.attrs,!1),null!==I.mergedAttrs&&ug(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(y,p,u,i,s,a):p.data[y],Y=nS(p,u,I,E,i,t);u[y]=Y;const se=dn(I);return gl(I,!0),Rm(E,Y,I),!function Qf(t){return!(32&~t.flags)}(I)&&qd()&&Uu(p,u,Y,I),0===function ka(){return ns.lFrame.elementDepthCount}()&&yl(Y,u),function Ky(){ns.lFrame.elementDepthCount++}(),se&&(E0(p,u,I),x0(p,I,u)),null!==a&&S0(u,I),Dy}function Iy(){let t=No();Yc()?Fp():(t=t.parent,gl(t,!1));const i=t;(function ml(t){return ns.skipHydrationRootTNode===t})(i)&&function Qy(){ns.skipHydrationRootTNode=null}(),function sh(){ns.lFrame.elementDepthCount--}();const s=fs();return s.firstCreatePass&&(dh(s,t),it(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function u_(t){return!!(8&t.flags)}(i)&&qw(s,i,Hn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function d_(t){return!!(16&t.flags)}(i)&&qw(s,i,Hn(),i.stylesWithoutHost,!1),Iy}function tx(t,i,s,a){return Dy(t,i,s,a),Iy(),tx}let nS=(t,i,s,a,u,p)=>(uc(!0),hc(a,u,function Qg(){return ns.lFrame.currentNamespace}()));function Ry(t,i,s){const a=Hn(),u=fs(),p=t+Re,y=u.firstCreatePass?function zA(t,i,s,a,u){const p=i.consts,y=pl(p,a),E=Vu(i,t,8,"ng-container",y);return null!==y&&ug(E,y,!0),zu(i,s,E,pl(p,u)),null!==i.queries&&i.queries.elementStart(i,E),E}(p,u,a,i,s):u.data[p];gl(y,!0);const E=iS(u,a,y,t);return a[p]=E,qd()&&Uu(u,a,E,y),yl(E,a),dn(y)&&(E0(u,a,y),x0(u,y,a)),null!=s&&S0(a,y),Ry}function Py(){let t=No();const i=fs();return Yc()?Fp():(t=t.parent,gl(t,!1)),i.firstCreatePass&&(dh(i,t),it(t)&&i.queries.elementEnd(t)),Py}function nx(t,i,s){return Ry(t,i,s),Py(),nx}let iS=(t,i,s,a)=>(uc(!0),gf(i[Br],""));function rS(){return Hn()}const eh=void 0;var jA=["en",[["a","p"],["AM","PM"],eh],[["AM","PM"],eh,eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GA(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Tp={};function ix(t){const i=function WA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=lS(i);if(s)return s;const a=i.split("-")[0];if(s=lS(a),s)return s;if("en"===a)return jA;throw new Ft(701,!1)}function aS(t){return ix(t)[Dp.PluralCase]}function lS(t){return t in Tp||(Tp[t]=$i.ng&&$i.ng.common&&$i.ng.common.locales&&$i.ng.common.locales[t]),Tp[t]}var Dp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Dp||{});const Ip="en-US";let cS=Ip;function ox(t,i,s,a){const u=Hn(),p=fs(),y=No();return function ax(t,i,s,a,u,p,y){const E=dn(a),Y=t.firstCreatePass&&R0(t),se=i[Ks],be=$u(i);let Qe=!0;if(3&a.type||y){const Dn=Xo(a,i),Jn=y?y(Dn):Dn,li=be.length,$n=y?Bs=>y(Zs(Bs[a.index])):a.index;let rs=null;if(!y&&E&&(rs=function HT(t,i,s,a){const u=t.cleanup;if(null!=u)for(let p=0;p<u.length-1;p+=2){const y=u[p];if(y===s&&u[p+1]===a){const E=i[Fa],I=u[p+2];return E.length>I?E[I]:null}"string"==typeof y&&(p+=2)}return null}(t,i,u,a.index)),null!==rs)(rs.__ngLastListenerFn__||rs).__ngNextListenerFn__=p,rs.__ngLastListenerFn__=p,Qe=!1;else{p=kS(a,i,se,p,!1);const Bs=s.listen(Jn,u,p);be.push(p,Bs),Y&&Y.push(u,$n,li,li+1)}}else p=kS(a,i,se,p,!1);const wt=a.outputs;let Jt;if(Qe&&null!==wt&&(Jt=wt[u])){const Dn=Jt.length;if(Dn)for(let Jn=0;Jn<Dn;Jn+=2){const Eo=i[Jt[Jn]][Jt[Jn+1]].subscribe(p),wl=be.length;be.push(p,Eo),Y&&Y.push(u,a.index,wl,-(wl+1))}}}(p,u,u[Br],y,t,i,a),ox}function FS(t,i,s,a){const u=je(null);try{return el(6,i,s),!1!==s(a)}catch(p){return pc(t,p),!1}finally{el(7,i,s),je(u)}}function kS(t,i,s,a,u){return function p(y){if(y===Function)return a;Ad(t.componentOffset>-1?Al(t.index,i):i);let I=FS(i,s,a,y),Y=p.__ngNextListenerFn__;for(;Y;)I=FS(i,s,Y,y)&&I,Y=Y.__ngNextListenerFn__;return u&&!1===I&&y.preventDefault(),I}}function US(t=1){return function t_(t){return(ns.lFrame.contextLView=function ih(t,i){for(;t>0;)i=i[vr],t--;return i}(t,ns.lFrame.contextLView))[Ks]}(t)}function $T(t,i){let s=null;const a=function Dt(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let u=0;u<i.length;u++){const p=i[u];if("*"!==p){if(null===a?ce(t,p,!0):yn(a,p))return u}else s=u}return s}function BS(t){const i=Hn()[ho][gs];if(!i.projection){const a=i.projection=function xa(t,i){const s=[];for(let a=0;a<t;a++)s.push(i);return s}(t?t.length:1,null),u=a.slice();let p=i.child;for(;null!==p;){const y=t?$T(p,t):0;null!==y&&(u[y]?u[y].projectionNext=p:a[y]=p,u[y]=p),p=p.next}}}function VS(t,i=0,s){const a=Hn(),u=fs(),p=Vu(u,Re+t,16,null,s||null);null===p.projection&&(p.projection=i),Fp(),(!a[to]||ec())&&32&~p.flags&&function Gh(t,i,s){jh(i[Br],0,i,s,Tm(t,s,i),wf(s.parent||i[gs],s,i))}(u,a,p)}function YS(t,i,s,a){!function Vc(t,i,s,a){const u=fs();if(u.firstCreatePass){const p=No();_p(u,new vw(i,s,a),p.index),function LE(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(u,t),!(2&~s)&&(u.staticContentQueries=!0)}return vg(u,Hn(),s)}(t,i,s,a)}function ZS(t,i,s){!function yw(t,i,s){const a=fs();return a.firstCreatePass&&(_p(a,new vw(t,i,s),-1),!(2&~i)&&(a.staticViewQueries=!0)),vg(a,Hn(),i)}(t,i,s)}function QS(t){const i=Hn(),s=fs(),a=Vp();uh(a+1);const u=bp(s,a);if(t.dirty&&function _u(t){return!(4&~t[er])}(i)===!(2&~u.metadata.flags)){if(null===u.matches)t.reset([]);else{const p=_w(i,a);t.reset(p,D_),t.notifyOnChanges()}return!0}return!1}function JS(){return function sy(t,i){return t[Cl].queries[i].queryList}(Hn(),Vp())}function cM(t,i=""){const s=Hn(),a=fs(),u=t+Re,p=a.firstCreatePass?Vu(a,u,1,i,null):a.data[u],y=uM(a,s,p,i,t);s[u]=y,qd()&&Uu(a,s,y,p),gl(p,!1)}let uM=(t,i,s,a,u)=>(uc(!0),function mf(t,i){return t.createText(i)}(i[Br],a));function ux(t,i,s,a,u){if(t=Rt(t),Array.isArray(t))for(let p=0;p<t.length;p++)ux(t[p],i,s,a,u);else{const p=fs(),y=Hn(),E=No();let I=cl(t)?t:Rt(t.provide);const Y=fo(t),se=1048575&E.providerIndexes,be=E.directiveStart,Qe=E.providerIndexes>>20;if(cl(t)||!t.multi){const wt=new Kd(Y,u,Bu),Jt=fx(I,i,u?se:se+Qe,be);-1===Jt?(qp(mh(E,y),p,I),dx(p,t,i.length),i.push(I),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(wt),y.push(wt)):(s[Jt]=wt,y[Jt]=wt)}else{const wt=fx(I,i,se+Qe,be),Jt=fx(I,i,se,se+Qe),Jn=Jt>=0&&s[Jt];if(u&&!Jn||!u&&!(wt>=0&&s[wt])){qp(mh(E,y),p,I);const li=function u1(t,i,s,a,u){const p=new Kd(t,s,Bu);return p.multi=[],p.index=i,p.componentProviders=0,xM(p,u,a&&!s),p}(u?c1:l1,s.length,u,a,Y);!u&&Jn&&(s[Jt].providerFactory=li),dx(p,t,i.length,0),i.push(I),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(li),y.push(li)}else dx(p,t,wt>-1?wt:Jt,xM(s[u?Jt:wt],Y,!u&&a));!u&&a&&Jn&&s[Jt].componentProviders++}}}function dx(t,i,s,a){const u=cl(i),p=function pu(t){return!!t.useClass}(i);if(u||p){const I=(p?Rt(i.useClass):i).prototype.ngOnDestroy;if(I){const Y=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const se=Y.indexOf(s);-1===se?Y.push(s,[a,I]):Y[se+1].push(a,I)}else Y.push(s,I)}}}function xM(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function fx(t,i,s,a){for(let u=s;u<a;u++)if(i[u]===t)return u;return-1}function l1(t,i,s,a){return hx(this.multi,[])}function c1(t,i,s,a){const u=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Su(s,s[ei],this.providerFactory.index,a);p=E.slice(0,y),hx(u,p);for(let I=y;I<E.length;I++)p.push(E[I])}else p=[],hx(u,p);return p}function hx(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function EM(t,i=[]){return s=>{s.providersResolver=(a,u)=>function a1(t,i,s){const a=fs();if(a.firstCreatePass){const u=un(t);ux(s,a.data,a.blueprint,u,!0),ux(i,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,i)}}let d1=(()=>{var t;class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=fl(0,a.type),p=u.length>0?Sg([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,p)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=i).\u0275prov=br({token:t,providedIn:"environment",factory:()=>new t(te(Za))}),i})();function SM(t){vc("NgStandalone"),t.getStandaloneInjector=i=>i.get(d1).getOrCreateStandaloneInjector(t)}class WM{constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}let XM=(()=>{var t;class i{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})();const ZM=new de(""),QM=new de("");let bx,SD=(()=>{var t;class i{constructor(a,u,p){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,bx||(function MD(t){bx=t}(p),p.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,p){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),a()},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:p})}whenStable(a,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,p){return[]}}return(t=i).\u0275fac=function(a){return new(a||t)(te(Ca),te(JM),te(QM))},t.\u0275prov=br({token:t,factory:t.\u0275fac}),i})(),JM=(()=>{var t;class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var p,y;return null!==(p=null===(y=bx)||void 0===y?void 0:y.findTestabilityInTree(this,a,u))&&void 0!==p?p:null}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})();function wx(t){return!!t&&"function"==typeof t.then}function eC(t){return!!t&&"function"==typeof t.subscribe}const tC=new de("");let xx=(()=>{var t;class i{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p}),this.appInits=null!==(a=He(tC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const p of this.appInits){const y=p();if(wx(y))a.push(y);else if(eC(y)){const E=new Promise((I,Y)=>{y.subscribe({complete:I,error:Y})});a.push(E)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(p=>{this.reject(p)}),0===a.length&&u(),this.initialized=!0}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();const Ex=new de("");function rC(t,i){return Array.isArray(i)?i.reduce(rC,t):{...t,...i}}let Hd=(()=>{var t;class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=He(bv),this.afterRenderEffectManager=He(au),this.externalTestViews=new Set,this.beforeRender=new fr.B,this.afterTick=new fr.B,this.componentTypes=[],this.components=[],this.isStable=He(kd).hasPendingTasks.pipe((0,cs.T)(a=>!a)),this._injector=He(Za)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const p=a instanceof rc;if(!this._injector.get(xx).done)throw!p&&ta(a),new Ft(405,!1);let E;E=p?a:this._injector.get(ig).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const I=function CD(t){return t.isBoundToModule}(E)?void 0:this._injector.get(Ju),se=E.create(Nl.NULL,[],u||E.selector,I),be=se.location.nativeElement,Qe=se.injector.get(ZM,null);return null==Qe||Qe.registerApplication(be),se.onDestroy(()=>{this.detachView(se.hostView),Vy(this.components,se),null==Qe||Qe.unregisterApplication(be)}),this._loadComponent(se),se}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Ft(101,!1);const u=je(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(p){this.internalErrorHandler(p)}finally{this.afterTick.next(),this._runningTick=!1,je(u)}}detectChangesInAttachedViews(a){let u=0;const p=this.afterRenderEffectManager;for(;;){if(u===Gm)throw new Ft(103,!1);if(a){const y=0===u;this.beforeRender.next(y);for(let{_lView:E,notifyErrorHandler:I}of this._views)TD(E,y,I)}if(u++,p.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:y})=>Sx(y))&&(p.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:y})=>Sx(y))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Vy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Ex,[]);[...this._bootstrapListeners,...u].forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Vy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ft(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function Vy(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}function TD(t,i,s){!i&&!Sx(t)||function DD(t,i,s){let a;s?(a=0,t[er]|=1024):a=64&t[er]?0:1,ju(t,i,a)}(t,s,i)}function Sx(t){return od(t)}class ID{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let RD=(()=>{var t;class i{compileModuleSync(a){return new Zf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=_l(wo(a).declarations).reduce((E,I)=>{const Y=Ui(I);return Y&&E.push(new oc(Y)),E},[]);return new ID(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),ND=(()=>{var t;class i{constructor(){this.zone=He(Ca),this.applicationRef=He(Hd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function LD(){const t=He(Ca),i=He(Tc);return s=>t.runOutsideAngular(()=>i.handleError(s))}let kD=(()=>{var t;class i{constructor(){this.subscription=new Vr.yU,this.initialized=!1,this.zone=He(Ca),this.pendingTasks=He(kd)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ca.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var u;Ca.assertInAngularZone(),null!==(u=a)&&void 0!==u||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();const zy=new de("",{providedIn:"root",factory:()=>He(zy,pr.Optional|pr.SkipSelf)||function UD(){return typeof $localize<"u"&&$localize.locale||Ip}()}),BD=new de("",{providedIn:"root",factory:()=>"USD"}),Mx=new de("");let lC=(()=>{var t;class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const p=function Yu(t="zone.js",i){return"noop"===t?new X0:"zone.js"===t?new Ca(i):t}(null==u?void 0:u.ngZone,function aC(t){var i,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==t?void 0:t.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return p.run(()=>{const y=function Eg(t,i,s){return new Cp(t,i,s)}(a.moduleType,this.injector,function oC(t){return[{provide:Ca,useFactory:t},{provide:Se,multi:!0,useFactory:()=>{const i=He(ND,{optional:!0});return()=>i.initialize()}},{provide:Se,multi:!0,useFactory:()=>{const i=He(kD);return()=>{i.initialize()}}},{provide:bv,useFactory:LD}]}(()=>p)),E=y.injector.get(Tc,null);return p.runOutsideAngular(()=>{const I=p.onError.subscribe({next:Y=>{E.handleError(Y)}});y.onDestroy(()=>{Vy(this._modules,y),I.unsubscribe()})}),function iC(t,i,s){try{const a=s();return wx(a)?a.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(E,p,()=>{const I=y.injector.get(xx);return I.runInitializers(),I.donePromise.then(()=>(function uS(t){"string"==typeof t&&(cS=t.toLowerCase().replace(/_/g,"-"))}(y.injector.get(zy,Ip)||Ip),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,u=[]){const p=rC({},u);return function OD(t,i,s){const a=new Zf(s);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(a){const u=a.injector.get(Hd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new Ft(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ft(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Mx,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=i).\u0275fac=function(a){return new(a||t)(te(Nl))},t.\u0275prov=br({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})(),$d=null;const cC=new de("");function uC(t,i,s=[]){const a=`Platform: ${i}`,u=new de(a);return(p=[])=>{let y=Cx();if(!y||y.injector.get(cC,!1)){const E=[...s,...p,{provide:u,useValue:!0}];t?t(E):function zD(t){if($d&&!$d.get(cC,!1))throw new Ft(400,!1);(function nC(){!function Ke(t){Ei=t}(()=>{throw new Ft(600,!1)})})(),$d=t;const i=t.get(lC);(function fC(t){const i=t.get(Lv,null);null==i||i.forEach(s=>s())})(t)}(function dC(t=[],i){return Nl.create({name:i,providers:[{provide:eo,useValue:"platform"},{provide:Mx,useValue:new Set([()=>$d=null])},...t]})}(E,a))}return function HD(t){const i=Cx();if(!i)throw new Ft(401,!1);return i}()}}function Cx(){var t,i;return null!==(t=null===(i=$d)||void 0===i?void 0:i.get(lC))&&void 0!==t?t:null}function GD(){}let pC=(()=>{class i{}return i.__NG_ELEMENT_ID__=jD,i})();function jD(t){return function WD(t,i,s){if(qt(t)&&!s){const a=Al(t.index,i);return new Td(a,a)}return 47&t.type?new Td(i[ho],i):null}(No(),Hn(),!(16&~t))}class yC{constructor(){}supports(i){return Ud(i)}create(i){return new ZD(i)}}const YD=(t,i)=>i;class ZD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||YD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,p=null;for(;s||a;){const y=!a||s&&s.currentIndex<bC(a,u,p)?s:a,E=bC(y,u,p),I=y.currentIndex;if(y===a)u--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)u++;else{p||(p=[]);const Y=E-u,se=I-u;if(Y!=se){for(let Qe=0;Qe<Y;Qe++){const wt=Qe<p.length?p[Qe]:p[Qe]=0,Jt=wt+Qe;se<=Jt&&Jt<Y&&(p[Qe]=wt+1)}p[y.previousIndex]=se-Y}}E!==I&&i(y,E,I)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Ud(i))throw new Ft(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,p,y,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)p=i[E],y=this._trackByFn(E,p),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,p,y,E)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,y,E),a=!0),s=s._next}else u=0,function $w(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,E=>{y=this._trackByFn(u,E),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,E,y,u)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,y,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,p,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,p,u)):i=this._addAfter(new QD(s,a),p,u),i}_verifyReinsertion(i,s,a,u){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?i=this._reinsertAfter(p,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,p=i._nextRemoved;return null===u?this._removalsHead=p:u._nextRemoved=p,null===p?this._removalsTail=u:p._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new _C),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _C),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class QD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class _C{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new JD,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(t,i,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class wC{constructor(){}supports(i){return i instanceof Map||Cg(i)}create(){return new eI}}class eI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Cg(i)))throw new Ft(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const p=u._prev,y=u._next;return p&&(p._next=y),y&&(y._prev=p),u._next=null,u._prev=null,u}const a=new tI(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class tI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xC(){return new Rx([new yC])}let Rx=(()=>{var t;class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const p=u.factories.slice();a=a.concat(p)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||xC()),deps:[[i,new ur,new di]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(null!=u)return u;throw new Ft(901,!1)}}return(t=i).\u0275prov=br({token:t,providedIn:"root",factory:xC}),i})();function EC(){return new Px([new wC])}let Px=(()=>{var t;class i{constructor(a){this.factories=a}static create(a,u){if(u){const p=u.factories.slice();a=a.concat(p)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||EC()),deps:[[i,new ur,new di]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(u)return u;throw new Ft(901,!1)}}return(t=i).\u0275prov=br({token:t,providedIn:"root",factory:EC}),i})();const rI=uC(null,"core",[]);let sI=(()=>{var t;class i{constructor(a){}}return(t=i).\u0275fac=function(a){return new(a||t)(te(Hd))},t.\u0275mod=Ni({type:t}),t.\u0275inj=vo({}),i})();function NI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function FI(t){const i=je(null);try{return t()}finally{je(i)}}function HI(t,i){const s=Ui(t),a=i.elementInjector||pa();return new oc(s).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}function $I(t){const i=Ui(t);if(!i)return null;const s=new oc(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},4341:(Zi,xn,pe)=>{"use strict";pe.d(xn,{YN:()=>Ht,zX:()=>Oo,VZ:()=>Ka,cz:()=>Vt,kq:()=>It,vO:()=>cn});var b=pe(4438),ke=(pe(177),pe(6648)),Et=pe(1985),k=pe(3073),Xt=pe(8750),je=pe(3794),$t=pe(4360),Zt=pe(6450),Yt=pe(8496),At=pe(6354);const It=new b.nKC("");function st(X){return null==X||("string"==typeof X||Array.isArray(X))&&0===X.length}const Vt=new b.nKC("");function ve(X){return null}function me(X){return null!=X}function Ie(X){return(0,b.jNT)(X)?(0,ke.H)(X):X}function at(X){let z={};return X.forEach(ne=>{z=null!=ne?{...z,...ne}:z}),0===Object.keys(z).length?null:z}function Pt(X,z){return z.map(ne=>ne(X))}function yt(X){return X.map(z=>function Wt(X){return!X.validate}(z)?z:ne=>z.validate(ne))}function dr(X){return null!=X?function Xn(X){if(!X)return null;const z=X.filter(me);return 0==z.length?null:function(ne){return at(Pt(ne,z))}}(yt(X)):null}function or(X){return null!=X?function bi(X){if(!X)return null;const z=X.filter(me);return 0==z.length?null:function(ne){return function rt(...X){const z=(0,je.ms)(X),{args:ne,keys:G}=(0,k.D)(X),ce=new Et.c(Dt=>{const{length:Ct}=ne;if(!Ct)return void Dt.complete();const St=new Array(Ct);let yn=Ct,ai=Ct;for(let Xi=0;Xi<Ct;Xi++){let Cn=!1;(0,Xt.Tg)(ne[Xi]).subscribe((0,$t._)(Dt,Fn=>{Cn||(Cn=!0,ai--),St[Xi]=Fn},()=>yn--,void 0,()=>{(!yn||!Cn)&&(ai||Dt.next(G?(0,Yt.e)(G,St):St),Dt.complete())}))}});return z?ce.pipe((0,Zt.I)(z)):ce}(Pt(ne,z).map(Ie)).pipe((0,At.T)(at))}}(yt(X)):null}class Ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=dr(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,ne){return!!this.control&&this.control.hasError(z,ne)}getError(z,ne){return this.control?this.control.getError(z,ne):null}}class cn extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const So=new b.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ho}),Ho="always";function ts(X){return"number"==typeof X?X:parseFloat(X)}Promise.resolve(),Promise.resolve();let Rr=(()=>{var X;class z{constructor(){this._validator=ve}ngOnChanges(G){if(this.inputName in G){const ce=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(ce),this._validator=this._enabled?this.createValidator(ce):ve,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return(X=z).\u0275fac=function(G){return new(G||X)},X.\u0275dir=b.FsC({type:X,features:[b.OA$]}),z})();const Ao={provide:Vt,useExisting:(0,b.Rfq)(()=>Oo),multi:!0};let Oo=(()=>{var X;class z extends Rr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=G=>ts(G),this.createValidator=G=>function Tn(X){return z=>{if(st(z.value)||st(X))return null;const ne=parseFloat(z.value);return!isNaN(ne)&&ne>X?{max:{max:X,actual:z.value}}:null}}(G)}}return(X=z).\u0275fac=(()=>{let ne;return function(ce){return(ne||(ne=b.xGo(X)))(ce||X)}})(),X.\u0275dir=b.FsC({type:X,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,ce){2&G&&b.BMQ("max",ce._enabled?ce.max:null)},inputs:{max:"max"},features:[b.Jv_([Ao]),b.Vt3]}),z})();const xa={provide:Vt,useExisting:(0,b.Rfq)(()=>Ka),multi:!0};let Ka=(()=>{var X;class z extends Rr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=G=>ts(G),this.createValidator=G=>function pn(X){return z=>{if(st(z.value)||st(X))return null;const ne=parseFloat(z.value);return!isNaN(ne)&&ne<X?{min:{min:X,actual:z.value}}:null}}(G)}}return(X=z).\u0275fac=(()=>{let ne;return function(ce){return(ne||(ne=b.xGo(X)))(ce||X)}})(),X.\u0275dir=b.FsC({type:X,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,ce){2&G&&b.BMQ("min",ce._enabled?ce.min:null)},inputs:{min:"min"},features:[b.Jv_([xa]),b.Vt3]}),z})(),he=(()=>{var X;class z{}return(X=z).\u0275fac=function(G){return new(G||X)},X.\u0275mod=b.$C({type:X}),X.\u0275inj=b.G2t({}),z})(),Ht=(()=>{var X;class z{static withConfig(G){var ce;return{ngModule:z,providers:[{provide:So,useValue:null!==(ce=G.callSetDisabledState)&&void 0!==ce?ce:Ho}]}}}return(X=z).\u0275fac=function(G){return new(G||X)},X.\u0275mod=b.$C({type:X}),X.\u0275inj=b.G2t({imports:[he]}),z})()},345:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Bb:()=>_r,hE:()=>ri,sG:()=>or});var b=pe(4438),m=pe(177);class ke extends m.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Et extends ke{static makeCurrent(){(0,m.ZD)(new Et)}onAndCancel(vt,sn,mt){return vt.addEventListener(sn,mt),()=>{vt.removeEventListener(sn,mt)}}dispatchEvent(vt,sn){vt.dispatchEvent(sn)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,sn){return(sn=sn||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,sn){return"window"===sn?window:"document"===sn?vt:"body"===sn?vt.body:null}getBaseHref(vt){const sn=function Xt(){return k=k||document.querySelector("base"),k?k.getAttribute("href"):null}();return null==sn?null:function je(Rt){return new URL(Rt,document.baseURI).pathname}(sn)}resetBaseElement(){k=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,m._b)(document.cookie,vt)}}let k=null,Zt=(()=>{var Rt;class vt{build(){return new XMLHttpRequest}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const Yt=new b.nKC("");let rt=(()=>{var Rt;class vt{constructor(mt,on){this._zone=on,this._eventNameToPlugin=new Map,mt.forEach(Gn=>{Gn.manager=this}),this._plugins=mt.slice().reverse()}addEventListener(mt,on,Gn){return this._findPluginFor(on).addEventListener(mt,on,Gn)}getZone(){return this._zone}_findPluginFor(mt){let on=this._eventNameToPlugin.get(mt);if(on)return on;if(on=this._plugins.find(si=>si.supports(mt)),!on)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(mt,on),on}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(Yt),b.KVO(b.SKi))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class At{constructor(vt){this._doc=vt}}const xt="ng-app-id";let pt=(()=>{var Rt;class vt{constructor(mt,on,Gn,si={}){this.doc=mt,this.appId=on,this.nonce=Gn,this.platformId=si,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,m.Vy)(si),this.resetHostNodes()}addStyles(mt){for(const on of mt)1===this.changeUsageCount(on,1)&&this.onStyleAdded(on)}removeStyles(mt){for(const on of mt)this.changeUsageCount(on,-1)<=0&&this.onStyleRemoved(on)}ngOnDestroy(){const mt=this.styleNodesInDOM;mt&&(mt.forEach(on=>on.remove()),mt.clear());for(const on of this.getAllStyles())this.onStyleRemoved(on);this.resetHostNodes()}addHost(mt){this.hostNodes.add(mt);for(const on of this.getAllStyles())this.addStyleToHost(mt,on)}removeHost(mt){this.hostNodes.delete(mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(mt){for(const on of this.hostNodes)this.addStyleToHost(on,mt)}onStyleRemoved(mt){var on;const Gn=this.styleRef;null===(on=Gn.get(mt))||void 0===on||null===(on=on.elements)||void 0===on||on.forEach(si=>si.remove()),Gn.delete(mt)}collectServerRenderedStyles(){var mt;const on=null===(mt=this.doc.head)||void 0===mt?void 0:mt.querySelectorAll(`style[${xt}="${this.appId}"]`);if(null!=on&&on.length){const Gn=new Map;return on.forEach(si=>{null!=si.textContent&&Gn.set(si.textContent,si)}),Gn}return null}changeUsageCount(mt,on){const Gn=this.styleRef;if(Gn.has(mt)){const si=Gn.get(mt);return si.usage+=on,si.usage}return Gn.set(mt,{usage:on,elements:[]}),on}getStyleElement(mt,on){const Gn=this.styleNodesInDOM,si=null==Gn?void 0:Gn.get(on);if((null==si?void 0:si.parentNode)===mt)return Gn.delete(on),si.removeAttribute(xt),si;{const Er=this.doc.createElement("style");return this.nonce&&Er.setAttribute("nonce",this.nonce),Er.textContent=on,this.platformIsServer&&Er.setAttribute(xt,this.appId),mt.appendChild(Er),Er}}addStyleToHost(mt,on){var Gn;const si=this.getStyleElement(mt,on),Er=this.styleRef,Mr=null===(Gn=Er.get(on))||void 0===Gn?void 0:Gn.elements;Mr?Mr.push(si):Er.set(on,{elements:[si],usage:1})}resetHostNodes(){const mt=this.hostNodes;mt.clear(),mt.add(this.doc.head)}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(m.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rn=/%COMP%/g,jt=new b.nKC("",{providedIn:"root",factory:()=>!0});function Vt(Rt,vt){return vt.map(sn=>sn.replace(rn,Rt))}let Qt=(()=>{var Rt;class vt{constructor(mt,on,Gn,si,Er,Mr,os,Qs=null){this.eventManager=mt,this.sharedStylesHost=on,this.appId=Gn,this.removeStylesOnCompDestroy=si,this.doc=Er,this.platformId=Mr,this.ngZone=os,this.nonce=Qs,this.rendererByCompId=new Map,this.platformIsServer=(0,m.Vy)(Mr),this.defaultRenderer=new en(mt,Er,os,this.platformIsServer)}createRenderer(mt,on){if(!mt||!on)return this.defaultRenderer;this.platformIsServer&&on.encapsulation===b.gXe.ShadowDom&&(on={...on,encapsulation:b.gXe.Emulated});const Gn=this.getOrCreateRenderer(mt,on);return Gn instanceof An?Gn.applyToHost(mt):Gn instanceof Ci&&Gn.applyStyles(),Gn}getOrCreateRenderer(mt,on){const Gn=this.rendererByCompId;let si=Gn.get(on.id);if(!si){const Er=this.doc,Mr=this.ngZone,os=this.eventManager,Qs=this.sharedStylesHost,Vs=this.removeStylesOnCompDestroy,ro=this.platformIsServer;switch(on.encapsulation){case b.gXe.Emulated:si=new An(os,Qs,on,this.appId,Vs,Er,Mr,ro);break;case b.gXe.ShadowDom:return new pi(os,Qs,mt,on,Er,Mr,this.nonce,ro);default:si=new Ci(os,Qs,on,Vs,Er,Mr,ro)}Gn.set(on.id,si)}return si}ngOnDestroy(){this.rendererByCompId.clear()}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(rt),b.KVO(pt),b.KVO(b.sZ2),b.KVO(jt),b.KVO(m.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();class en{constructor(vt,sn,mt,on){this.eventManager=vt,this.doc=sn,this.ngZone=mt,this.platformIsServer=on,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(vt,sn){return sn?this.doc.createElementNS(It[sn]||sn,vt):this.doc.createElement(vt)}createComment(vt){return this.doc.createComment(vt)}createText(vt){return this.doc.createTextNode(vt)}appendChild(vt,sn){(Tn(vt)?vt.content:vt).appendChild(sn)}insertBefore(vt,sn,mt){vt&&(Tn(vt)?vt.content:vt).insertBefore(sn,mt)}removeChild(vt,sn){vt&&vt.removeChild(sn)}selectRootElement(vt,sn){let mt="string"==typeof vt?this.doc.querySelector(vt):vt;if(!mt)throw new b.wOt(-5104,!1);return sn||(mt.textContent=""),mt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,sn,mt,on){if(on){sn=on+":"+sn;const Gn=It[on];Gn?vt.setAttributeNS(Gn,sn,mt):vt.setAttribute(sn,mt)}else vt.setAttribute(sn,mt)}removeAttribute(vt,sn,mt){if(mt){const on=It[mt];on?vt.removeAttributeNS(on,sn):vt.removeAttribute(`${mt}:${sn}`)}else vt.removeAttribute(sn)}addClass(vt,sn){vt.classList.add(sn)}removeClass(vt,sn){vt.classList.remove(sn)}setStyle(vt,sn,mt,on){on&(b.czy.DashCase|b.czy.Important)?vt.style.setProperty(sn,mt,on&b.czy.Important?"important":""):vt.style[sn]=mt}removeStyle(vt,sn,mt){mt&b.czy.DashCase?vt.style.removeProperty(sn):vt.style[sn]=""}setProperty(vt,sn,mt){null!=vt&&(vt[sn]=mt)}setValue(vt,sn){vt.nodeValue=sn}listen(vt,sn,mt){if("string"==typeof vt&&!(vt=(0,m.QT)().getGlobalEventTarget(this.doc,vt)))throw new Error(`Unsupported event target ${vt} for event ${sn}`);return this.eventManager.addEventListener(vt,sn,this.decoratePreventDefault(mt))}decoratePreventDefault(vt){return sn=>{if("__ngUnwrap__"===sn)return vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>vt(sn)):vt(sn))&&sn.preventDefault()}}}function Tn(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class pi extends en{constructor(vt,sn,mt,on,Gn,si,Er,Mr){super(vt,Gn,si,Mr),this.sharedStylesHost=sn,this.hostEl=mt,this.shadowRoot=mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const os=Vt(on.id,on.styles);for(const Qs of os){const Vs=document.createElement("style");Er&&Vs.setAttribute("nonce",Er),Vs.textContent=Qs,this.shadowRoot.appendChild(Vs)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}appendChild(vt,sn){return super.appendChild(this.nodeOrShadowRoot(vt),sn)}insertBefore(vt,sn,mt){return super.insertBefore(this.nodeOrShadowRoot(vt),sn,mt)}removeChild(vt,sn){return super.removeChild(this.nodeOrShadowRoot(vt),sn)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ci extends en{constructor(vt,sn,mt,on,Gn,si,Er,Mr){super(vt,Gn,si,Er),this.sharedStylesHost=sn,this.removeStylesOnCompDestroy=on,this.styles=Mr?Vt(Mr,mt.styles):mt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class An extends Ci{constructor(vt,sn,mt,on,Gn,si,Er,Mr){const os=on+"-"+mt.id;super(vt,sn,mt,Gn,si,Er,Mr,os),this.contentAttr=function st(Rt){return"_ngcontent-%COMP%".replace(rn,Rt)}(os),this.hostAttr=function Bt(Rt){return"_nghost-%COMP%".replace(rn,Rt)}(os)}applyToHost(vt){this.applyStyles(),this.setAttribute(vt,this.hostAttr,"")}createElement(vt,sn){const mt=super.createElement(vt,sn);return super.setAttribute(mt,this.contentAttr,""),mt}}let Ei=(()=>{var Rt;class vt extends At{constructor(mt){super(mt)}supports(mt){return!0}addEventListener(mt,on,Gn){return mt.addEventListener(on,Gn,!1),()=>this.removeEventListener(mt,on,Gn)}removeEventListener(mt,on,Gn){return mt.removeEventListener(on,Gn)}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(m.qQ))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const hn=["alt","control","meta","shift"],Ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ve={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let me=(()=>{var Rt;class vt extends At{constructor(mt){super(mt)}supports(mt){return null!=vt.parseEventName(mt)}addEventListener(mt,on,Gn){const si=vt.parseEventName(on),Er=vt.eventCallback(si.fullKey,Gn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.QT)().onAndCancel(mt,si.domEventName,Er))}static parseEventName(mt){const on=mt.toLowerCase().split("."),Gn=on.shift();if(0===on.length||"keydown"!==Gn&&"keyup"!==Gn)return null;const si=vt._normalizeKey(on.pop());let Er="",Mr=on.indexOf("code");if(Mr>-1&&(on.splice(Mr,1),Er="code."),hn.forEach(Qs=>{const Vs=on.indexOf(Qs);Vs>-1&&(on.splice(Vs,1),Er+=Qs+".")}),Er+=si,0!=on.length||0===si.length)return null;const os={};return os.domEventName=Gn,os.fullKey=Er,os}static matchEventFullKeyCode(mt,on){let Gn=Ke[mt.key]||mt.key,si="";return on.indexOf("code.")>-1&&(Gn=mt.code,si="code."),!(null==Gn||!Gn)&&(Gn=Gn.toLowerCase()," "===Gn?Gn="space":"."===Gn&&(Gn="dot"),hn.forEach(Er=>{Er!==Gn&&(0,ve[Er])(mt)&&(si+=Er+".")}),si+=Gn,si===on)}static eventCallback(mt,on,Gn){return si=>{vt.matchEventFullKeyCode(si,mt)&&Gn.runGuarded(()=>on(si))}}static _normalizeKey(mt){return"esc"===mt?"escape":mt}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(m.qQ))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac}),vt})();const or=(0,b.oH4)(b.fpN,"browser",[{provide:b.Agw,useValue:m.AJ},{provide:b.PLl,useValue:function yt(){Et.makeCurrent()},multi:!0},{provide:m.qQ,useFactory:function dr(){return(0,b.TL$)(document),document},deps:[]}]),rr=new b.nKC(""),fr=[{provide:b.e01,useClass:class $t{addToWindow(vt){b.JZv.getAngularTestability=(mt,on=!0)=>{const Gn=vt.findTestabilityInTree(mt,on);if(null==Gn)throw new b.wOt(5103,!1);return Gn},b.JZv.getAllAngularTestabilities=()=>vt.getAllTestabilities(),b.JZv.getAllAngularRootElements=()=>vt.getAllRootElements(),b.JZv.frameworkStabilizers||(b.JZv.frameworkStabilizers=[]),b.JZv.frameworkStabilizers.push(mt=>{const on=b.JZv.getAllAngularTestabilities();let Gn=on.length;const si=function(){Gn--,0==Gn&&mt()};on.forEach(Er=>{Er.whenStable(si)})})}findTestabilityInTree(vt,sn,mt){if(null==sn)return null;const on=vt.getTestability(sn);return null!=on?on:mt?(0,m.QT)().isShadowRoot(sn)?this.findTestabilityInTree(vt,sn.host,!0):this.findTestabilityInTree(vt,sn.parentElement,!0):null}},deps:[]},{provide:b.WHO,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]},{provide:b.NYb,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]}],Vr=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function Xn(){return new b.zcH},deps:[]},{provide:Yt,useClass:Ei,multi:!0,deps:[m.qQ,b.SKi,b.Agw]},{provide:Yt,useClass:me,multi:!0,deps:[m.qQ]},Qt,pt,rt,{provide:b._9s,useExisting:Qt},{provide:m.N0,useClass:Zt,deps:[]},[]];let _r=(()=>{var Rt;class vt{constructor(mt){}static withServerTransition(mt){return{ngModule:vt,providers:[{provide:b.sZ2,useValue:mt.appId}]}}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(rr,12))},Rt.\u0275mod=b.$C({type:Rt}),Rt.\u0275inj=b.G2t({providers:[...Vr,...fr],imports:[m.MD,b.Hbi]}),vt})(),ri=(()=>{var Rt;class vt{constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}}return(Rt=vt).\u0275fac=function(mt){return new(mt||Rt)(b.KVO(m.qQ))},Rt.\u0275prov=b.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),vt})()},70:(Zi,xn,pe)=>{"use strict";pe.d(xn,{nX:()=>nt,Zp:()=>Pe,Z:()=>zs,Xk:()=>ri,Kp:()=>ja,b:()=>Co,Ix:()=>Ss,Wk:()=>hl,iI:()=>Ai,Sd:()=>Rt});var b=pe(467),m=pe(4438),ke=pe(1985),Et=pe(8071),Xt=pe(6648),je=pe(7673),$t=pe(4412),Zt=pe(4572);const rt=(0,pe(1853).L)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var At=pe(1397),xt=pe(3669);function pt(x=1/0){return(0,At.Z)(xt.D,x)}var rn=pe(3794);function Ut(...x){return function It(){return pt(1)}()((0,Xt.H)(x,(0,rn.lI)(x)))}var Gt=pe(8750);function fn(x){return new ke.c(O=>{(0,Gt.Tg)(x()).subscribe(O)})}var Tt=pe(1203);function jt(x,O){const $=(0,Et.T)(x)?x:()=>x,T=W=>W.error($());return new ke.c(O?W=>O.schedule(T,0,W):T)}const st=new ke.c(x=>x.complete());var Qt=pe(8359),en=pe(9974),gt=pe(4360);function pn(){return(0,en.N)((x,O)=>{let $=null;x._refCount++;const T=(0,gt._)(O,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void($=null);const W=x._connection,_e=$;$=null,W&&(!_e||W===_e)&&W.unsubscribe(),O.unsubscribe()});x.subscribe(T),T.closed||($=x.connect())})}class Tn extends ke.c{constructor(O,$){super(),this.source=O,this.subjectFactory=$,this._subject=null,this._refCount=0,this._connection=null,(0,en.S)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,null==O||O.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new Qt.yU;const $=this.getSubject();O.add(this.source.subscribe((0,gt._)($,void 0,()=>{this._teardown(),$.complete()},T=>{this._teardown(),$.error(T)},()=>this._teardown()))),O.closed&&(this._connection=null,O=Qt.yU.EMPTY)}return O}refCount(){return pn()(this)}}var pi=pe(1413),Ci=pe(177),An=pe(6354),Ei=pe(5558);function hn(x){return x<=0?()=>st:(0,en.N)((O,$)=>{let T=0;O.subscribe((0,gt._)($,W=>{++T<=x&&($.next(W),x<=T&&$.complete())}))})}var ve=pe(5964);function me(x){return(0,en.N)((O,$)=>{let T=!1;O.subscribe((0,gt._)($,W=>{T=!0,$.next(W)},()=>{T||$.next(x),$.complete()}))})}function Ie(x=at){return(0,en.N)((O,$)=>{let T=!1;O.subscribe((0,gt._)($,W=>{T=!0,$.next(W)},()=>T?$.complete():$.error(x())))})}function at(){return new rt}function Pt(x,O){const $=arguments.length>=2;return T=>T.pipe(x?(0,ve.p)((W,_e)=>x(W,_e,T)):xt.D,hn(1),$?me(O):Ie(()=>new rt))}function Wt(x,O){return(0,Et.T)(O)?(0,At.Z)(x,O,1):(0,At.Z)(x,1)}function yt(x,O,$){const T=(0,Et.T)(x)||O||$?{next:x,error:O,complete:$}:x;return T?(0,en.N)((W,_e)=>{var Oe;null===(Oe=T.subscribe)||void 0===Oe||Oe.call(T);let kt=!0;W.subscribe((0,gt._)(_e,Un=>{var zt;null===(zt=T.next)||void 0===zt||zt.call(T,Un),_e.next(Un)},()=>{var Un;kt=!1,null===(Un=T.complete)||void 0===Un||Un.call(T),_e.complete()},Un=>{var zt;kt=!1,null===(zt=T.error)||void 0===zt||zt.call(T,Un),_e.error(Un)},()=>{var Un,zt;kt&&(null===(Un=T.unsubscribe)||void 0===Un||Un.call(T)),null===(zt=T.finalize)||void 0===zt||zt.call(T)}))}):xt.D}function Xn(x){return(0,en.N)((O,$)=>{let _e,T=null,W=!1;T=O.subscribe((0,gt._)($,void 0,void 0,Oe=>{_e=(0,Gt.Tg)(x(Oe,Xn(x)(O))),T?(T.unsubscribe(),T=null,_e.subscribe($)):W=!0})),W&&(T.unsubscribe(),T=null,_e.subscribe($))})}function or(x){return x<=0?()=>st:(0,en.N)((O,$)=>{let T=[];O.subscribe((0,gt._)($,W=>{T.push(W),x<T.length&&T.shift()},()=>{for(const W of T)$.next(W);$.complete()},void 0,()=>{T=null}))})}function Vr(x){return(0,en.N)((O,$)=>{try{O.subscribe($)}finally{$.add(x)}})}var _r=pe(5343),Fr=pe(345);const ri="primary",Ft=Symbol("RouteTitle");class nn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const $=this.params[O];return Array.isArray($)?$[0]:$}return null}getAll(O){if(this.has(O)){const $=this.params[O];return Array.isArray($)?$:[$]}return[]}get keys(){return Object.keys(this.params)}}function cn(x){return new nn(x)}function gi(x,O,$){const T=$.path.split("/");if(T.length>x.length||"full"===$.pathMatch&&(O.hasChildren()||T.length<x.length))return null;const W={};for(let _e=0;_e<T.length;_e++){const Oe=T[_e],kt=x[_e];if(Oe.startsWith(":"))W[Oe.substring(1)]=kt;else if(Oe!==kt.path)return null}return{consumed:x.slice(0,T.length),posParams:W}}function zr(x,O){const $=x?kr(x):void 0,T=O?kr(O):void 0;if(!$||!T||$.length!=T.length)return!1;let W;for(let _e=0;_e<$.length;_e++)if(W=$[_e],!Di(x[W],O[W]))return!1;return!0}function kr(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function Di(x,O){if(Array.isArray(x)&&Array.isArray(O)){if(x.length!==O.length)return!1;const $=[...x].sort(),T=[...O].sort();return $.every((W,_e)=>T[_e]===W)}return x===O}function wi(x){return x.length>0?x[x.length-1]:null}function Ur(x){return function k(x){return!!x&&(x instanceof ke.c||(0,Et.T)(x.lift)&&(0,Et.T)(x.subscribe))}(x)?x:(0,m.jNT)(x)?(0,Xt.H)(Promise.resolve(x)):(0,je.of)(x)}const Hr={exact:function io(x,O,$){if(!ss(x.segments,O.segments)||!xr(x.segments,O.segments,$)||x.numberOfChildren!==O.numberOfChildren)return!1;for(const T in O.children)if(!x.children[T]||!io(x.children[T],O.children[T],$))return!1;return!0},subset:_o},wr={exact:function Es(x,O){return zr(x,O)},subset:function $i(x,O){return Object.keys(O).length<=Object.keys(x).length&&Object.keys(O).every($=>Di(x[$],O[$]))},ignored:()=>!0};function Jr(x,O,$){return Hr[$.paths](x.root,O.root,$.matrixParams)&&wr[$.queryParams](x.queryParams,O.queryParams)&&!("exact"===$.fragment&&x.fragment!==O.fragment)}function _o(x,O,$){return Ir(x,O,O.segments,$)}function Ir(x,O,$,T){if(x.segments.length>$.length){const W=x.segments.slice(0,$.length);return!(!ss(W,$)||O.hasChildren()||!xr(W,$,T))}if(x.segments.length===$.length){if(!ss(x.segments,$)||!xr(x.segments,$,T))return!1;for(const W in O.children)if(!x.children[W]||!_o(x.children[W],O.children[W],T))return!1;return!0}{const W=$.slice(0,x.segments.length),_e=$.slice(x.segments.length);return!!(ss(x.segments,W)&&xr(x.segments,W,T)&&x.children[ri])&&Ir(x.children[ri],O,_e,T)}}function xr(x,O,$){return O.every((T,W)=>wr[$](x[W].parameters,T.parameters))}class ds{constructor(O=new Wi([],{}),$={},T=null){this.root=O,this.queryParams=$,this.fragment=T}get queryParamMap(){var O;return null!==(O=this._queryParamMap)&&void 0!==O||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class Wi{constructor(O,$){this.segments=O,this.children=$,this.parent=null,Object.values($).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mt(this)}}class Xr{constructor(O,$){this.path=O,this.parameters=$}get parameterMap(){var O;return null!==(O=this._parameterMap)&&void 0!==O||(this._parameterMap=cn(this.parameters)),this._parameterMap}toString(){return Vs(this)}}function ss(x,O){return x.length===O.length&&x.every(($,T)=>$.path===O[T].path)}let Rt=(()=>{var x;class O{}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:()=>new vt,providedIn:"root"}),O})();class vt{parse(O){const $=new br(O);return new ds($.parseRootSegment(),$.parseQueryParams(),$.parseFragment())}serialize(O){const $=`/${on(O.root,!0)}`,T=function aa(x){const O=Object.entries(x).map(([$,T])=>Array.isArray(T)?T.map(W=>`${si($)}=${si(W)}`).join("&"):`${si($)}=${si(T)}`).filter($=>$);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${$}${T}${"string"==typeof O.fragment?`#${function Er(x){return encodeURI(x)}(O.fragment)}`:""}`}}const sn=new vt;function mt(x){return x.segments.map(O=>Vs(O)).join("/")}function on(x,O){if(!x.hasChildren())return mt(x);if(O){const $=x.children[ri]?on(x.children[ri],!1):"",T=[];return Object.entries(x.children).forEach(([W,_e])=>{W!==ri&&T.push(`${W}:${on(_e,!1)}`)}),T.length>0?`${$}(${T.join("//")})`:$}{const $=function po(x,O){let $=[];return Object.entries(x.children).forEach(([T,W])=>{T===ri&&($=$.concat(O(W,T)))}),Object.entries(x.children).forEach(([T,W])=>{T!==ri&&($=$.concat(O(W,T)))}),$}(x,(T,W)=>W===ri?[on(x.children[ri],!1)]:[`${W}:${on(T,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[ri]?`${mt(x)}/${$[0]}`:`${mt(x)}/(${$.join("//")})`}}function Gn(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function si(x){return Gn(x).replace(/%3B/gi,";")}function Mr(x){return Gn(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function os(x){return decodeURIComponent(x)}function Qs(x){return os(x.replace(/\+/g,"%20"))}function Vs(x){return`${Mr(x.path)}${function ro(x){return Object.entries(x).map(([O,$])=>`;${Mr(O)}=${Mr($)}`).join("")}(x.parameters)}`}const so=/^[^\/()?;#]+/;function Cs(x){const O=x.match(so);return O?O[0]:""}const Ji=/^[^\/()?;=#]+/,So=/^[^=?&#]+/,wa=/^[^&#]+/;class br{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wi([],{}):new Wi([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let $={};this.peekStartsWith("/(")&&(this.capture("/"),$=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(O.length>0||Object.keys($).length>0)&&(T[ri]=new Wi(O,$)),T}parseSegment(){const O=Cs(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new m.wOt(4009,!1);return this.capture(O),new Xr(os(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const $=function Fo(x){const O=x.match(Ji);return O?O[0]:""}(this.remaining);if(!$)return;this.capture($);let T="";if(this.consumeOptional("=")){const W=Cs(this.remaining);W&&(T=W,this.capture(T))}O[os($)]=os(T)}parseQueryParam(O){const $=function Ho(x){const O=x.match(So);return O?O[0]:""}(this.remaining);if(!$)return;this.capture($);let T="";if(this.consumeOptional("=")){const Oe=function ko(x){const O=x.match(wa);return O?O[0]:""}(this.remaining);Oe&&(T=Oe,this.capture(T))}const W=Qs($),_e=Qs(T);if(O.hasOwnProperty(W)){let Oe=O[W];Array.isArray(Oe)||(Oe=[Oe],O[W]=Oe),Oe.push(_e)}else O[W]=_e}parseParens(O){const $={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Cs(this.remaining),W=this.remaining[T.length];if("/"!==W&&")"!==W&&";"!==W)throw new m.wOt(4010,!1);let _e;T.indexOf(":")>-1?(_e=T.slice(0,T.indexOf(":")),this.capture(_e),this.capture(":")):O&&(_e=ri);const Oe=this.parseChildren();$[_e]=1===Object.keys(Oe).length?Oe[ri]:new Wi([],Oe),this.consumeOptional("//")}return $}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new m.wOt(4011,!1)}}function la(x){return x.segments.length>0?new Wi([],{[ri]:x}):x}function vo(x){const O={};for(const[T,W]of Object.entries(x.children)){const _e=vo(W);if(T===ri&&0===_e.segments.length&&_e.hasChildren())for(const[Oe,kt]of Object.entries(_e.children))O[Oe]=kt;else(_e.segments.length>0||_e.hasChildren())&&(O[T]=_e)}return function Ps(x){if(1===x.numberOfChildren&&x.children[ri]){const O=x.children[ri];return new Wi(x.segments.concat(O.segments),O.children)}return x}(new Wi(x.segments,O))}function Os(x){return x instanceof ds}function Ws(x){var O;let $;const _e=la(function T(Oe){const kt={};for(const zt of Oe.children){const Li=T(zt);kt[zt.outlet]=Li}const Un=new Wi(Oe.url,kt);return Oe===x&&($=Un),Un}(x.root));return null!==(O=$)&&void 0!==O?O:_e}function ca(x,O,$,T){let W=x;for(;W.parent;)W=W.parent;if(0===O.length)return we(W,W,W,$,T);const _e=function Je(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new de(!0,0,x);let O=0,$=!1;const T=x.reduce((W,_e,Oe)=>{if("object"==typeof _e&&null!=_e){if(_e.outlets){const kt={};return Object.entries(_e.outlets).forEach(([Un,zt])=>{kt[Un]="string"==typeof zt?zt.split("/"):zt}),[...W,{outlets:kt}]}if(_e.segmentPath)return[...W,_e.segmentPath]}return"string"!=typeof _e?[...W,_e]:0===Oe?(_e.split("/").forEach((kt,Un)=>{0==Un&&"."===kt||(0==Un&&""===kt?$=!0:".."===kt?O++:""!=kt&&W.push(kt))}),W):[...W,_e]},[]);return new de($,O,T)}(O);if(_e.toRoot())return we(W,W,new Wi([],{}),$,T);const Oe=function Ln(x,O,$){if(x.isAbsolute)return new Lt(O,!0,0);if(!$)return new Lt(O,!1,NaN);if(null===$.parent)return new Lt($,!0,0);const T=Wo(x.commands[0])?0:1;return function ti(x,O,$){let T=x,W=O,_e=$;for(;_e>W;){if(_e-=W,T=T.parent,!T)throw new m.wOt(4005,!1);W=T.segments.length}return new Lt(T,!1,W-_e)}($,$.segments.length-1+T,x.numberOfDoubleDots)}(_e,W,x),kt=Oe.processChildren?es(Oe.segmentGroup,Oe.index,_e.commands):qr(Oe.segmentGroup,Oe.index,_e.commands);return we(W,Oe.segmentGroup,kt,$,T)}function Wo(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function ye(x){return"object"==typeof x&&null!=x&&x.outlets}function we(x,O,$,T,W){let Oe,_e={};T&&Object.entries(T).forEach(([Un,zt])=>{_e[Un]=Array.isArray(zt)?zt.map(Li=>`${Li}`):`${zt}`}),Oe=x===O?$:ut(x,O,$);const kt=la(vo(Oe));return new ds(kt,_e,W)}function ut(x,O,$){const T={};return Object.entries(x.children).forEach(([W,_e])=>{T[W]=_e===O?$:ut(_e,O,$)}),new Wi(x.segments,T)}class de{constructor(O,$,T){if(this.isAbsolute=O,this.numberOfDoubleDots=$,this.commands=T,O&&T.length>0&&Wo(T[0]))throw new m.wOt(4003,!1);const W=T.find(ye);if(W&&W!==wi(T))throw new m.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lt{constructor(O,$,T){this.segmentGroup=O,this.processChildren=$,this.index=T}}function qr(x,O,$){var T;if(null!==(T=x)&&void 0!==T||(x=new Wi([],{})),0===x.segments.length&&x.hasChildren())return es(x,O,$);const W=function $o(x,O,$){let T=0,W=O;const _e={match:!1,pathIndex:0,commandIndex:0};for(;W<x.segments.length;){if(T>=$.length)return _e;const Oe=x.segments[W],kt=$[T];if(ye(kt))break;const Un=`${kt}`,zt=T<$.length-1?$[T+1]:null;if(W>0&&void 0===Un)break;if(Un&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!As(Un,zt,Oe))return _e;T+=2}else{if(!As(Un,{},Oe))return _e;T++}W++}return{match:!0,pathIndex:W,commandIndex:T}}(x,O,$),_e=$.slice(W.commandIndex);if(W.match&&W.pathIndex<x.segments.length){const Oe=new Wi(x.segments.slice(0,W.pathIndex),{});return Oe.children[ri]=new Wi(x.segments.slice(W.pathIndex),x.children),es(Oe,0,_e)}return W.match&&0===_e.length?new Wi(x.segments,{}):W.match&&!x.hasChildren()?bo(x,O,$):W.match?es(x,0,_e):bo(x,O,$)}function es(x,O,$){if(0===$.length)return new Wi(x.segments,{});{const T=function Si(x){return ye(x[0])?x[0].outlets:{[ri]:x}}($),W={};if(Object.keys(T).some(_e=>_e!==ri)&&x.children[ri]&&1===x.numberOfChildren&&0===x.children[ri].segments.length){const _e=es(x.children[ri],O,$);return new Wi(x.segments,_e.children)}return Object.entries(T).forEach(([_e,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(W[_e]=qr(x.children[_e],O,Oe))}),Object.entries(x.children).forEach(([_e,Oe])=>{void 0===T[_e]&&(W[_e]=Oe)}),new Wi(x.segments,W)}}function bo(x,O,$){const T=x.segments.slice(0,O);let W=0;for(;W<$.length;){const _e=$[W];if(ye(_e)){const Un=Uo(_e.outlets);return new Wi(T,Un)}if(0===W&&Wo($[0])){T.push(new Xr(x.segments[O].path,us($[0]))),W++;continue}const Oe=ye(_e)?_e.outlets[ri]:`${_e}`,kt=W<$.length-1?$[W+1]:null;Oe&&kt&&Wo(kt)?(T.push(new Xr(Oe,us(kt))),W+=2):(T.push(new Xr(Oe,{})),W++)}return new Wi(T,{})}function Uo(x){const O={};return Object.entries(x).forEach(([$,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(O[$]=bo(new Wi([],{}),0,T))}),O}function us(x){const O={};return Object.entries(x).forEach(([$,T])=>O[$]=`${T}`),O}function As(x,O,$){return x==$.path&&zr(O,$.parameters)}const Ko="imperative";var Cr=function(x){return x[x.NavigationStart=0]="NavigationStart",x[x.NavigationEnd=1]="NavigationEnd",x[x.NavigationCancel=2]="NavigationCancel",x[x.NavigationError=3]="NavigationError",x[x.RoutesRecognized=4]="RoutesRecognized",x[x.ResolveStart=5]="ResolveStart",x[x.ResolveEnd=6]="ResolveEnd",x[x.GuardsCheckStart=7]="GuardsCheckStart",x[x.GuardsCheckEnd=8]="GuardsCheckEnd",x[x.RouteConfigLoadStart=9]="RouteConfigLoadStart",x[x.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",x[x.ChildActivationStart=11]="ChildActivationStart",x[x.ChildActivationEnd=12]="ChildActivationEnd",x[x.ActivationStart=13]="ActivationStart",x[x.ActivationEnd=14]="ActivationEnd",x[x.Scroll=15]="Scroll",x[x.NavigationSkipped=16]="NavigationSkipped",x}(Cr||{});class Ro{constructor(O,$){this.id=O,this.url=$}}class zs extends Ro{constructor(O,$,T="imperative",W=null){super(O,$),this.type=Cr.NavigationStart,this.navigationTrigger=T,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Js extends Ro{constructor(O,$,T){super(O,$),this.urlAfterRedirects=T,this.type=Cr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var hs=function(x){return x[x.Redirect=0]="Redirect",x[x.SupersededByNewNavigation=1]="SupersededByNewNavigation",x[x.NoDataFromResolver=2]="NoDataFromResolver",x[x.GuardRejected=3]="GuardRejected",x}(hs||{}),gr=function(x){return x[x.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",x[x.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",x}(gr||{});class jr extends Ro{constructor(O,$,T,W){super(O,$),this.reason=T,this.code=W,this.type=Cr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ps extends Ro{constructor(O,$,T,W){super(O,$),this.reason=T,this.code=W,this.type=Cr.NavigationSkipped}}class Xs extends Ro{constructor(O,$,T,W){super(O,$),this.error=T,this.target=W,this.type=Cr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pa extends Ro{constructor(O,$,T,W){super(O,$),this.urlAfterRedirects=T,this.state=W,this.type=Cr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class al extends Ro{constructor(O,$,T,W){super(O,$),this.urlAfterRedirects=T,this.state=W,this.type=Cr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ba extends Ro{constructor(O,$,T,W,_e){super(O,$),this.urlAfterRedirects=T,this.state=W,this.shouldActivate=_e,this.type=Cr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Va extends Ro{constructor(O,$,T,W){super(O,$),this.urlAfterRedirects=T,this.state=W,this.type=Cr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends Ro{constructor(O,$,T,W){super(O,$),this.urlAfterRedirects=T,this.state=W,this.type=Cr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{constructor(O){this.route=O,this.type=Cr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qa{constructor(O){this.route=O,this.type=Cr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ar{constructor(O){this.snapshot=O,this.type=Cr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(O){this.snapshot=O,this.type=Cr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(O){this.snapshot=O,this.type=Cr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(O){this.snapshot=O,this.type=Cr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(O,$,T){this.routerEvent=O,this.position=$,this.anchor=T,this.type=Cr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ea{}class Go{constructor(O){this.url=O}}class oe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Pe,this.attachRef=null}}let Pe=(()=>{var x;class O{constructor(){this.contexts=new Map}onChildOutletCreated(T,W){const _e=this.getOrCreateContext(T);_e.outlet=W,this.contexts.set(T,_e)}onChildOutletDestroyed(T){const W=this.getContext(T);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let W=this.getContext(T);return W||(W=new oe,this.contexts.set(T,W)),W}getContext(T){return this.contexts.get(T)||null}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();class j{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const $=this.pathFromRoot(O);return $.length>1?$[$.length-2]:null}children(O){const $=Le(O,this._root);return $?$.children.map(T=>T.value):[]}firstChild(O){const $=Le(O,this._root);return $&&$.children.length>0?$.children[0].value:null}siblings(O){const $=bt(O,this._root);return $.length<2?[]:$[$.length-2].children.map(W=>W.value).filter(W=>W!==O)}pathFromRoot(O){return bt(O,this._root).map($=>$.value)}}function Le(x,O){if(x===O.value)return O;for(const $ of O.children){const T=Le(x,$);if(T)return T}return null}function bt(x,O){if(x===O.value)return[O];for(const $ of O.children){const T=bt(x,$);if(T.length)return T.unshift(O),T}return[]}class mr{constructor(O,$){this.value=O,this.children=$}toString(){return`TreeNode(${this.value})`}}function oo(x){const O={};return x&&x.children.forEach($=>O[$.value.outlet]=$),O}class te extends j{constructor(O,$){super(O),this.snapshot=$,On(this,O)}toString(){return this.snapshot.toString()}}function Ee(x){const O=function He(x){const _e=new _t([],{},{},"",{},ri,x,null,{});return new En("",new mr(_e,[]))}(x),$=new $t.t([new Xr("",{})]),T=new $t.t({}),W=new $t.t({}),_e=new $t.t({}),Oe=new $t.t(""),kt=new nt($,T,_e,Oe,W,ri,x,O.root);return kt.snapshot=O.root,new te(new mr(kt,[]),O)}class nt{constructor(O,$,T,W,_e,Oe,kt,Un){var zt,Li;this.urlSubject=O,this.paramsSubject=$,this.queryParamsSubject=T,this.fragmentSubject=W,this.dataSubject=_e,this.outlet=Oe,this.component=kt,this._futureSnapshot=Un,this.title=null!==(zt=null===(Li=this.dataSubject)||void 0===Li?void 0:Li.pipe((0,An.T)(Bi=>Bi[Ft])))&&void 0!==zt?zt:(0,je.of)(void 0),this.url=O,this.params=$,this.queryParams=T,this.fragment=W,this.data=_e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var O;return null!==(O=this._paramMap)&&void 0!==O||(this._paramMap=this.params.pipe((0,An.T)($=>cn($)))),this._paramMap}get queryParamMap(){var O;return null!==(O=this._queryParamMap)&&void 0!==O||(this._queryParamMap=this.queryParams.pipe((0,An.T)($=>cn($)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mt(x,O,$="emptyOnly"){var T;let W;const{routeConfig:_e}=x;var Oe;return W=null===O||"always"!==$&&""!==(null==_e?void 0:_e.path)&&(O.component||null!==(T=O.routeConfig)&&void 0!==T&&T.loadComponent)?{params:{...x.params},data:{...x.data},resolve:{...x.data,...null!==(Oe=x._resolvedData)&&void 0!==Oe?Oe:{}}}:{params:{...O.params,...x.params},data:{...O.data,...x.data},resolve:{...x.data,...O.data,...null==_e?void 0:_e.data,...x._resolvedData}},_e&&Ri(_e)&&(W.resolve[Ft]=_e.title),W}class _t{get title(){var O;return null===(O=this.data)||void 0===O?void 0:O[Ft]}constructor(O,$,T,W,_e,Oe,kt,Un,zt){this.url=O,this.params=$,this.queryParams=T,this.fragment=W,this.data=_e,this.outlet=Oe,this.component=kt,this.routeConfig=Un,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var O;return null!==(O=this._paramMap)&&void 0!==O||(this._paramMap=cn(this.params)),this._paramMap}get queryParamMap(){var O;return null!==(O=this._queryParamMap)&&void 0!==O||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class En extends j{constructor(O,$){super($),this.url=O,On(this,$)}toString(){return In(this._root)}}function On(x,O){O.value._routerState=x,O.children.forEach($=>On(x,$))}function In(x){const O=x.children.length>0?` { ${x.children.map(In).join(", ")} } `:"";return`${x.value}${O}`}function Mn(x){if(x.snapshot){const O=x.snapshot,$=x._futureSnapshot;x.snapshot=$,zr(O.queryParams,$.queryParams)||x.queryParamsSubject.next($.queryParams),O.fragment!==$.fragment&&x.fragmentSubject.next($.fragment),zr(O.params,$.params)||x.paramsSubject.next($.params),function hr(x,O){if(x.length!==O.length)return!1;for(let $=0;$<x.length;++$)if(!zr(x[$],O[$]))return!1;return!0}(O.url,$.url)||x.urlSubject.next($.url),zr(O.data,$.data)||x.dataSubject.next($.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function di(x,O){const $=zr(x.params,O.params)&&function jo(x,O){return ss(x,O)&&x.every(($,T)=>zr($.parameters,O[T].parameters))}(x.url,O.url);return $&&!(!x.parent!=!O.parent)&&(!x.parent||di(x.parent,O.parent))}function Ri(x){return"string"==typeof x.title||null===x.title}let ur=(()=>{var x;class O{constructor(){this.activated=null,this._activatedRoute=null,this.name=ri,this.activateEvents=new m.bkB,this.deactivateEvents=new m.bkB,this.attachEvents=new m.bkB,this.detachEvents=new m.bkB,this.parentContexts=(0,m.WQX)(Pe),this.location=(0,m.WQX)(m.c1b),this.changeDetector=(0,m.WQX)(m.gRc),this.environmentInjector=(0,m.WQX)(m.uvJ),this.inputBinder=(0,m.WQX)(Yr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:W,previousValue:_e}=T.name;if(W)return;this.isTrackedInParentContexts(_e)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(_e)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var W;return(null===(W=this.parentContexts.getContext(T))||void 0===W?void 0:W.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,W){var _e;this.activated=T,this._activatedRoute=W,this.location.insert(T.hostView),null===(_e=this.inputBinder)||void 0===_e||_e.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,W){var _e;if(this.isActivated)throw new m.wOt(4013,!1);this._activatedRoute=T;const Oe=this.location,Un=T.snapshot.component,zt=this.parentContexts.getOrCreateContext(this.name).children,Li=new Qi(T,zt,Oe.injector);this.activated=Oe.createComponent(Un,{index:Oe.length,injector:Li,environmentInjector:null!=W?W:this.environmentInjector}),this.changeDetector.markForCheck(),null===(_e=this.inputBinder)||void 0===_e||_e.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275dir=m.FsC({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.OA$]}),O})();class Qi{__ngOutletInjector(O){return new Qi(this.route,this.childContexts,O)}constructor(O,$,T){this.route=O,this.childContexts=$,this.parent=T}get(O,$){return O===nt?this.route:O===Pe?this.childContexts:this.parent.get(O,$)}}const Yr=new m.nKC("");let Po=(()=>{var x;class O{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var W;null===(W=this.outletDataSubscriptions.get(T))||void 0===W||W.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:W}=T,_e=(0,Zt.z)([W.queryParams,W.params,W.data]).pipe((0,Ei.n)(([Oe,kt,Un],zt)=>(Un={...Oe,...kt,...Un},0===zt?(0,je.of)(Un):Promise.resolve(Un)))).subscribe(Oe=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==W||null===W.component)return void this.unsubscribeFromRouteData(T);const kt=(0,m.HJs)(W.component);if(kt)for(const{templateName:Un}of kt.inputs)T.activatedComponentRef.setInput(Un,Oe[Un]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,_e)}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac}),O})();function Rr(x,O,$){if($&&x.shouldReuseRoute(O.value,$.value.snapshot)){const T=$.value;T._futureSnapshot=O.value;const W=function Ao(x,O,$){return O.children.map(T=>{for(const W of $.children)if(x.shouldReuseRoute(T.value,W.value.snapshot))return Rr(x,T,W);return Rr(x,T)})}(x,O,$);return new mr(T,W)}{if(x.shouldAttach(O.value)){const _e=x.retrieve(O.value);if(null!==_e){const Oe=_e.route;return Oe.value._futureSnapshot=O.value,Oe.children=O.children.map(kt=>Rr(x,kt)),Oe}}const T=function Oo(x){return new nt(new $t.t(x.url),new $t.t(x.params),new $t.t(x.queryParams),new $t.t(x.fragment),new $t.t(x.data),x.outlet,x.component,x)}(O.value),W=O.children.map(_e=>Rr(x,_e));return new mr(T,W)}}const xa="ngNavigationCancelingError";function Ka(x,O){const{redirectTo:$,navigationBehaviorOptions:T}=Os(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,W=Oa(!1,hs.Redirect);return W.url=$,W.navigationBehaviorOptions=T,W}function Oa(x,O){const $=new Error(`NavigationCancelingError: ${x||""}`);return $[xa]=!0,$.cancellationCode=O,$}function Pl(x){return!!x&&x[xa]}let ua=(()=>{var x;class O{}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275cmp=m.VBU({type:x,selectors:[["ng-component"]],standalone:!0,features:[m.aNF],decls:1,vars:0,template:function(T,W){1&T&&m.nrm(0,"router-outlet")},dependencies:[ur],encapsulation:2}),O})();function Fe(x){const O=x.children&&x.children.map(Fe),$=O?{...x,children:O}:{...x};return!$.component&&!$.loadComponent&&(O||$.loadChildren)&&$.outlet&&$.outlet!==ri&&($.component=ua),$}function fe(x){return x.outlet||ri}function Me(x){var O;if(!x)return null;if(null!==(O=x.routeConfig)&&void 0!==O&&O._injector)return x.routeConfig._injector;for(let $=x.parent;$;$=$.parent){const T=$.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class lt{constructor(O,$,T,W,_e){this.routeReuseStrategy=O,this.futureState=$,this.currState=T,this.forwardEvent=W,this.inputBindingEnabled=_e}activate(O){const $=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes($,T,O),Mn(this.futureState.root),this.activateChildRoutes($,T,O)}deactivateChildRoutes(O,$,T){const W=oo($);O.children.forEach(_e=>{const Oe=_e.value.outlet;this.deactivateRoutes(_e,W[Oe],T),delete W[Oe]}),Object.values(W).forEach(_e=>{this.deactivateRouteAndItsChildren(_e,T)})}deactivateRoutes(O,$,T){const W=O.value,_e=$?$.value:null;if(W===_e)if(W.component){const Oe=T.getContext(W.outlet);Oe&&this.deactivateChildRoutes(O,$,Oe.children)}else this.deactivateChildRoutes(O,$,T);else _e&&this.deactivateRouteAndItsChildren($,T)}deactivateRouteAndItsChildren(O,$){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,$):this.deactivateRouteAndOutlet(O,$)}detachAndStoreRouteSubtree(O,$){const T=$.getContext(O.value.outlet),W=T&&O.value.component?T.children:$,_e=oo(O);for(const Oe of Object.values(_e))this.deactivateRouteAndItsChildren(Oe,W);if(T&&T.outlet){const Oe=T.outlet.detach(),kt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Oe,route:O,contexts:kt})}}deactivateRouteAndOutlet(O,$){const T=$.getContext(O.value.outlet),W=T&&O.value.component?T.children:$,_e=oo(O);for(const Oe of Object.values(_e))this.deactivateRouteAndItsChildren(Oe,W);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(O,$,T){const W=oo($);O.children.forEach(_e=>{this.activateRoutes(_e,W[_e.value.outlet],T),this.forwardEvent(new Kr(_e.value.snapshot))}),O.children.length&&this.forwardEvent(new Mo(O.value.snapshot))}activateRoutes(O,$,T){const W=O.value,_e=$?$.value:null;if(Mn(W),W===_e)if(W.component){const Oe=T.getOrCreateContext(W.outlet);this.activateChildRoutes(O,$,Oe.children)}else this.activateChildRoutes(O,$,T);else if(W.component){const Oe=T.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const kt=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Oe.children.onOutletReAttached(kt.contexts),Oe.attachRef=kt.componentRef,Oe.route=kt.route.value,Oe.outlet&&Oe.outlet.attach(kt.componentRef,kt.route.value),Mn(kt.route.value),this.activateChildRoutes(O,null,Oe.children)}else{const kt=Me(W.snapshot);Oe.attachRef=null,Oe.route=W,Oe.injector=kt,Oe.outlet&&Oe.outlet.activateWith(W,Oe.injector),this.activateChildRoutes(O,null,Oe.children)}}else this.activateChildRoutes(O,null,T)}}class ct{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Ue{constructor(O,$){this.component=O,this.route=$}}function dt(x,O,$){const T=x._root;return Rn(T,O?O._root:null,$,[T.value])}function Ht(x,O){const $=Symbol(),T=O.get(x,$);return T===$?"function"!=typeof x||(0,m.LfX)(x)?O.get(x):x:T}function Rn(x,O,$,T,W={canDeactivateChecks:[],canActivateChecks:[]}){const _e=oo(O);return x.children.forEach(Oe=>{(function X(x,O,$,T,W={canDeactivateChecks:[],canActivateChecks:[]}){const _e=x.value,Oe=O?O.value:null,kt=$?$.getContext(x.value.outlet):null;if(Oe&&_e.routeConfig===Oe.routeConfig){const Un=function z(x,O,$){if("function"==typeof $)return $(x,O);switch($){case"pathParamsChange":return!ss(x.url,O.url);case"pathParamsOrQueryParamsChange":return!ss(x.url,O.url)||!zr(x.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!di(x,O)||!zr(x.queryParams,O.queryParams);default:return!di(x,O)}}(Oe,_e,_e.routeConfig.runGuardsAndResolvers);Un?W.canActivateChecks.push(new ct(T)):(_e.data=Oe.data,_e._resolvedData=Oe._resolvedData),Rn(x,O,_e.component?kt?kt.children:null:$,T,W),Un&&kt&&kt.outlet&&kt.outlet.isActivated&&W.canDeactivateChecks.push(new Ue(kt.outlet.component,Oe))}else Oe&&ne(O,kt,W),W.canActivateChecks.push(new ct(T)),Rn(x,null,_e.component?kt?kt.children:null:$,T,W)})(Oe,_e[Oe.value.outlet],$,T.concat([Oe.value]),W),delete _e[Oe.value.outlet]}),Object.entries(_e).forEach(([Oe,kt])=>ne(kt,$.getContext(Oe),W)),W}function ne(x,O,$){const T=oo(x),W=x.value;Object.entries(T).forEach(([_e,Oe])=>{ne(Oe,W.component?O?O.children.getContext(_e):null:O,$)}),$.canDeactivateChecks.push(new Ue(W.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,W))}function G(x){return"function"==typeof x}function Xi(x){return x instanceof rt||"EmptyError"===(null==x?void 0:x.name)}const Cn=Symbol("INITIAL_VALUE");function Fn(){return(0,Ei.n)(x=>(0,Zt.z)(x.map(O=>O.pipe(hn(1),function Ke(...x){const O=(0,rn.lI)(x);return(0,en.N)(($,T)=>{(O?Ut(x,$,O):Ut(x,$)).subscribe(T)})}(Cn)))).pipe((0,An.T)(O=>{for(const $ of O)if(!0!==$){if($===Cn)return Cn;if(!1===$||$ instanceof ds)return $}return!0}),(0,ve.p)(O=>O!==Cn),hn(1)))}function yo(x){return(0,Tt.F)(yt(O=>{if(Os(O))throw Ka(0,O)}),(0,An.T)(O=>!0===O))}class wo{constructor(O){this.segmentGroup=O||null}}class na extends Error{constructor(O){super(),this.urlTree=O}}function ao(x){return jt(new wo(x))}class Or{constructor(O,$){this.urlSerializer=O,this.urlTree=$}lineralizeSegments(O,$){let T=[],W=$.root;for(;;){if(T=T.concat(W.segments),0===W.numberOfChildren)return(0,je.of)(T);if(W.numberOfChildren>1||!W.children[ri])return jt(new m.wOt(4e3,!1));W=W.children[ri]}}applyRedirectCommands(O,$,T){const W=this.applyRedirectCreateUrlTree($,this.urlSerializer.parse($),O,T);if($.startsWith("/"))throw new na(W);return W}applyRedirectCreateUrlTree(O,$,T,W){const _e=this.createSegmentGroup(O,$.root,T,W);return new ds(_e,this.createQueryParams($.queryParams,this.urlTree.queryParams),$.fragment)}createQueryParams(O,$){const T={};return Object.entries(O).forEach(([W,_e])=>{if("string"==typeof _e&&_e.startsWith(":")){const kt=_e.substring(1);T[W]=$[kt]}else T[W]=_e}),T}createSegmentGroup(O,$,T,W){const _e=this.createSegments(O,$.segments,T,W);let Oe={};return Object.entries($.children).forEach(([kt,Un])=>{Oe[kt]=this.createSegmentGroup(O,Un,T,W)}),new Wi(_e,Oe)}createSegments(O,$,T,W){return $.map(_e=>_e.path.startsWith(":")?this.findPosParam(O,_e,W):this.findOrReturn(_e,T))}findPosParam(O,$,T){const W=T[$.path.substring(1)];if(!W)throw new m.wOt(4001,!1);return W}findOrReturn(O,$){let T=0;for(const W of $){if(W.path===O.path)return $.splice(T),W;T++}return O}}const Ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fl(x,O,$,T,W){const _e=ha(x,O,$);return _e.matched?(T=function D(x,O){var $;return x.providers&&!x._injector&&(x._injector=(0,m.Ol2)(x.providers,O,`Route: ${x.path}`)),null!==($=x._injector)&&void 0!==$?$:O}(O,T),function ta(x,O,$,T){const W=O.canMatch;if(!W||0===W.length)return(0,je.of)(!0);const _e=W.map(Oe=>{const kt=Ht(Oe,x);return Ur(function ai(x){return x&&G(x.canMatch)}(kt)?kt.canMatch(O,$):(0,m.N4e)(x,()=>kt(O,$)))});return(0,je.of)(_e).pipe(Fn(),yo())}(T,O,$).pipe((0,An.T)(Oe=>!0===Oe?_e:{...Ya}))):(0,je.of)(_e)}function ha(x,O,$){var T,W;if("**"===O.path)return function Na(x){return{matched:!0,parameters:x.length>0?wi(x).parameters:{},consumedSegments:x,remainingSegments:[],positionalParamSegments:{}}}($);if(""===O.path)return"full"===O.pathMatch&&(x.hasChildren()||$.length>0)?{...Ya}:{matched:!0,consumedSegments:[],remainingSegments:$,parameters:{},positionalParamSegments:{}};const Oe=(O.matcher||gi)($,x,O);if(!Oe)return{...Ya};const kt={};Object.entries(null!==(T=Oe.posParams)&&void 0!==T?T:{}).forEach(([zt,Li])=>{kt[zt]=Li.path});const Un=Oe.consumed.length>0?{...kt,...Oe.consumed[Oe.consumed.length-1].parameters}:kt;return{matched:!0,consumedSegments:Oe.consumed,remainingSegments:$.slice(Oe.consumed.length),parameters:Un,positionalParamSegments:null!==(W=Oe.posParams)&&void 0!==W?W:{}}}function xl(x,O,$,T){return $.length>0&&function ll(x,O,$){return $.some(T=>Yl(x,O,T)&&fe(T)!==ri)}(x,$,T)?{segmentGroup:new Wi(O,lc(T,new Wi($,x.children))),slicedSegments:[]}:0===$.length&&function bc(x,O,$){return $.some(T=>Yl(x,O,T))}(x,$,T)?{segmentGroup:new Wi(x.segments,El(x,$,T,x.children)),slicedSegments:$}:{segmentGroup:new Wi(x.segments,x.children),slicedSegments:$}}function El(x,O,$,T){const W={};for(const _e of $)if(Yl(x,O,_e)&&!T[fe(_e)]){const Oe=new Wi([],{});W[fe(_e)]=Oe}return{...T,...W}}function lc(x,O){const $={};$[ri]=O;for(const T of x)if(""===T.path&&fe(T)!==ri){const W=new Wi([],{});$[fe(T)]=W}return $}function Yl(x,O,$){return(!(x.hasChildren()||O.length>0)||"full"!==$.pathMatch)&&""===$.path}class eo{}class go{constructor(O,$,T,W,_e,Oe,kt){this.injector=O,this.configLoader=$,this.rootComponentType=T,this.config=W,this.urlTree=_e,this.paramsInheritanceStrategy=Oe,this.urlSerializer=kt,this.applyRedirects=new Or(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(O){return new m.wOt(4002,`'${O.segmentGroup}'`)}recognize(){const O=xl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(O).pipe((0,An.T)($=>{const T=new _t([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ri,this.rootComponentType,null,{}),W=new mr(T,$),_e=new En("",W),Oe=function Io(x,O,$=null,T=null){return ca(Ws(x),O,$,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,_e.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(_e._root,null),{state:_e,tree:Oe}}))}match(O){return this.processSegmentGroup(this.injector,this.config,O,ri).pipe(Xn(T=>{if(T instanceof na)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof wo?this.noMatchError(T):T}))}inheritParamsAndData(O,$){const T=O.value,W=Mt(T,$,this.paramsInheritanceStrategy);T.params=Object.freeze(W.params),T.data=Object.freeze(W.data),O.children.forEach(_e=>this.inheritParamsAndData(_e,T))}processSegmentGroup(O,$,T,W){return 0===T.segments.length&&T.hasChildren()?this.processChildren(O,$,T):this.processSegment(O,$,T,T.segments,W,!0).pipe((0,An.T)(_e=>_e instanceof mr?[_e]:[]))}processChildren(O,$,T){const W=[];for(const _e of Object.keys(T.children))"primary"===_e?W.unshift(_e):W.push(_e);return(0,Xt.H)(W).pipe(Wt(_e=>{const Oe=T.children[_e],kt=function he(x,O){const $=x.filter(T=>fe(T)===O);return $.push(...x.filter(T=>fe(T)!==O)),$}($,_e);return this.processSegmentGroup(O,kt,Oe,_e)}),function bi(x,O){return(0,en.N)(function dr(x,O,$,T,W){return(_e,Oe)=>{let kt=$,Un=O,zt=0;_e.subscribe((0,gt._)(Oe,Li=>{const Bi=zt++;Un=kt?x(Un,Li,Bi):(kt=!0,Li),T&&Oe.next(Un)},W&&(()=>{kt&&Oe.next(Un),Oe.complete()})))}}(x,O,arguments.length>=2,!0))}((_e,Oe)=>(_e.push(...Oe),_e)),me(null),function rr(x,O){const $=arguments.length>=2;return T=>T.pipe(x?(0,ve.p)((W,_e)=>x(W,_e,T)):xt.D,or(1),$?me(O):Ie(()=>new rt))}(),(0,At.Z)(_e=>{if(null===_e)return ao(T);const Oe=Ga(_e);return function pa(x){x.sort((O,$)=>O.value.outlet===ri?-1:$.value.outlet===ri?1:O.value.outlet.localeCompare($.value.outlet))}(Oe),(0,je.of)(Oe)}))}processSegment(O,$,T,W,_e,Oe){return(0,Xt.H)($).pipe(Wt(kt=>{var Un;return this.processSegmentAgainstRoute(null!==(Un=kt._injector)&&void 0!==Un?Un:O,$,kt,T,W,_e,Oe).pipe(Xn(zt=>{if(zt instanceof wo)return(0,je.of)(null);throw zt}))}),Pt(kt=>!!kt),Xn(kt=>{if(Xi(kt))return function pu(x,O,$){return 0===O.length&&!x.children[$]}(T,W,_e)?(0,je.of)(new eo):ao(T);throw kt}))}processSegmentAgainstRoute(O,$,T,W,_e,Oe,kt){return function cl(x,O,$,T){return!!(fe(x)===T||T!==ri&&Yl(O,$,x))&&ha(O,x,$).matched}(T,W,_e,Oe)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(O,W,T,_e,Oe):this.allowRedirects&&kt?this.expandSegmentAgainstRouteUsingRedirect(O,W,$,T,_e,Oe):ao(W):ao(W)}expandSegmentAgainstRouteUsingRedirect(O,$,T,W,_e,Oe){const{matched:kt,consumedSegments:Un,positionalParamSegments:zt,remainingSegments:Li}=ha($,W,_e);if(!kt)return ao($);W.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Bi=this.applyRedirects.applyRedirectCommands(Un,W.redirectTo,zt);return this.applyRedirects.lineralizeSegments(W,Bi).pipe((0,At.Z)(Zo=>this.processSegment(O,T,$,Zo.concat(Li),Oe,!1)))}matchSegmentAgainstRoute(O,$,T,W,_e){const Oe=fl($,T,W,O);return"**"===T.path&&($.children={}),Oe.pipe((0,Ei.n)(kt=>{var Un;return kt.matched?(O=null!==(Un=T._injector)&&void 0!==Un?Un:O,this.getChildConfig(O,T,W).pipe((0,Ei.n)(({routes:zt})=>{var Li,Bi,Zo;const xo=null!==(Li=T._loadedInjector)&&void 0!==Li?Li:O,{consumedSegments:za,remainingSegments:Xc,parameters:el}=kt,vu=new _t(za,el,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function mu(x){return x.data||{}}(T),fe(T),null!==(Bi=null!==(Zo=T.component)&&void 0!==Zo?Zo:T._loadedComponent)&&void 0!==Bi?Bi:null,T,function Ea(x){return x.resolve||{}}(T)),{segmentGroup:Sc,slicedSegments:yu}=xl($,za,Xc,zt);if(0===yu.length&&Sc.hasChildren())return this.processChildren(xo,zt,Sc).pipe((0,An.T)(id=>null===id?null:new mr(vu,id)));if(0===zt.length&&0===yu.length)return(0,je.of)(new mr(vu,[]));const yr=fe(T)===_e;return this.processSegment(xo,zt,Sc,yu,yr?ri:_e,!0).pipe((0,An.T)(id=>new mr(vu,id instanceof mr?[id]:[])))}))):ao($)}))}getChildConfig(O,$,T){return $.children?(0,je.of)({routes:$.children,injector:O}):$.loadChildren?void 0!==$._loadedRoutes?(0,je.of)({routes:$._loadedRoutes,injector:$._loadedInjector}):function Ns(x,O,$,T){const W=O.canLoad;if(void 0===W||0===W.length)return(0,je.of)(!0);const _e=W.map(Oe=>{const kt=Ht(Oe,x);return Ur(function Dt(x){return x&&G(x.canLoad)}(kt)?kt.canLoad(O,$):(0,m.N4e)(x,()=>kt(O,$)))});return(0,je.of)(_e).pipe(Fn(),yo())}(O,$,T).pipe((0,At.Z)(W=>W?this.configLoader.loadChildren(O,$).pipe(yt(_e=>{$._loadedRoutes=_e.routes,$._loadedInjector=_e.injector})):function Vn(x){return jt(Oa(!1,hs.GuardRejected))}())):(0,je.of)({routes:[],injector:O})}}function Za(x){const O=x.value.routeConfig;return O&&""===O.path}function Ga(x){const O=[],$=new Set;for(const T of x){if(!Za(T)){O.push(T);continue}const W=O.find(_e=>T.value.routeConfig===_e.value.routeConfig);void 0!==W?(W.children.push(...T.children),$.add(W)):O.push(T)}for(const T of $){const W=Ga(T.children);O.push(new mr(T.value,W))}return O.filter(T=>!$.has(T))}function Qa(x){const O=x.children.map($=>Qa($)).flat();return[x,...O]}function Ml(x){return(0,Ei.n)(O=>{const $=x(O);return $?(0,Xt.H)($).pipe((0,An.T)(()=>O)):(0,je.of)(O)})}let ia=(()=>{var x;class O{buildTitle(T){let W,_e=T.root;for(;void 0!==_e;){var Oe;W=null!==(Oe=this.getResolvedTitleForRoute(_e))&&void 0!==Oe?Oe:W,_e=_e.children.find(kt=>kt.outlet===ri)}return W}getResolvedTitleForRoute(T){return T.data[Ft]}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:()=>(0,m.WQX)(Ye),providedIn:"root"}),O})(),Ye=(()=>{var x;class O extends ia{constructor(T){super(),this.title=T}updateTitle(T){const W=this.buildTitle(T);void 0!==W&&this.title.setTitle(W)}}return(x=O).\u0275fac=function(T){return new(T||x)(m.KVO(Fr.hE))},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();const P=new m.nKC("",{providedIn:"root",factory:()=>({})}),J=new m.nKC("");let $e=(()=>{var x;class O{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.WQX)(m.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,je.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const W=Ur(T.loadComponent()).pipe((0,An.T)(tt),yt(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=Oe}),Vr(()=>{this.componentLoaders.delete(T)})),_e=new Tn(W,()=>new pi.B).pipe(pn());return this.componentLoaders.set(T,_e),_e}loadChildren(T,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,je.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const Oe=function q(x,O,$,T){return Ur(x.loadChildren()).pipe((0,An.T)(tt),(0,At.Z)(W=>W instanceof m.Co$||Array.isArray(W)?(0,je.of)(W):(0,Xt.H)(O.compileModuleAsync(W))),(0,An.T)(W=>{T&&T(x);let _e,Oe,kt=!1;return Array.isArray(W)?(Oe=W,!0):(_e=W.create($).injector,Oe=_e.get(J,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(Fe),injector:_e}}))}(W,this.compiler,T,this.onLoadEndListener).pipe(Vr(()=>{this.childrenLoaders.delete(W)})),kt=new Tn(Oe,()=>new pi.B).pipe(pn());return this.childrenLoaders.set(W,kt),kt}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();function tt(x){return function Ae(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let mn=(()=>{var x;class O{}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:()=>(0,m.WQX)(Qn),providedIn:"root"}),O})(),Qn=(()=>{var x;class O{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,W){return T}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();const Nr=new m.nKC(""),Zr=new m.nKC("");function ls(x,O,$){const T=x.get(Zr),W=x.get(Ci.qQ);return x.get(m.SKi).runOutsideAngular(()=>{if(!W.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,new Promise(zt=>setTimeout(zt));let _e;const Oe=new Promise(zt=>{_e=zt}),kt=W.startViewTransition(()=>(_e(),function Ar(x){return new Promise(O=>{(0,m.mal)(O,{injector:x})})}(x))),{onViewTransitionCreated:Un}=T;return Un&&(0,m.N4e)(x,()=>Un({transition:kt,from:O,to:$})),Oe})}let Ts=(()=>{var x;class O{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pi.B,this.transitionAbortSubject=new pi.B,this.configLoader=(0,m.WQX)($e),this.environmentInjector=(0,m.WQX)(m.uvJ),this.urlSerializer=(0,m.WQX)(Rt),this.rootContexts=(0,m.WQX)(Pe),this.location=(0,m.WQX)(Ci.aZ),this.inputBindingEnabled=null!==(0,m.WQX)(Yr,{optional:!0}),this.titleStrategy=(0,m.WQX)(ia),this.options=(0,m.WQX)(P,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,m.WQX)(mn),this.createViewTransition=(0,m.WQX)(Nr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,je.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=_e=>this.events.next(new qa(_e)),this.configLoader.onLoadStartListener=_e=>this.events.next(new mo(_e))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var W;const _e=++this.navigationId;null===(W=this.transitions)||void 0===W||W.next({...this.transitions.value,...T,id:_e})}setupNavigations(T,W,_e){return this.transitions=new $t.t({id:0,currentUrlTree:W,currentRawUrl:W,extractedUrl:this.urlHandlingStrategy.extract(W),urlAfterRedirects:this.urlHandlingStrategy.extract(W),rawUrl:W,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ko,restoredState:null,currentSnapshot:_e.snapshot,targetSnapshot:null,currentRouterState:_e,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.p)(Oe=>0!==Oe.id),(0,An.T)(Oe=>({...Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe.rawUrl)})),(0,Ei.n)(Oe=>{let kt=!1,Un=!1;return(0,je.of)(Oe).pipe((0,Ei.n)(zt=>{var Li;if(this.navigationId>Oe.id)return this.cancelNavigationTransition(Oe,"",hs.SupersededByNewNavigation),st;this.currentTransition=Oe,this.currentNavigation={id:zt.id,initialUrl:zt.rawUrl,extractedUrl:zt.extractedUrl,trigger:zt.source,extras:zt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Bi=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Zo=null!==(Li=zt.extras.onSameUrlNavigation)&&void 0!==Li?Li:T.onSameUrlNavigation;if(!Bi&&"reload"!==Zo){const xo="";return this.events.next(new ps(zt.id,this.urlSerializer.serialize(zt.rawUrl),xo,gr.IgnoredSameUrlNavigation)),zt.resolve(null),st}if(this.urlHandlingStrategy.shouldProcessUrl(zt.rawUrl))return(0,je.of)(zt).pipe((0,Ei.n)(xo=>{var za,Xc;const el=null===(za=this.transitions)||void 0===za?void 0:za.getValue();return this.events.next(new zs(xo.id,this.urlSerializer.serialize(xo.extractedUrl),xo.source,xo.restoredState)),el!==(null===(Xc=this.transitions)||void 0===Xc?void 0:Xc.getValue())?st:Promise.resolve(xo)}),function fo(x,O,$,T,W,_e){return(0,At.Z)(Oe=>function Sl(x,O,$,T,W,_e,Oe="emptyOnly"){return new go(x,O,$,T,W,Oe,_e).recognize()}(x,O,$,T,Oe.extractedUrl,W,_e).pipe((0,An.T)(({state:kt,tree:Un})=>({...Oe,targetSnapshot:kt,urlAfterRedirects:Un}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(xo=>{Oe.targetSnapshot=xo.targetSnapshot,Oe.urlAfterRedirects=xo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xo.urlAfterRedirects};const za=new Pa(xo.id,this.urlSerializer.serialize(xo.extractedUrl),this.urlSerializer.serialize(xo.urlAfterRedirects),xo.targetSnapshot);this.events.next(za)}));if(Bi&&this.urlHandlingStrategy.shouldProcessUrl(zt.currentRawUrl)){const{id:xo,extractedUrl:za,source:Xc,restoredState:el,extras:vu}=zt,Sc=new zs(xo,this.urlSerializer.serialize(za),Xc,el);this.events.next(Sc);const yu=Ee(this.rootComponentType).snapshot;return this.currentTransition=Oe={...zt,targetSnapshot:yu,urlAfterRedirects:za,extras:{...vu,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=za,(0,je.of)(Oe)}{const xo="";return this.events.next(new ps(zt.id,this.urlSerializer.serialize(zt.extractedUrl),xo,gr.IgnoredByUrlHandlingStrategy)),zt.resolve(null),st}}),yt(zt=>{const Li=new al(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Li)}),(0,An.T)(zt=>(this.currentTransition=Oe={...zt,guards:dt(zt.targetSnapshot,zt.currentSnapshot,this.rootContexts)},Oe)),function Gi(x,O){return(0,At.Z)($=>{const{targetSnapshot:T,currentSnapshot:W,guards:{canActivateChecks:_e,canDeactivateChecks:Oe}}=$;return 0===Oe.length&&0===_e.length?(0,je.of)({...$,guardsResult:!0}):function as(x,O,$,T){return(0,Xt.H)(x).pipe((0,At.Z)(W=>function Ui(x,O,$,T,W){const _e=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!_e||0===_e.length)return(0,je.of)(!0);const Oe=_e.map(kt=>{var Un;const zt=null!==(Un=Me(O))&&void 0!==Un?Un:W,Li=Ht(kt,zt);return Ur(function yn(x){return x&&G(x.canDeactivate)}(Li)?Li.canDeactivate(x,O,$,T):(0,m.N4e)(zt,()=>Li(x,O,$,T))).pipe(Pt())});return(0,je.of)(Oe).pipe(Fn())}(W.component,W.route,$,O,T)),Pt(W=>!0!==W,!0))}(Oe,T,W,x).pipe((0,At.Z)(kt=>kt&&function ce(x){return"boolean"==typeof x}(kt)?function fi(x,O,$,T){return(0,Xt.H)(O).pipe(Wt(W=>Ut(function ki(x,O){return null!==x&&O&&O(new ar(x)),(0,je.of)(!0)}(W.route.parent,T),function Ni(x,O){return null!==x&&O&&O(new Ta(x)),(0,je.of)(!0)}(W.route,T),function lr(x,O,$){const T=O[O.length-1],_e=O.slice(0,O.length-1).reverse().map(Oe=>function Ze(x){const O=x.routeConfig?x.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:x,guards:O}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>fn(()=>{const kt=Oe.guards.map(Un=>{var zt;const Li=null!==(zt=Me(Oe.node))&&void 0!==zt?zt:$,Bi=Ht(Un,Li);return Ur(function St(x){return x&&G(x.canActivateChild)}(Bi)?Bi.canActivateChild(T,x):(0,m.N4e)(Li,()=>Bi(T,x))).pipe(Pt())});return(0,je.of)(kt).pipe(Fn())}));return(0,je.of)(_e).pipe(Fn())}(x,W.path,$),function qs(x,O,$){const T=O.routeConfig?O.routeConfig.canActivate:null;if(!T||0===T.length)return(0,je.of)(!0);const W=T.map(_e=>fn(()=>{var Oe;const kt=null!==(Oe=Me(O))&&void 0!==Oe?Oe:$,Un=Ht(_e,kt);return Ur(function Ct(x){return x&&G(x.canActivate)}(Un)?Un.canActivate(O,x):(0,m.N4e)(kt,()=>Un(O,x))).pipe(Pt())}));return(0,je.of)(W).pipe(Fn())}(x,W.route,$))),Pt(W=>!0!==W,!0))}(T,_e,x,O):(0,je.of)(kt)),(0,An.T)(kt=>({...$,guardsResult:kt})))})}(this.environmentInjector,zt=>this.events.next(zt)),yt(zt=>{if(Oe.guardsResult=zt.guardsResult,Os(zt.guardsResult))throw Ka(0,zt.guardsResult);const Li=new Ba(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot,!!zt.guardsResult);this.events.next(Li)}),(0,ve.p)(zt=>!!zt.guardsResult||(this.cancelNavigationTransition(zt,"",hs.GuardRejected),!1)),Ml(zt=>{if(zt.guards.canActivateChecks.length)return(0,je.of)(zt).pipe(yt(Li=>{const Bi=new Va(Li.id,this.urlSerializer.serialize(Li.extractedUrl),this.urlSerializer.serialize(Li.urlAfterRedirects),Li.targetSnapshot);this.events.next(Bi)}),(0,Ei.n)(Li=>{let Bi=!1;return(0,je.of)(Li).pipe(function La(x,O){return(0,At.Z)($=>{const{targetSnapshot:T,guards:{canActivateChecks:W}}=$;if(!W.length)return(0,je.of)($);const _e=new Set(W.map(Un=>Un.route)),Oe=new Set;for(const Un of _e)if(!Oe.has(Un))for(const zt of Qa(Un))Oe.add(zt);let kt=0;return(0,Xt.H)(Oe).pipe(Wt(Un=>_e.has(Un)?function Ol(x,O,$,T){const W=x.routeConfig,_e=x._resolve;return void 0!==(null==W?void 0:W.title)&&!Ri(W)&&(_e[Ft]=W.title),function gu(x,O,$,T){const W=kr(x);if(0===W.length)return(0,je.of)({});const _e={};return(0,Xt.H)(W).pipe((0,At.Z)(Oe=>function Zl(x,O,$,T){var W;const _e=null!==(W=Me(O))&&void 0!==W?W:T,Oe=Ht(x,_e);return Ur(Oe.resolve?Oe.resolve(O,$):(0,m.N4e)(_e,()=>Oe(O,$)))}(x[Oe],O,$,T).pipe(Pt(),yt(kt=>{_e[Oe]=kt}))),or(1),function fr(x){return(0,An.T)(()=>x)}(_e),Xn(Oe=>Xi(Oe)?st:jt(Oe)))}(_e,x,O,T).pipe((0,An.T)(Oe=>(x._resolvedData=Oe,x.data=Mt(x,x.parent,$).resolve,null)))}(Un,T,x,O):(Un.data=Mt(Un,Un.parent,x).resolve,(0,je.of)(void 0))),yt(()=>kt++),or(1),(0,At.Z)(Un=>kt===Oe.size?(0,je.of)($):st))})}(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>Bi=!0,complete:()=>{Bi||this.cancelNavigationTransition(Li,"",hs.NoDataFromResolver)}}))}),yt(Li=>{const Bi=new pr(Li.id,this.urlSerializer.serialize(Li.extractedUrl),this.urlSerializer.serialize(Li.urlAfterRedirects),Li.targetSnapshot);this.events.next(Bi)}))}),Ml(zt=>{const Li=Bi=>{var Zo;const xo=[];null!==(Zo=Bi.routeConfig)&&void 0!==Zo&&Zo.loadComponent&&!Bi.routeConfig._loadedComponent&&xo.push(this.configLoader.loadComponent(Bi.routeConfig).pipe(yt(za=>{Bi.component=za}),(0,An.T)(()=>{})));for(const za of Bi.children)xo.push(...Li(za));return xo};return(0,Zt.z)(Li(zt.targetSnapshot.root)).pipe(me(null),hn(1))}),Ml(()=>this.afterPreactivation()),(0,Ei.n)(()=>{var zt;const{currentSnapshot:Li,targetSnapshot:Bi}=Oe,Zo=null===(zt=this.createViewTransition)||void 0===zt?void 0:zt.call(this,this.environmentInjector,Li.root,Bi.root);return Zo?(0,Xt.H)(Zo).pipe((0,An.T)(()=>Oe)):(0,je.of)(Oe)}),(0,An.T)(zt=>{const Li=function ts(x,O,$){const T=Rr(x,O._root,$?$._root:void 0);return new te(T,O)}(T.routeReuseStrategy,zt.targetSnapshot,zt.currentRouterState);return this.currentTransition=Oe={...zt,targetRouterState:Li},this.currentNavigation.targetRouterState=Li,Oe}),yt(()=>{this.events.next(new ea)}),((x,O,$,T)=>(0,An.T)(W=>(new lt(O,W.targetRouterState,W.currentRouterState,$,T).activate(x),W)))(this.rootContexts,T.routeReuseStrategy,zt=>this.events.next(zt),this.inputBindingEnabled),hn(1),yt({next:zt=>{var Li;kt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Js(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects))),null===(Li=this.titleStrategy)||void 0===Li||Li.updateTitle(zt.targetRouterState.snapshot),zt.resolve(!0)},complete:()=>{kt=!0}}),function cs(x){return(0,en.N)((O,$)=>{(0,Gt.Tg)(x).subscribe((0,gt._)($,()=>$.complete(),_r.l)),!$.closed&&O.subscribe($)})}(this.transitionAbortSubject.pipe(yt(zt=>{throw zt}))),Vr(()=>{var zt;!kt&&!Un&&this.cancelNavigationTransition(Oe,"",hs.SupersededByNewNavigation),(null===(zt=this.currentTransition)||void 0===zt?void 0:zt.id)===Oe.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(zt=>{if(Un=!0,Pl(zt))this.events.next(new jr(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),zt.message,zt.cancellationCode)),function Kl(x){return Pl(x)&&Os(x.url)}(zt)?this.events.next(new Go(zt.url)):Oe.resolve(!1);else{var Li;this.events.next(new Xs(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),zt,null!==(Li=Oe.targetSnapshot)&&void 0!==Li?Li:void 0));try{Oe.resolve(T.errorHandler(zt))}catch(Bi){this.options.resolveNavigationPromiseOnError?Oe.resolve(!1):Oe.reject(Bi)}}return st}))}))}cancelNavigationTransition(T,W,_e){const Oe=new jr(T.id,this.urlSerializer.serialize(T.extractedUrl),W,_e);this.events.next(Oe),T.resolve(!1)}isUpdatingInternalState(){var T,W;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(W=this.currentTransition)||void 0===W?void 0:W.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,W;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(W=this.currentTransition)&&void 0!==W&&W.extras.skipLocationChange)}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();function Ds(x){return x!==Ko}let Co=(()=>{var x;class O{}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:()=>(0,m.WQX)(ei),providedIn:"root"}),O})();class ms{shouldDetach(O){return!1}store(O,$){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,$){return O.routeConfig===$.routeConfig}}let ei=(()=>{var x;class O extends ms{}return(x=O).\u0275fac=(()=>{let $;return function(W){return($||($=m.xGo(x)))(W||x)}})(),x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})(),er=(()=>{var x;class O{}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:()=>(0,m.WQX)(Ls),providedIn:"root"}),O})(),Ls=(()=>{var x;class O extends er{constructor(){super(...arguments),this.location=(0,m.WQX)(Ci.aZ),this.urlSerializer=(0,m.WQX)(Rt),this.options=(0,m.WQX)(P,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,m.WQX)(mn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ds,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ee(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,W;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(W=this.restoredState())||void 0===W?void 0:W.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(W=>{"popstate"===W.type&&T(W.url,W.state)})}handleRouterEvent(T,W){if(T instanceof zs)this.stateMemento=this.createStateMemento();else if(T instanceof ps)this.rawUrlTree=W.initialUrl;else if(T instanceof Pa){if("eager"===this.urlUpdateStrategy&&!W.extras.skipLocationChange){const _e=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl);this.setBrowserUrl(_e,W)}}else T instanceof ea?(this.currentUrlTree=W.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W))):T instanceof jr&&(T.code===hs.GuardRejected||T.code===hs.NoDataFromResolver)?this.restoreHistory(W):T instanceof Xs?this.restoreHistory(W,!0):T instanceof Js&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,W){const _e=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(_e)||W.extras.replaceUrl){const kt={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId)};this.location.replaceState(_e,"",kt)}else{const Oe={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId+1)};this.location.go(_e,"",Oe)}}restoreHistory(T,W=!1){if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-this.browserPageId;0!==Oe?this.location.historyGo(Oe):this.currentUrlTree===T.finalUrl&&0===Oe&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var W;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(W=T.finalUrl)&&void 0!==W?W:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,W){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:W}:{navigationId:T}}}return(x=O).\u0275fac=(()=>{let $;return function(W){return($||($=m.xGo(x)))(W||x)}})(),x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();var To=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(To||{});function gs(x,O){x.events.pipe((0,ve.p)($=>$ instanceof Js||$ instanceof jr||$ instanceof Xs||$ instanceof ps),(0,An.T)($=>$ instanceof Js||$ instanceof ps?To.COMPLETE:$ instanceof jr&&($.code===hs.Redirect||$.code===hs.SupersededByNewNavigation)?To.REDIRECTING:To.FAILED),(0,ve.p)($=>$!==To.REDIRECTING),hn(1)).subscribe(()=>{O()})}function to(x){throw x}const Fa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ss=(()=>{var x;class O{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,W;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,m.WQX)(m.H3F),this.stateManager=(0,m.WQX)(er),this.options=(0,m.WQX)(P,{optional:!0})||{},this.pendingTasks=(0,m.WQX)(m.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,m.WQX)(Ts),this.urlSerializer=(0,m.WQX)(Rt),this.location=(0,m.WQX)(Ci.aZ),this.urlHandlingStrategy=(0,m.WQX)(mn),this._events=new pi.B,this.errorHandler=this.options.errorHandler||to,this.navigated=!1,this.routeReuseStrategy=(0,m.WQX)(Co),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(W=(0,m.WQX)(J,{optional:!0}))||void 0===W?void 0:W.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,m.WQX)(Yr,{optional:!0}),this.eventsSubscription=new Qt.yU,this.isNgZoneEnabled=(0,m.WQX)(m.SKi)instanceof m.SKi&&m.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:_e=>{this.console.warn(_e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(W=>{try{const _e=this.navigationTransitions.currentTransition,Oe=this.navigationTransitions.currentNavigation;if(null!==_e&&null!==Oe)if(this.stateManager.handleRouterEvent(W,Oe),W instanceof jr&&W.code!==hs.Redirect&&W.code!==hs.SupersededByNewNavigation)this.navigated=!0;else if(W instanceof Js)this.navigated=!0;else if(W instanceof Go){const kt=this.urlHandlingStrategy.merge(W.url,_e.currentRawUrl),Un={info:_e.extras.info,skipLocationChange:_e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ds(_e.source)};this.scheduleNavigation(kt,Ko,null,Un,{resolve:_e.resolve,reject:_e.reject,promise:_e.promise})}(function Br(x){return!(x instanceof ea||x instanceof Go)})(W)&&this._events.next(W)}catch(_e){this.navigationTransitions.transitionAbortSubject.next(_e)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){var T;null!==(T=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==T||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((W,_e)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(W,"popstate",_e)},0)}))}navigateToSyncWithBrowser(T,W,_e){const Oe={replaceUrl:!0},kt=null!=_e&&_e.navigationId?_e:null;if(_e){const zt={..._e};delete zt.navigationId,delete zt.\u0275routerPageId,0!==Object.keys(zt).length&&(Oe.state=zt)}const Un=this.parseUrl(T);this.scheduleNavigation(Un,W,kt,Oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Fe),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,W={}){const{relativeTo:_e,queryParams:Oe,fragment:kt,queryParamsHandling:Un,preserveFragment:zt}=W,Li=zt?this.currentUrlTree.fragment:kt;let Zo,Bi=null;switch(Un){case"merge":Bi={...this.currentUrlTree.queryParams,...Oe};break;case"preserve":Bi=this.currentUrlTree.queryParams;break;default:Bi=Oe||null}null!==Bi&&(Bi=this.removeEmptyProps(Bi));try{Zo=Ws(_e?_e.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Zo=this.currentUrlTree.root}return ca(Zo,T,Bi,null!=Li?Li:null)}navigateByUrl(T,W={skipLocationChange:!1}){const _e=Os(T)?T:this.parseUrl(T),Oe=this.urlHandlingStrategy.merge(_e,this.rawUrlTree);return this.scheduleNavigation(Oe,Ko,null,W)}navigate(T,W={skipLocationChange:!1}){return function Ja(x){for(let O=0;O<x.length;O++)if(null==x[O])throw new m.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,W),W)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,W){let _e;if(_e=!0===W?{...Fa}:!1===W?{...Ks}:W,Os(T))return Jr(this.currentUrlTree,T,_e);const Oe=this.parseUrl(T);return Jr(this.currentUrlTree,Oe,_e)}removeEmptyProps(T){return Object.entries(T).reduce((W,[_e,Oe])=>(null!=Oe&&(W[_e]=Oe),W),{})}scheduleNavigation(T,W,_e,Oe,kt){if(this.disposed)return Promise.resolve(!1);let Un,zt,Li;kt?(Un=kt.resolve,zt=kt.reject,Li=kt.promise):Li=new Promise((Zo,xo)=>{Un=Zo,zt=xo});const Bi=this.pendingTasks.add();return gs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Bi))}),this.navigationTransitions.handleNavigationRequest({source:W,restoredState:_e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:Oe,resolve:Un,reject:zt,promise:Li,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Li.catch(Zo=>Promise.reject(Zo))}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})(),hl=(()=>{var x;class O{constructor(T,W,_e,Oe,kt,Un){var zt;this.router=T,this.route=W,this.tabIndexAttribute=_e,this.renderer=Oe,this.el=kt,this.locationStrategy=Un,this.href=null,this.commands=null,this.onChanges=new pi.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Li=null===(zt=kt.nativeElement.tagName)||void 0===zt?void 0:zt.toLowerCase();this.isAnchorElement="a"===Li||"area"===Li,this.isAnchorElement?this.subscription=T.events.subscribe(Bi=>{Bi instanceof Js&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,W,_e,Oe,kt){const Un=this.urlTree;return!!(null===Un||this.isAnchorElement&&(0!==T||W||_e||Oe||kt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Un,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;const W=this.urlTree;this.href=null!==W&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(W)):null;const _e=null===this.href?null:(0,m.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_e)}applyAttributeValue(T,W){const _e=this.renderer,Oe=this.el.nativeElement;null!==W?_e.setAttribute(Oe,T,W):_e.removeAttribute(Oe,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(x=O).\u0275fac=function(T){return new(T||x)(m.rXU(Ss),m.rXU(nt),m.kS0("tabindex"),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(Ci.hb))},x.\u0275dir=m.FsC({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,W){1&T&&m.bIt("click",function(Oe){return W.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&T&&m.BMQ("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[m.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",m.L39],skipLocationChange:[m.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",m.L39],replaceUrl:[m.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",m.L39],routerLink:"routerLink"},standalone:!0,features:[m.GFd,m.OA$]}),O})();class ho{}let ja=(()=>{var x;class O{preload(T,W){return W().pipe(Xn(()=>(0,je.of)(null)))}}return(x=O).\u0275fac=function(T){return new(T||x)},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})(),Cl=(()=>{var x;class O{constructor(T,W,_e,Oe,kt){this.router=T,this.injector=_e,this.preloadingStrategy=Oe,this.loader=kt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.p)(T=>T instanceof Js),Wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,W){const _e=[];for(const zt of W){var Oe,kt;zt.providers&&!zt._injector&&(zt._injector=(0,m.Ol2)(zt.providers,T,`Route: ${zt.path}`));const Li=null!==(Oe=zt._injector)&&void 0!==Oe?Oe:T,Bi=null!==(kt=zt._loadedInjector)&&void 0!==kt?kt:Li;var Un;(zt.loadChildren&&!zt._loadedRoutes&&void 0===zt.canLoad||zt.loadComponent&&!zt._loadedComponent)&&_e.push(this.preloadConfig(Li,zt)),(zt.children||zt._loadedRoutes)&&_e.push(this.processRoutes(Bi,null!==(Un=zt.children)&&void 0!==Un?Un:zt._loadedRoutes))}return(0,Xt.H)(_e).pipe(pt())}preloadConfig(T,W){return this.preloadingStrategy.preload(W,()=>{let _e;_e=W.loadChildren&&void 0===W.canLoad?this.loader.loadChildren(T,W):(0,je.of)(null);const Oe=_e.pipe((0,At.Z)(kt=>{var Un;return null===kt?(0,je.of)(void 0):(W._loadedRoutes=kt.routes,W._loadedInjector=kt.injector,this.processRoutes(null!==(Un=kt.injector)&&void 0!==Un?Un:T,kt.routes))}));if(W.loadComponent&&!W._loadedComponent){const kt=this.loader.loadComponent(W);return(0,Xt.H)([Oe,kt]).pipe(pt())}return Oe})}}return(x=O).\u0275fac=function(T){return new(T||x)(m.KVO(Ss),m.KVO(m.Ql9),m.KVO(m.uvJ),m.KVO(ho),m.KVO($e))},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),O})();const Wa=new m.nKC("");let Ec=(()=>{var x;class O{constructor(T,W,_e,Oe,kt={}){this.urlSerializer=T,this.transitions=W,this.viewportScroller=_e,this.zone=Oe,this.options=kt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,m.WQX)(m.uvJ),kt.scrollPositionRestoration||(kt.scrollPositionRestoration="disabled"),kt.anchorScrolling||(kt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Js?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof ps&&T.code===gr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Jo&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,W){var _e=this;this.zone.runOutsideAngular((0,b.A)(function*(){yield new Promise(Oe=>{setTimeout(()=>{Oe()}),(0,m.mal)(()=>{Oe()},{injector:_e.environmentInjector})}),_e.zone.run(()=>{_e.transitions.events.next(new Jo(T,"popstate"===_e.lastSource?_e.store[_e.restoredId]:null,W))})}))}ngOnDestroy(){var T,W;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(W=this.scrollEventsSubscription)||void 0===W||W.unsubscribe()}}return(x=O).\u0275fac=function(T){m.QTQ()},x.\u0275prov=m.jDH({token:x,factory:x.\u0275fac}),O})();function Da(x,O){return{\u0275kind:x,\u0275providers:O}}function L(){const x=(0,m.WQX)(m.zZn);return O=>{var $,T;const W=x.get(m.o8S);if(O!==W.components[0])return;const _e=x.get(Ss),Oe=x.get(Q);1===x.get(re)&&_e.initialNavigation(),null===($=x.get(it,null,m.$GK.Optional))||void 0===$||$.setUpPreloading(),null===(T=x.get(Wa,null,m.$GK.Optional))||void 0===T||T.init(),_e.resetRootComponentType(W.componentTypes[0]),Oe.closed||(Oe.next(),Oe.complete(),Oe.unsubscribe())}}const Q=new m.nKC("",{factory:()=>new pi.B}),re=new m.nKC("",{providedIn:"root",factory:()=>1}),it=new m.nKC("");function qt(x){return Da(0,[{provide:it,useExisting:Cl},{provide:ho,useExisting:x}])}function jn(x){return Da(9,[{provide:Nr,useValue:ls},{provide:Zr,useValue:{skipNextTransition:!(null==x||!x.skipInitialTransition),...x}}])}const ni=new m.nKC("ROUTER_FORROOT_GUARD"),xi=[Ci.aZ,{provide:Rt,useClass:vt},Ss,Pe,{provide:nt,useFactory:function Jl(x){return x.routerState.root},deps:[Ss]},$e,[]];let Ai=(()=>{var x;class O{constructor(T){}static forRoot(T,W){return{ngModule:O,providers:[xi,[],{provide:J,multi:!0,useValue:T},{provide:ni,useFactory:ir,deps:[[Ss,new m.Xx1,new m.kdw]]},{provide:P,useValue:W||{}},null!=W&&W.useHash?{provide:Ci.hb,useClass:Ci.fw}:{provide:Ci.hb,useClass:Ci.Sm},{provide:Wa,useFactory:()=>{const x=(0,m.WQX)(Ci.Xr),O=(0,m.WQX)(m.SKi),$=(0,m.WQX)(P),T=(0,m.WQX)(Ts),W=(0,m.WQX)(Rt);return $.scrollOffset&&x.setOffset($.scrollOffset),new Ec(W,T,x,O,$)}},null!=W&&W.preloadingStrategy?qt(W.preloadingStrategy).\u0275providers:[],null!=W&&W.initialNavigation?Pi(W):[],null!=W&&W.bindToComponentInputs?Da(8,[Po,{provide:Yr,useExisting:Po}]).\u0275providers:[],null!=W&&W.enableViewTransitions?jn().\u0275providers:[],[{provide:lo,useFactory:L},{provide:m.iLQ,multi:!0,useExisting:lo}]]}}static forChild(T){return{ngModule:O,providers:[{provide:J,multi:!0,useValue:T}]}}}return(x=O).\u0275fac=function(T){return new(T||x)(m.KVO(ni,8))},x.\u0275mod=m.$C({type:x}),x.\u0275inj=m.G2t({}),O})();function ir(x){return"guarded"}function Pi(x){return["disabled"===x.initialNavigation?Da(3,[{provide:m.hnV,multi:!0,useFactory:()=>{const O=(0,m.WQX)(Ss);return()=>{O.setUpLocationChangeListener()}}},{provide:re,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Da(2,[{provide:re,useValue:0},{provide:m.hnV,multi:!0,deps:[m.zZn],useFactory:O=>{const $=O.get(Ci.hj,Promise.resolve());return()=>$.then(()=>new Promise(T=>{const W=O.get(Ss),_e=O.get(Q);gs(W,()=>{T(!0)}),O.get(Ts).afterPreactivation=()=>(T(!0),_e.closed?(0,je.of)(void 0):_e),W.initialNavigation()}))}}]).\u0275providers:[]]}const lo=new m.nKC("")},3656:(Zi,xn,pe)=>{"use strict";pe.d(xn,{Yq:()=>hr,TS:()=>Ft,sR:()=>nn,el:()=>Ji,Sb:()=>Xr,QE:()=>ko,CF:()=>xr,Rg:()=>os,p4:()=>br,jM:()=>ca,q9:()=>_r,Kb:()=>Wo,CE:()=>Fo,pF:()=>So,fL:()=>vo,YV:()=>aa,er:()=>la,z3:()=>Ps});var b=pe(467),m=pe(9842),ke=pe(4438),Et=pe(70),k=pe(177),Xt=pe(5531),je=pe(4442);var Tn=pe(1413),pi=pe(3726),Ci=pe(4412),An=pe(4572),Ei=pe(7673),hn=pe(1635),Ke=pe(5964),ve=pe(5558),me=pe(3669),Ie=pe(9974),at=pe(4360);function Wt(ye,we){return ye===we}var yt=pe(4341);const Xn=["tabsInner"];let rr=(()=>{var ye;class we{constructor(de,Je){(0,m.A)(this,"doc",void 0),(0,m.A)(this,"_readyPromise",void 0),(0,m.A)(this,"win",void 0),(0,m.A)(this,"backButton",new Tn.B),(0,m.A)(this,"keyboardDidShow",new Tn.B),(0,m.A)(this,"keyboardDidHide",new Tn.B),(0,m.A)(this,"pause",new Tn.B),(0,m.A)(this,"resume",new Tn.B),(0,m.A)(this,"resize",new Tn.B),this.doc=de,Je.run(()=>{var Lt;let Ln;this.win=de.defaultView,this.backButton.subscribeWithPriority=function(ti,Si){return this.subscribe(qr=>qr.register(ti,es=>Je.run(()=>Si(es))))},Vr(this.pause,de,"pause",Je),Vr(this.resume,de,"resume",Je),Vr(this.backButton,de,"ionBackButton",Je),Vr(this.resize,this.win,"resize",Je),Vr(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Je),Vr(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Je),this._readyPromise=new Promise(ti=>{Ln=ti}),null!==(Lt=this.win)&&void 0!==Lt&&Lt.cordova?de.addEventListener("deviceready",()=>{Ln("cordova")},{once:!0}):Ln("dom")})}is(de){return(0,Xt.a)(this.win,de)}platforms(){return(0,Xt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(de){return fr(this.win.location.href,de)}isLandscape(){return!this.isPortrait()}isPortrait(){var de,Je;return null===(de=(Je=this.win).matchMedia)||void 0===de?void 0:de.call(Je,"(orientation: portrait)").matches}testUserAgent(de){const Je=this.win.navigator;return!!(null!=Je&&Je.userAgent&&Je.userAgent.indexOf(de)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.KVO(k.qQ),ke.KVO(ke.SKi))}),(0,m.A)(we,"\u0275prov",ke.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),we})();const fr=(ye,we)=>{we=we.replace(/[[\]\\]/g,"\\$&");const de=new RegExp("[\\?&]"+we+"=([^&#]*)").exec(ye);return de?decodeURIComponent(de[1].replace(/\+/g," ")):null},Vr=(ye,we,ut,de)=>{we&&we.addEventListener(ut,Je=>{de.run(()=>{ye.next(null!=Je?Je.detail:void 0)})})};let _r=(()=>{var ye;class we{constructor(de,Je,Lt,Ln){(0,m.A)(this,"location",void 0),(0,m.A)(this,"serializer",void 0),(0,m.A)(this,"router",void 0),(0,m.A)(this,"topOutlet",void 0),(0,m.A)(this,"direction",Fr),(0,m.A)(this,"animated",ri),(0,m.A)(this,"animationBuilder",void 0),(0,m.A)(this,"guessDirection","forward"),(0,m.A)(this,"guessAnimation",void 0),(0,m.A)(this,"lastNavId",-1),this.location=Je,this.serializer=Lt,this.router=Ln,Ln&&Ln.events.subscribe(ti=>{if(ti instanceof Et.Z){const Si=ti.restoredState?ti.restoredState.navigationId:ti.id;this.guessDirection=this.guessAnimation=Si<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?ti.id:Si}}),de.backButton.subscribeWithPriority(0,ti=>{this.pop(),ti()})}navigateForward(de,Je={}){return this.setDirection("forward",Je.animated,Je.animationDirection,Je.animation),this.navigate(de,Je)}navigateBack(de,Je={}){return this.setDirection("back",Je.animated,Je.animationDirection,Je.animation),this.navigate(de,Je)}navigateRoot(de,Je={}){return this.setDirection("root",Je.animated,Je.animationDirection,Je.animation),this.navigate(de,Je)}back(de={animated:!0,animationDirection:"back"}){return this.setDirection("back",de.animated,de.animationDirection,de.animation),this.location.back()}pop(){var de=this;return(0,b.A)(function*(){let Je=de.topOutlet;for(;Je;){if(yield Je.pop())return!0;Je=Je.parentOutlet}return!1})()}setDirection(de,Je,Lt,Ln){this.direction=de,this.animated=cs(de,Je,Lt),this.animationBuilder=Ln}setTopOutlet(de){this.topOutlet=de}consumeTransition(){let Je,de="root";const Lt=this.animationBuilder;return"auto"===this.direction?(de=this.guessDirection,Je=this.guessAnimation):(Je=this.animated,de=this.direction),this.direction=Fr,this.animated=ri,this.animationBuilder=void 0,{direction:de,animation:Je,animationBuilder:Lt}}navigate(de,Je){if(Array.isArray(de))return this.router.navigate(de,Je);{const Lt=this.serializer.parse(de.toString());return void 0!==Je.queryParams&&(Lt.queryParams={...Je.queryParams}),void 0!==Je.fragment&&(Lt.fragment=Je.fragment),this.router.navigateByUrl(Lt,Je)}}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.KVO(rr),ke.KVO(k.aZ),ke.KVO(Et.Sd),ke.KVO(Et.Ix,8))}),(0,m.A)(we,"\u0275prov",ke.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),we})();const cs=(ye,we,ut)=>{if(!1!==we){if(void 0!==ut)return ut;if("forward"===ye||"back"===ye)return ye;if("root"===ye&&!0===we)return"forward"}},Fr="auto",ri=void 0;let Ft=(()=>{var ye;class we{get(de,Je){const Lt=cn();return Lt?Lt.get(de,Je):null}getBoolean(de,Je){const Lt=cn();return!!Lt&&Lt.getBoolean(de,Je)}getNumber(de,Je){const Lt=cn();return Lt?Lt.getNumber(de,Je):0}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)}),(0,m.A)(we,"\u0275prov",ke.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})),we})();const nn=new ke.nKC("USERCONFIG"),cn=()=>{if(typeof window<"u"){const ye=window.Ionic;if(null!=ye&&ye.config)return ye.config}return null};class gi{constructor(we={}){(0,m.A)(this,"data",void 0),this.data=we,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(we){return this.data[we]}}let hr=(()=>{var ye;class we{constructor(){(0,m.A)(this,"zone",(0,ke.WQX)(ke.SKi)),(0,m.A)(this,"applicationRef",(0,ke.WQX)(ke.o8S)),(0,m.A)(this,"config",(0,ke.WQX)(nn))}create(de,Je,Lt){var Ln;return new zr(de,Je,this.applicationRef,this.zone,Lt,null!==(Ln=this.config.useSetInputAPI)&&void 0!==Ln&&Ln)}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)}),(0,m.A)(we,"\u0275prov",ke.jDH({token:ye,factory:ye.\u0275fac})),we})();class zr{constructor(we,ut,de,Je,Lt,Ln){(0,m.A)(this,"environmentInjector",void 0),(0,m.A)(this,"injector",void 0),(0,m.A)(this,"applicationRef",void 0),(0,m.A)(this,"zone",void 0),(0,m.A)(this,"elementReferenceKey",void 0),(0,m.A)(this,"enableSignalsSupport",void 0),(0,m.A)(this,"elRefMap",new WeakMap),(0,m.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=we,this.injector=ut,this.applicationRef=de,this.zone=Je,this.elementReferenceKey=Lt,this.enableSignalsSupport=Ln}attachViewToDom(we,ut,de,Je){return this.zone.run(()=>new Promise(Lt=>{const Ln={...de};void 0!==this.elementReferenceKey&&(Ln[this.elementReferenceKey]=we),Lt(kr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,we,ut,Ln,Je,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(we,ut){return this.zone.run(()=>new Promise(de=>{const Je=this.elRefMap.get(ut);if(Je){Je.destroy(),this.elRefMap.delete(ut);const Lt=this.elEventsMap.get(ut);Lt&&(Lt(),this.elEventsMap.delete(ut))}de()}))}}const kr=(ye,we,ut,de,Je,Lt,Ln,ti,Si,qr,es,$o)=>{const bo=ke.zZn.create({providers:Hr(Si),parent:ut}),Uo=(0,ke.a0P)(ti,{environmentInjector:we,elementInjector:bo}),us=Uo.instance,As=Uo.location.nativeElement;if(Si)if(es&&void 0!==us[es]&&console.error(`[Ionic Error]: ${es} is a reserved property when using ${Ln.tagName.toLowerCase()}. Rename or remove the "${es}" property from ${ti.name}.`),!0===$o&&void 0!==Uo.setInput){const{modal:Cr,popover:Ro,...zs}=Si;for(const Js in zs)Uo.setInput(Js,zs[Js]);void 0!==Cr&&Object.assign(us,{modal:Cr}),void 0!==Ro&&Object.assign(us,{popover:Ro})}else Object.assign(us,Si);if(qr)for(const Cr of qr)As.classList.add(Cr);const Ko=wi(ye,us,As);return Ln.appendChild(As),de.attachView(Uo.hostView),Je.set(As,Uo),Lt.set(As,Ko),As},Di=[je.L,je.a,je.b,je.c,je.d],wi=(ye,we,ut)=>ye.run(()=>{const de=Di.filter(Je=>"function"==typeof we[Je]).map(Je=>{const Lt=Ln=>we[Je](Ln.detail);return ut.addEventListener(Je,Lt),()=>ut.removeEventListener(Je,Lt)});return()=>de.forEach(Je=>Je())}),Ur=new ke.nKC("NavParamsToken"),Hr=ye=>[{provide:Ur,useValue:ye},{provide:gi,useFactory:wr,deps:[Ur]}],wr=ye=>new gi(ye),Jr=(ye,we)=>{const ut=ye.prototype;we.forEach(de=>{Object.defineProperty(ut,de,{get(){return this.el[de]},set(Je){this.z.runOutsideAngular(()=>this.el[de]=Je)}})})},Es=(ye,we)=>{const ut=ye.prototype;we.forEach(de=>{ut[de]=function(){const Je=arguments;return this.z.runOutsideAngular(()=>this.el[de].apply(this.el,Je))}})},io=(ye,we,ut)=>{ut.forEach(de=>ye[de]=(0,pi.R)(we,de))};function $i(ye){return function(ut){const{defineCustomElementFn:de,inputs:Je,methods:Lt}=ye;return void 0!==de&&de(),Je&&Jr(ut,Je),Lt&&Es(ut,Lt),ut}}const _o=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Ir=["present","dismiss","onDidDismiss","onWillDismiss"];let xr=(()=>{var ye;let we=((0,m.A)(ye=class{constructor(de,Je,Lt){(0,m.A)(this,"z",void 0),(0,m.A)(this,"template",void 0),(0,m.A)(this,"isCmpOpen",!1),(0,m.A)(this,"el",void 0),this.z=Lt,this.el=Je.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,de.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,de.detectChanges()}),io(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(de){return new(de||ye)(ke.rXU(ke.gRc),ke.rXU(ke.aKT),ke.rXU(ke.SKi))}),(0,m.A)(ye,"\u0275dir",ke.FsC({type:ye,selectors:[["ion-popover"]],contentQueries:function(de,Je,Lt){if(1&de&&ke.wni(Lt,ke.C4Q,5),2&de){let Ln;ke.mGM(Ln=ke.lsd())&&(Je.template=Ln.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ye);return we=(0,hn.Cg)([$i({inputs:_o,methods:Ir})],we),we})();const ds=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Wi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Xr=(()=>{var ye;let we=((0,m.A)(ye=class{constructor(de,Je,Lt){(0,m.A)(this,"z",void 0),(0,m.A)(this,"template",void 0),(0,m.A)(this,"isCmpOpen",!1),(0,m.A)(this,"el",void 0),this.z=Lt,this.el=Je.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,de.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,de.detectChanges()}),io(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(de){return new(de||ye)(ke.rXU(ke.gRc),ke.rXU(ke.aKT),ke.rXU(ke.SKi))}),(0,m.A)(ye,"\u0275dir",ke.FsC({type:ye,selectors:[["ion-modal"]],contentQueries:function(de,Je,Lt){if(1&de&&ke.wni(Lt,ke.C4Q,5),2&de){let Ln;ke.mGM(Ln=ke.lsd())&&(Je.template=Ln.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ye);return we=(0,hn.Cg)([$i({inputs:ds,methods:Wi})],we),we})();const ss=(ye,we)=>((ye=ye.filter(ut=>ut.stackId!==we.stackId)).push(we),ye),vt=(ye,we)=>{const ut=ye.createUrlTree(["."],{relativeTo:we});return ye.serializeUrl(ut)},sn=(ye,we)=>!we||ye.stackId!==we.stackId,mt=(ye,we)=>{if(!ye)return;const ut=on(we);for(let de=0;de<ut.length;de++){if(de>=ye.length)return ut[de];if(ut[de]!==ye[de])return}},on=ye=>ye.split("/").map(we=>we.trim()).filter(we=>""!==we),Gn=ye=>{ye&&(ye.ref.destroy(),ye.unlistenEvents())};class si{constructor(we,ut,de,Je,Lt,Ln){(0,m.A)(this,"containerEl",void 0),(0,m.A)(this,"router",void 0),(0,m.A)(this,"navCtrl",void 0),(0,m.A)(this,"zone",void 0),(0,m.A)(this,"location",void 0),(0,m.A)(this,"views",[]),(0,m.A)(this,"runningTask",void 0),(0,m.A)(this,"skipTransition",!1),(0,m.A)(this,"tabsPrefix",void 0),(0,m.A)(this,"activeView",void 0),(0,m.A)(this,"nextId",0),this.containerEl=ut,this.router=de,this.navCtrl=Je,this.zone=Lt,this.location=Ln,this.tabsPrefix=void 0!==we?on(we):void 0}createView(we,ut){var de;const Je=vt(this.router,ut),Lt=null==we||null===(de=we.location)||void 0===de?void 0:de.nativeElement,Ln=wi(this.zone,we.instance,Lt);return{id:this.nextId++,stackId:mt(this.tabsPrefix,Je),unlistenEvents:Ln,element:Lt,ref:we,url:Je}}getExistingView(we){const ut=vt(this.router,we),de=this.views.find(Je=>Je.url===ut);return de&&de.ref.changeDetectorRef.reattach(),de}setActive(we){var ut,de;const Je=this.navCtrl.consumeTransition();let{direction:Lt,animation:Ln,animationBuilder:ti}=Je;const Si=this.activeView,qr=sn(we,Si);qr&&(Lt="back",Ln=void 0);const es=this.views.slice();let $o;const bo=this.router;bo.getCurrentNavigation?$o=bo.getCurrentNavigation():null!==(ut=bo.navigations)&&void 0!==ut&&ut.value&&($o=bo.navigations.value),null!==(de=$o)&&void 0!==de&&null!==(de=de.extras)&&void 0!==de&&de.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Uo=this.views.includes(we),us=this.insertView(we,Lt);Uo||we.ref.changeDetectorRef.detectChanges();const As=we.animationBuilder;return void 0===ti&&"back"===Lt&&!qr&&void 0!==As&&(ti=As),Si&&(Si.animationBuilder=ti),this.zone.runOutsideAngular(()=>this.wait(()=>(Si&&Si.ref.changeDetectorRef.detach(),we.ref.changeDetectorRef.reattach(),this.transition(we,Si,Ln,this.canGoBack(1),!1,ti).then(()=>Er(we,us,es,this.location,this.zone)).then(()=>({enteringView:we,direction:Lt,animation:Ln,tabSwitch:qr})))))}canGoBack(we,ut=this.getActiveStackId()){return this.getStack(ut).length>we}pop(we,ut=this.getActiveStackId()){return this.zone.run(()=>{const de=this.getStack(ut);if(de.length<=we)return Promise.resolve(!1);const Je=de[de.length-we-1];let Lt=Je.url;const Ln=Je.savedData;if(Ln){var ti;const qr=Ln.get("primary");null!=qr&&null!==(ti=qr.route)&&void 0!==ti&&null!==(ti=ti._routerState)&&void 0!==ti&&ti.snapshot.url&&(Lt=qr.route._routerState.snapshot.url)}const{animationBuilder:Si}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Lt,{...Je.savedExtras,animation:Si}).then(()=>!0)})}startBackTransition(){const we=this.activeView;if(we){const ut=this.getStack(we.stackId),de=ut[ut.length-2],Je=de.animationBuilder;return this.wait(()=>this.transition(de,we,"back",this.canGoBack(2),!0,Je))}return Promise.resolve()}endBackTransition(we){we?(this.skipTransition=!0,this.pop(1)):this.activeView&&Mr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(we){const ut=this.getStack(we);return ut.length>0?ut[ut.length-1]:void 0}getRootUrl(we){const ut=this.getStack(we);return ut.length>0?ut[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Gn),this.activeView=void 0,this.views=[]}getStack(we){return this.views.filter(ut=>ut.stackId===we)}insertView(we,ut){return this.activeView=we,this.views=((ye,we,ut)=>"root"===ut?ss(ye,we):"forward"===ut?((ye,we)=>(ye.indexOf(we)>=0?ye=ye.filter(de=>de.stackId!==we.stackId||de.id<=we.id):ye.push(we),ye))(ye,we):((ye,we)=>ye.indexOf(we)>=0?ye.filter(de=>de.stackId!==we.stackId||de.id<=we.id):ss(ye,we))(ye,we))(this.views,we,ut),this.views.slice()}transition(we,ut,de,Je,Lt,Ln){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ut===we)return Promise.resolve(!1);const ti=we?we.element:void 0,Si=ut?ut.element:void 0,qr=this.containerEl;return ti&&ti!==Si&&(ti.classList.add("ion-page"),ti.classList.add("ion-page-invisible"),qr.commit)?qr.commit(ti,Si,{duration:void 0===de?0:void 0,direction:de,showGoBack:Je,progressAnimation:Lt,animationBuilder:Ln}):Promise.resolve(!1)}wait(we){var ut=this;return(0,b.A)(function*(){void 0!==ut.runningTask&&(yield ut.runningTask,ut.runningTask=void 0);const de=ut.runningTask=we();return de.finally(()=>ut.runningTask=void 0),de})()}}const Er=(ye,we,ut,de,Je)=>"function"==typeof requestAnimationFrame?new Promise(Lt=>{requestAnimationFrame(()=>{Mr(ye,we,ut,de,Je),Lt()})}):Promise.resolve(),Mr=(ye,we,ut,de,Je)=>{Je.run(()=>ut.filter(Lt=>!we.includes(Lt)).forEach(Gn)),we.forEach(Lt=>{const ti=de.path().split("?")[0].split("#")[0];if(Lt!==ye&&Lt.url!==ti){const Si=Lt.element;Si.setAttribute("aria-hidden","true"),Si.classList.add("ion-page-hidden"),Lt.ref.changeDetectorRef.detach()}})};let os=(()=>{var ye;class we{get activatedComponentRef(){return this.activated}set animation(de){this.nativeEl.animation=de}set animated(de){this.nativeEl.animated=de}set swipeGesture(de){this._swipeGesture=de,this.nativeEl.swipeHandler=de?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Je=>this.stackCtrl.endBackTransition(Je)}:void 0}constructor(de,Je,Lt,Ln,ti,Si,qr,es){(0,m.A)(this,"parentOutlet",void 0),(0,m.A)(this,"nativeEl",void 0),(0,m.A)(this,"activatedView",null),(0,m.A)(this,"tabsPrefix",void 0),(0,m.A)(this,"_swipeGesture",void 0),(0,m.A)(this,"stackCtrl",void 0),(0,m.A)(this,"proxyMap",new WeakMap),(0,m.A)(this,"currentActivatedRoute$",new Ci.t(null)),(0,m.A)(this,"activated",null),(0,m.A)(this,"_activatedRoute",null),(0,m.A)(this,"name",Et.Xk),(0,m.A)(this,"stackWillChange",new ke.bkB),(0,m.A)(this,"stackDidChange",new ke.bkB),(0,m.A)(this,"activateEvents",new ke.bkB),(0,m.A)(this,"deactivateEvents",new ke.bkB),(0,m.A)(this,"parentContexts",(0,ke.WQX)(Et.Zp)),(0,m.A)(this,"location",(0,ke.WQX)(ke.c1b)),(0,m.A)(this,"environmentInjector",(0,ke.WQX)(ke.uvJ)),(0,m.A)(this,"inputBinder",(0,ke.WQX)(Vs,{optional:!0})),(0,m.A)(this,"supportsBindingToComponentInputs",!0),(0,m.A)(this,"config",(0,ke.WQX)(Ft)),(0,m.A)(this,"navCtrl",(0,ke.WQX)(_r)),this.parentOutlet=es,this.nativeEl=Ln.nativeElement,this.name=de||Et.Xk,this.tabsPrefix="true"===Je?vt(ti,qr):void 0,this.stackCtrl=new si(this.tabsPrefix,this.nativeEl,ti,this.navCtrl,Si,Lt),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var de;this.stackCtrl.destroy(),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const de=this.getContext();null!=de&&de.route&&this.activateWith(de.route,de.injector)}new Promise(de=>((ye,we)=>{ye.componentOnReady?ye.componentOnReady().then(ut=>we(ut)):(ye=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(ye):setTimeout(ye)})(()=>we(ye))})(this.nativeEl,de)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(de,Je){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Je=this.getContext();this.activatedView.savedData=new Map(Je.children.contexts);const Lt=this.activatedView.savedData.get("primary");if(Lt&&Je.route&&(Lt.route={...Je.route}),this.activatedView.savedExtras={},Je.route){const Ln=Je.route.snapshot;this.activatedView.savedExtras.queryParams=Ln.queryParams,this.activatedView.savedExtras.fragment=Ln.fragment}}const de=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Je){var Lt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=de;let Ln,ti=this.stackCtrl.getExistingView(de);if(ti){Ln=this.activated=ti.ref;const es=ti.savedData;es&&(this.getContext().children.contexts=es),this.updateActivatedRouteProxy(Ln.instance,de)}else{var Si;const es=de._futureSnapshot,$o=this.parentContexts.getOrCreateContext(this.name).children,bo=new Ci.t(null),Uo=this.createActivatedRouteProxy(bo,de),us=new Qs(Uo,$o,this.location.injector),As=null!==(Si=es.routeConfig.component)&&void 0!==Si?Si:es.component;Ln=this.activated=this.outletContent.createComponent(As,{index:this.outletContent.length,injector:us,environmentInjector:null!=Je?Je:this.environmentInjector}),bo.next(Ln.instance),ti=this.stackCtrl.createView(this.activated,de),this.proxyMap.set(Ln.instance,Uo),this.currentActivatedRoute$.next({component:Ln.instance,activatedRoute:de})}null===(Lt=this.inputBinder)||void 0===Lt||Lt.bindActivatedRouteToOutletComponent(this),this.activatedView=ti,this.navCtrl.setTopOutlet(this);const qr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:ti,tabSwitch:sn(ti,qr)}),this.stackCtrl.setActive(ti).then(es=>{this.activateEvents.emit(Ln.instance),this.stackDidChange.emit(es)})}canGoBack(de=1,Je){return this.stackCtrl.canGoBack(de,Je)}pop(de=1,Je){return this.stackCtrl.pop(de,Je)}getLastUrl(de){const Je=this.stackCtrl.getLastUrl(de);return Je?Je.url:void 0}getLastRouteView(de){return this.stackCtrl.getLastUrl(de)}getRootView(de){return this.stackCtrl.getRootUrl(de)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(de,Je){const Lt=new Et.nX;return Lt._futureSnapshot=Je._futureSnapshot,Lt._routerState=Je._routerState,Lt.snapshot=Je.snapshot,Lt.outlet=Je.outlet,Lt.component=Je.component,Lt._paramMap=this.proxyObservable(de,"paramMap"),Lt._queryParamMap=this.proxyObservable(de,"queryParamMap"),Lt.url=this.proxyObservable(de,"url"),Lt.params=this.proxyObservable(de,"params"),Lt.queryParams=this.proxyObservable(de,"queryParams"),Lt.fragment=this.proxyObservable(de,"fragment"),Lt.data=this.proxyObservable(de,"data"),Lt}proxyObservable(de,Je){return de.pipe((0,Ke.p)(Lt=>!!Lt),(0,ve.n)(Lt=>this.currentActivatedRoute$.pipe((0,Ke.p)(Ln=>null!==Ln&&Ln.component===Lt),(0,ve.n)(Ln=>Ln&&Ln.activatedRoute[Je]),function Pt(ye,we=me.D){return ye=null!=ye?ye:Wt,(0,Ie.N)((ut,de)=>{let Je,Lt=!0;ut.subscribe((0,at._)(de,Ln=>{const ti=we(Ln);(Lt||!ye(Je,ti))&&(Lt=!1,Je=ti,de.next(Ln))}))})}())))}updateActivatedRouteProxy(de,Je){const Lt=this.proxyMap.get(de);if(!Lt)throw new Error("Could not find activated route proxy for view");Lt._futureSnapshot=Je._futureSnapshot,Lt._routerState=Je._routerState,Lt.snapshot=Je.snapshot,Lt.outlet=Je.outlet,Lt.component=Je.component,this.currentActivatedRoute$.next({component:de,activatedRoute:Je})}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.kS0("name"),ke.kS0("tabs"),ke.rXU(k.aZ),ke.rXU(ke.aKT),ke.rXU(Et.Ix),ke.rXU(ke.SKi),ke.rXU(Et.nX),ke.rXU(ye,12))}),(0,m.A)(we,"\u0275dir",ke.FsC({type:ye,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),we})();class Qs{constructor(we,ut,de){(0,m.A)(this,"route",void 0),(0,m.A)(this,"childContexts",void 0),(0,m.A)(this,"parent",void 0),this.route=we,this.childContexts=ut,this.parent=de}get(we,ut){return we===Et.nX?this.route:we===Et.Zp?this.childContexts:this.parent.get(we,ut)}}const Vs=new ke.nKC("");let ro=(()=>{var ye;class we{constructor(){(0,m.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var Je;null===(Je=this.outletDataSubscriptions.get(de))||void 0===Je||Je.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Je}=de,Lt=(0,An.z)([Je.queryParams,Je.params,Je.data]).pipe((0,ve.n)(([Ln,ti,Si],qr)=>(Si={...Ln,...ti,...Si},0===qr?(0,Ei.of)(Si):Promise.resolve(Si)))).subscribe(Ln=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Je||null===Je.component)return void this.unsubscribeFromRouteData(de);const ti=(0,ke.HJs)(Je.component);if(ti)for(const{templateName:Si}of ti.inputs)de.activatedComponentRef.setInput(Si,Ln[Si]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,Lt)}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)}),(0,m.A)(we,"\u0275prov",ke.jDH({token:ye,factory:ye.\u0275fac})),we})();const aa=()=>({provide:Vs,useFactory:so,deps:[Et.Ix]});function so(ye){return null!=ye&&ye.componentInputBindingEnabled?new ro:null}const Cs=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Ji=(()=>{var ye;let we=((0,m.A)(ye=class{constructor(de,Je,Lt,Ln,ti,Si){(0,m.A)(this,"routerOutlet",void 0),(0,m.A)(this,"navCtrl",void 0),(0,m.A)(this,"config",void 0),(0,m.A)(this,"r",void 0),(0,m.A)(this,"z",void 0),(0,m.A)(this,"el",void 0),this.routerOutlet=de,this.navCtrl=Je,this.config=Lt,this.r=Ln,this.z=ti,Si.detach(),this.el=this.r.nativeElement}onClick(de){var Je;const Lt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Je=this.routerOutlet)&&void 0!==Je&&Je.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),de.preventDefault()):null!=Lt&&(this.navCtrl.navigateBack(Lt,{animation:this.routerAnimation}),de.preventDefault())}},"\u0275fac",function(de){return new(de||ye)(ke.rXU(os,8),ke.rXU(_r),ke.rXU(Ft),ke.rXU(ke.aKT),ke.rXU(ke.SKi),ke.rXU(ke.gRc))}),(0,m.A)(ye,"\u0275dir",ke.FsC({type:ye,hostBindings:function(de,Je){1&de&&ke.bIt("click",function(Ln){return Je.onClick(Ln)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ye);return we=(0,hn.Cg)([$i({inputs:Cs})],we),we})(),Fo=(()=>{var ye;class we{constructor(de,Je,Lt,Ln,ti){(0,m.A)(this,"locationStrategy",void 0),(0,m.A)(this,"navCtrl",void 0),(0,m.A)(this,"elementRef",void 0),(0,m.A)(this,"router",void 0),(0,m.A)(this,"routerLink",void 0),(0,m.A)(this,"routerDirection","forward"),(0,m.A)(this,"routerAnimation",void 0),this.locationStrategy=de,this.navCtrl=Je,this.elementRef=Lt,this.router=Ln,this.routerLink=ti}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var de;if(null!==(de=this.routerLink)&&void 0!==de&&de.urlTree){const Je=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Je}}onClick(de){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),de.preventDefault()}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.rXU(k.hb),ke.rXU(_r),ke.rXU(ke.aKT),ke.rXU(Et.Ix),ke.rXU(Et.Wk,8))}),(0,m.A)(we,"\u0275dir",ke.FsC({type:ye,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(de,Je){1&de&&ke.bIt("click",function(Ln){return Je.onClick(Ln)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ke.OA$]})),we})(),So=(()=>{var ye;class we{constructor(de,Je,Lt,Ln,ti){(0,m.A)(this,"locationStrategy",void 0),(0,m.A)(this,"navCtrl",void 0),(0,m.A)(this,"elementRef",void 0),(0,m.A)(this,"router",void 0),(0,m.A)(this,"routerLink",void 0),(0,m.A)(this,"routerDirection","forward"),(0,m.A)(this,"routerAnimation",void 0),this.locationStrategy=de,this.navCtrl=Je,this.elementRef=Lt,this.router=Ln,this.routerLink=ti}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var de;if(null!==(de=this.routerLink)&&void 0!==de&&de.urlTree){const Je=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Je}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.rXU(k.hb),ke.rXU(_r),ke.rXU(ke.aKT),ke.rXU(Et.Ix),ke.rXU(Et.Wk,8))}),(0,m.A)(we,"\u0275dir",ke.FsC({type:ye,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(de,Je){1&de&&ke.bIt("click",function(){return Je.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[ke.OA$]})),we})();const Ho=["animated","animation","root","rootParams","swipeGesture"],wa=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ko=(()=>{var ye;let we=((0,m.A)(ye=class{constructor(de,Je,Lt,Ln,ti,Si){(0,m.A)(this,"z",void 0),(0,m.A)(this,"el",void 0),this.z=ti,Si.detach(),this.el=de.nativeElement,de.nativeElement.delegate=Ln.create(Je,Lt),io(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(de){return new(de||ye)(ke.rXU(ke.aKT),ke.rXU(ke.uvJ),ke.rXU(ke.zZn),ke.rXU(hr),ke.rXU(ke.SKi),ke.rXU(ke.gRc))}),(0,m.A)(ye,"\u0275dir",ke.FsC({type:ye,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ye);return we=(0,hn.Cg)([$i({inputs:Ho,methods:wa})],we),we})(),br=(()=>{var ye;class we{constructor(de){(0,m.A)(this,"navCtrl",void 0),(0,m.A)(this,"tabsInner",void 0),(0,m.A)(this,"ionTabsWillChange",new ke.bkB),(0,m.A)(this,"ionTabsDidChange",new ke.bkB),(0,m.A)(this,"tabBarSlot","bottom"),this.navCtrl=de}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:de,tabSwitch:Je}){const Lt=de.stackId;Je&&void 0!==Lt&&this.ionTabsWillChange.emit({tab:Lt})}onStackDidChange({enteringView:de,tabSwitch:Je}){const Lt=de.stackId;Je&&void 0!==Lt&&(this.tabBar&&(this.tabBar.selectedTab=Lt),this.ionTabsDidChange.emit({tab:Lt}))}select(de){const Je="string"==typeof de,Lt=Je?de:de.detail.tab,Ln=this.outlet.getActiveStackId()===Lt,ti=`${this.outlet.tabsPrefix}/${Lt}`;if(Je||de.stopPropagation(),Ln){const Si=this.outlet.getActiveStackId(),qr=this.outlet.getLastRouteView(Si);if((null==qr?void 0:qr.url)===ti)return;const es=this.outlet.getRootView(Lt);return this.navCtrl.navigateRoot(ti,{...es&&ti===es.url&&es.savedExtras,animated:!0,animationDirection:"back"})}{const Si=this.outlet.getLastRouteView(Lt);return this.navCtrl.navigateRoot((null==Si?void 0:Si.url)||ti,{...null==Si?void 0:Si.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(de=>{const Je=de.el.getAttribute("slot");Je!==this.tabBarSlot&&(this.tabBarSlot=Je,this.relocateTabBar())})}relocateTabBar(){const de=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(de):this.tabsInner.nativeElement.after(de)}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.rXU(_r))}),(0,m.A)(we,"\u0275dir",ke.FsC({type:ye,selectors:[["ion-tabs"]],viewQuery:function(de,Je){if(1&de&&ke.GBs(Xn,7,ke.aKT),2&de){let Lt;ke.mGM(Lt=ke.lsd())&&(Je.tabsInner=Lt.first)}},hostBindings:function(de,Je){1&de&&ke.bIt("ionTabButtonClick",function(Ln){return Je.select(Ln)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),we})();const la=ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(ye):setTimeout(ye);let vo=(()=>{var ye;class we{constructor(de,Je){(0,m.A)(this,"injector",void 0),(0,m.A)(this,"elementRef",void 0),(0,m.A)(this,"onChange",()=>{}),(0,m.A)(this,"onTouched",()=>{}),(0,m.A)(this,"lastValue",void 0),(0,m.A)(this,"statusChanges",void 0),this.injector=de,this.elementRef=Je}writeValue(de){this.elementRef.nativeElement.value=this.lastValue=de,Ps(this.elementRef)}handleValueChange(de,Je){de===this.elementRef.nativeElement&&(Je!==this.lastValue&&(this.lastValue=Je,this.onChange(Je)),Ps(this.elementRef))}_handleBlurEvent(de){de===this.elementRef.nativeElement&&(this.onTouched(),Ps(this.elementRef))}registerOnChange(de){this.onChange=de}registerOnTouched(de){this.onTouched=de}setDisabledState(de){this.elementRef.nativeElement.disabled=de}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let de;try{de=this.injector.get(yt.vO)}catch{}if(!de)return;de.statusChanges&&(this.statusChanges=de.statusChanges.subscribe(()=>Ps(this.elementRef)));const Je=de.control;Je&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ln=>{if(typeof Je[Ln]<"u"){const ti=Je[Ln].bind(Je);Je[Ln]=(...Si)=>{ti(...Si),Ps(this.elementRef)}}})}}return ye=we,(0,m.A)(we,"\u0275fac",function(de){return new(de||ye)(ke.rXU(ke.zZn),ke.rXU(ke.aKT))}),(0,m.A)(we,"\u0275dir",ke.FsC({type:ye,hostBindings:function(de,Je){1&de&&ke.bIt("ionBlur",function(Ln){return Je._handleBlurEvent(Ln.target)})}})),we})();const Ps=ye=>{la(()=>{const we=ye.nativeElement,ut=null!=we.value&&we.value.toString().length>0,de=Os(we);Io(we,de);const Je=we.closest("ion-item");Je&&Io(Je,ut?[...de,"item-has-value"]:de)})},Os=ye=>{const we=ye.classList,ut=[];for(let de=0;de<we.length;de++){const Je=we.item(de);null!==Je&&Ws(Je,"ng-")&&ut.push(`ion-${Je.substring(3)}`)}return ut},Io=(ye,we)=>{const ut=ye.classList;ut.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ut.add(...we)},Ws=(ye,we)=>ye.substring(0,we.length)===we;class ca{shouldDetach(we){return!1}shouldAttach(we){return!1}store(we,ut){}retrieve(we){return null}shouldReuseRoute(we,ut){if(we.routeConfig!==ut.routeConfig)return!1;const de=we.params,Je=ut.params,Lt=Object.keys(de),Ln=Object.keys(Je);if(Lt.length!==Ln.length)return!1;for(const ti of Lt)if(Je[ti]!==de[ti])return!1;return!0}}class Wo{constructor(we){(0,m.A)(this,"ctrl",void 0),this.ctrl=we}create(we){return this.ctrl.create(we||{})}dismiss(we,ut,de){return this.ctrl.dismiss(we,ut,de)}getTop(){return this.ctrl.getTop()}}},7863:(Zi,xn,pe)=>{"use strict";pe.d(xn,{U1:()=>rr,b_:()=>nn,I9:()=>cn,ME:()=>gi,tN:()=>zr,hU:()=>wi,W9:()=>Ur,lO:()=>_o,eU:()=>Ir,iq:()=>xr,KW:()=>ds,he:()=>Gn,Rg:()=>us,ln:()=>Io,Gp:()=>ca,eP:()=>Wo,bv:()=>Go,Je:()=>ve});var b=pe(9842),m=pe(4438),ke=pe(4341),Et=pe(3656),k=pe(1635),Xt=pe(3726),je=pe(177),$t=pe(70),pt=(pe(9986),pe(2725),pe(8454),pe(3314),pe(8607),pe(3664)),It=pe(464),Ut=(pe(5465),pe(6002)),fn=(pe(8476),pe(9672));pe(1970),pe(6411);var Vt=pe(467);const Qt=pt.i,en=function(){var V=(0,Vt.A)(function*(oe,Pe){if(!(typeof window>"u"))return yield Qt(),(0,fn.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Pe)});return function(Pe,j){return V.apply(this,arguments)}}(),gt=["*"],pn=["outletContent"];let ve=(()=>{var V;class oe extends Et.fL{constructor(j,Le){super(j,Le)}_handleChangeEvent(j){this.handleValueChange(j,j.value)}}return V=oe,(0,b.A)(oe,"\u0275fac",function(j){return new(j||V)(m.rXU(m.zZn),m.rXU(m.aKT))}),(0,b.A)(oe,"\u0275dir",m.FsC({type:V,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(j,Le){1&j&&m.bIt("ionChange",function(mr){return Le._handleChangeEvent(mr.target)})},features:[m.Jv_([{provide:ke.kq,useExisting:V,multi:!0}]),m.Vt3]})),oe})();const Ie=(V,oe)=>{const Pe=V.prototype;oe.forEach(j=>{Object.defineProperty(Pe,j,{get(){return this.el[j]},set(Le){this.z.runOutsideAngular(()=>this.el[j]=Le)},configurable:!0})})},at=(V,oe)=>{const Pe=V.prototype;oe.forEach(j=>{Pe[j]=function(){const Le=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,Le))}})},Pt=(V,oe,Pe)=>{Pe.forEach(j=>V[j]=(0,Xt.R)(oe,j))};function yt(V){return function(Pe){const{defineCustomElementFn:j,inputs:Le,methods:bt}=V;return void 0!==j&&j(),Le&&Ie(Pe,Le),bt&&at(Pe,bt),Pe}}let rr=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-app"]],ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({})],oe),oe})(),nn=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],oe),oe})(),cn=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["mode"]})],oe),oe})(),gi=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","mode","translucent"]})],oe),oe})(),zr=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","mode"]})],oe),oe})(),wi=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],oe),oe})(),Ur=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement,Pt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],oe),oe})(),_o=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["fixed"]})],oe),oe})(),Ir=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["collapse","mode","translucent"]})],oe),oe})(),xr=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],oe),oe})(),ds=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement,Pt(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["alt","src"]})],oe),oe})(),Gn=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","mode","position"]})],oe),oe})(),Io=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-row"]],ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({})],oe),oe})(),ca=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement,Pt(this,this.el,["ionChange"])}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],oe),oe})(),Wo=(()=>{var V;let oe=((0,b.A)(V=class{constructor(j,Le,bt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=bt,j.detach(),this.el=Le.nativeElement}},"\u0275fac",function(j){return new(j||V)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(m.SKi))}),(0,b.A)(V,"\u0275cmp",m.VBU({type:V,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(j,Le){1&j&&(m.NAR(),m.SdG(0))},encapsulation:2,changeDetection:0})),V);return oe=(0,k.Cg)([yt({inputs:["disabled","layout","mode","type","value"]})],oe),oe})(),us=(()=>{var V;class oe extends Et.Rg{constructor(j,Le,bt,mr,oo,te,Ee,He){super(j,Le,bt,mr,oo,te,Ee,He),(0,b.A)(this,"parentOutlet",void 0),(0,b.A)(this,"outletContent",void 0),this.parentOutlet=He}}return V=oe,(0,b.A)(oe,"\u0275fac",function(j){return new(j||V)(m.kS0("name"),m.kS0("tabs"),m.rXU(je.aZ),m.rXU(m.aKT),m.rXU($t.Ix),m.rXU(m.SKi),m.rXU($t.nX),m.rXU(V,12))}),(0,b.A)(oe,"\u0275cmp",m.VBU({type:V,selectors:[["ion-router-outlet"]],viewQuery:function(j,Le){if(1&j&&m.GBs(pn,7,m.c1b),2&j){let bt;m.mGM(bt=m.lsd())&&(Le.outletContent=bt.first)}},features:[m.Vt3],ngContentSelectors:gt,decls:3,vars:0,consts:[["outletContent",""]],template:function(j,Le){1&j&&(m.NAR(),m.qex(0,null,0),m.SdG(2),m.bVm())},encapsulation:2})),oe})();const gr={provide:ke.cz,useExisting:(0,m.Rfq)(()=>jr),multi:!0};let jr=(()=>{var V;class oe extends ke.zX{}return V=oe,(0,b.A)(oe,"\u0275fac",(()=>{let Pe;return function(Le){return(Pe||(Pe=m.xGo(V)))(Le||V)}})()),(0,b.A)(oe,"\u0275dir",m.FsC({type:V,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,Le){2&j&&m.BMQ("max",Le._enabled?Le.max:null)},features:[m.Jv_([gr]),m.Vt3]})),oe})();const ps={provide:ke.cz,useExisting:(0,m.Rfq)(()=>Xs),multi:!0};let Xs=(()=>{var V;class oe extends ke.VZ{}return V=oe,(0,b.A)(oe,"\u0275fac",(()=>{let Pe;return function(Le){return(Pe||(Pe=m.xGo(V)))(Le||V)}})()),(0,b.A)(oe,"\u0275dir",m.FsC({type:V,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,Le){2&j&&m.BMQ("min",Le._enabled?Le.min:null)},features:[m.Jv_([ps]),m.Vt3]})),oe})(),qa=(()=>{var V;class oe extends Et.Kb{constructor(){super(Ut.m),(0,b.A)(this,"angularDelegate",(0,m.WQX)(Et.Yq)),(0,b.A)(this,"injector",(0,m.WQX)(m.zZn)),(0,b.A)(this,"environmentInjector",(0,m.WQX)(m.uvJ))}create(j){return super.create({...j,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return V=oe,(0,b.A)(oe,"\u0275fac",function(j){return new(j||V)}),(0,b.A)(oe,"\u0275prov",m.jDH({token:V,factory:V.\u0275fac})),oe})();class Mo extends Et.Kb{constructor(){super(Ut.c),(0,b.A)(this,"angularDelegate",(0,m.WQX)(Et.Yq)),(0,b.A)(this,"injector",(0,m.WQX)(m.zZn)),(0,b.A)(this,"environmentInjector",(0,m.WQX)(m.uvJ))}create(oe){return super.create({...oe,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Kr=(V,oe,Pe)=>()=>{const j=oe.defaultView;if(j&&typeof window<"u"){(0,It.s)({...V,_zoneGate:bt=>Pe.run(bt)});const Le="__zone_symbol__addEventListener"in oe.body?"__zone_symbol__addEventListener":"addEventListener";return function Bt(){var V=[];if(typeof window<"u"){var oe=window;(!oe.customElements||oe.Element&&(!oe.Element.prototype.closest||!oe.Element.prototype.matches||!oe.Element.prototype.remove||!oe.Element.prototype.getRootNode))&&V.push(pe.e(7278).then(pe.t.bind(pe,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||oe.NodeList&&!oe.NodeList.prototype.forEach||!oe.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&V.push(pe.e(9329).then(pe.t.bind(pe,7783,23)))}return Promise.all(V)}().then(()=>en(j,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Et.er,jmp:bt=>Pe.runOutsideAngular(bt),ael(bt,mr,oo,te){bt[Le](mr,oo,te)},rel(bt,mr,oo,te){bt.removeEventListener(mr,oo,te)}}))}};let Go=(()=>{var V;class oe{static forRoot(j={}){return{ngModule:oe,providers:[{provide:Et.sR,useValue:j},{provide:m.hnV,useFactory:Kr,multi:!0,deps:[Et.sR,je.qQ,m.SKi]},Et.Yq,(0,Et.YV)()]}}}return V=oe,(0,b.A)(oe,"\u0275fac",function(j){return new(j||V)}),(0,b.A)(oe,"\u0275mod",m.$C({type:V})),(0,b.A)(oe,"\u0275inj",m.G2t({providers:[qa,Mo],imports:[je.MD]})),oe})()},467:(Zi,xn,pe)=>{"use strict";function b(ke,Et,k,Xt,je,$t,Zt){try{var Yt=ke[$t](Zt),rt=Yt.value}catch(At){return void k(At)}Yt.done?Et(rt):Promise.resolve(rt).then(Xt,je)}function m(ke){return function(){var Et=this,k=arguments;return new Promise(function(Xt,je){var $t=ke.apply(Et,k);function Zt(rt){b($t,Xt,je,Zt,Yt,"next",rt)}function Yt(rt){b($t,Xt,je,Zt,Yt,"throw",rt)}Zt(void 0)})}}pe.d(xn,{A:()=>m})},9842:(Zi,xn,pe)=>{"use strict";function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Xt){return typeof Xt}:function(Xt){return Xt&&"function"==typeof Symbol&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt})(k)}function Et(k,Xt,je){return(Xt=function ke(k){var Xt=function m(k,Xt){if("object"!=b(k)||!k)return k;var je=k[Symbol.toPrimitive];if(void 0!==je){var $t=je.call(k,Xt||"default");if("object"!=b($t))return $t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Xt?String:Number)(k)}(k,"string");return"symbol"==b(Xt)?Xt:String(Xt)}(Xt))in k?Object.defineProperty(k,Xt,{value:je,enumerable:!0,configurable:!0,writable:!0}):k[Xt]=je,k}pe.d(xn,{A:()=>Et})},1635:(Zi,xn,pe)=>{"use strict";function k(ve,me,Ie,at){var yt,Pt=arguments.length,Wt=Pt<3?me:null===at?at=Object.getOwnPropertyDescriptor(me,Ie):at;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Wt=Reflect.decorate(ve,me,Ie,at);else for(var Xn=ve.length-1;Xn>=0;Xn--)(yt=ve[Xn])&&(Wt=(Pt<3?yt(Wt):Pt>3?yt(me,Ie,Wt):yt(me,Ie))||Wt);return Pt>3&&Wt&&Object.defineProperty(me,Ie,Wt),Wt}function At(ve,me,Ie,at){return new(Ie||(Ie=Promise))(function(Wt,yt){function Xn(or){try{bi(at.next(or))}catch(rr){yt(rr)}}function dr(or){try{bi(at.throw(or))}catch(rr){yt(rr)}}function bi(or){or.done?Wt(or.value):function Pt(Wt){return Wt instanceof Ie?Wt:new Ie(function(yt){yt(Wt)})}(or.value).then(Xn,dr)}bi((at=at.apply(ve,me||[])).next())})}function jt(ve){return this instanceof jt?(this.v=ve,this):new jt(ve)}function st(ve,me,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pt,at=Ie.apply(ve,me||[]),Wt=[];return Pt={},yt("next"),yt("throw"),yt("return"),Pt[Symbol.asyncIterator]=function(){return this},Pt;function yt(fr){at[fr]&&(Pt[fr]=function(Vr){return new Promise(function(_r,cs){Wt.push([fr,Vr,_r,cs])>1||Xn(fr,Vr)})})}function Xn(fr,Vr){try{!function dr(fr){fr.value instanceof jt?Promise.resolve(fr.value.v).then(bi,or):rr(Wt[0][2],fr)}(at[fr](Vr))}catch(_r){rr(Wt[0][3],_r)}}function bi(fr){Xn("next",fr)}function or(fr){Xn("throw",fr)}function rr(fr,Vr){fr(Vr),Wt.shift(),Wt.length&&Xn(Wt[0][0],Wt[0][1])}}function Vt(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,me=ve[Symbol.asyncIterator];return me?me.call(ve):(ve=function rn(ve){var me="function"==typeof Symbol&&Symbol.iterator,Ie=me&&ve[me],at=0;if(Ie)return Ie.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&at>=ve.length&&(ve=void 0),{value:ve&&ve[at++],done:!ve}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),Ie={},at("next"),at("throw"),at("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function at(Wt){Ie[Wt]=ve[Wt]&&function(yt){return new Promise(function(Xn,dr){!function Pt(Wt,yt,Xn,dr){Promise.resolve(dr).then(function(bi){Wt({value:bi,done:Xn})},yt)}(Xn,dr,(yt=ve[Wt](yt)).done,yt.value)})}}}pe.d(xn,{AQ:()=>st,Cg:()=>k,N3:()=>jt,sH:()=>At,xN:()=>Vt}),"function"==typeof SuppressedError&&SuppressedError}},Zi=>{Zi(Zi.s=5394)}]);